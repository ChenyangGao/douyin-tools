"use strict";(self.webpackChunkdouyin_live_v2=self.webpackChunkdouyin_live_v2||[]).push([[7854],{76953:(e,t,n)=>{n.d(t,{Z:()=>l});var o,r=n(43500);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}const l=function(e){return r.createElement("svg",a({width:20,height:32,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.6 5.684C.6 2.874 3.02.6 6 .6c2.982 0 5.4 2.273 5.4 5.084 0 2.81-2.418 5.084-5.4 5.084 0 0-1.308.076-1.84.2-.35.076-.944.276-1.309.399a.42.42 0 01-.562-.292c-.054-.225-.034-.756-.018-1.166.011-.289.02-.518-.001-.537C1.249 8.44.6 7.132.6 5.684zm6.814 1.095a.684.684 0 11.394 1.31l-.004.001-.01.003-.032.009a7.48 7.48 0 01-.503.118c-.317.063-.756.13-1.209.13-.453 0-.892-.067-1.208-.13a7.485 7.485 0 01-.504-.118l-.032-.01-.01-.002h-.003l-.002-.002a.683.683 0 01-.462-.85.69.69 0 01.858-.46l.003.002.02.005.085.023a6.1 6.1 0 00.317.071c.269.054.61.103.938.103.328 0 .67-.05.938-.103a6.1 6.1 0 00.402-.094l.02-.005.004-.001z",fill:"#2F3035",fillOpacity:.9})))}},79757:(e,t,n)=>{n.d(t,{Z:()=>l});var o,r=n(43500);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}const l=function(e){return r.createElement("svg",a({width:20,height:32,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.063 1.563a1.063 1.063 0 00-2.126 0v.606A5.964 5.964 0 002.03 8.038v4.504h-.05a1.062 1.062 0 100 2.125h12.042a1.063 1.063 0 000-2.125h-.067V8.038a5.964 5.964 0 00-4.892-5.867v-.608zm-2.126 14.52a1.063 1.063 0 000 2.125h2.125a1.063 1.063 0 000-2.125H6.938z",fill:"#2F3035",fillOpacity:.9})))}},23058:(e,t,n)=>{n.d(t,{q:()=>i});var o=n(67827),r=n.n(o),a=n(52225),l=n(76163);function i(e){let{message:t,socketData:n}=e;(0,a.C)((()=>{const e="websocketkey20230220";let o=[];try{var a,i;o=JSON.parse(null!==(a=null===(i=localStorage)||void 0===i?void 0:i.getItem(e))&&void 0!==a?a:"[]")}catch(c){}if(n){var s;null==t||t.setWebsocketKey(n),null===(s=localStorage)||void 0===s||s.setItem(e,r()(n))}else{const n=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,l.Z)({service_name:"webcast.douyin.live_pc",key:"message_websocket_params"}).then((n=>{var o;null==t||t.setWebsocketKey(n),null===(o=localStorage)||void 0===o||o.setItem(e,r()(n))})).catch((e=>{a>1?n(a-1):null==t||t.setWebsocketKey(o)}))};n(2)}}),[])}},60170:(e,t,n)=>{var o;n.d(t,{l:()=>o,j:()=>r}),function(e){e.GIFT_BAR="gift_bar",e.HEADER="header",e.CATEGORY_TAB="category_tab",e.TAB="tab",e.TITLE_PLUGIN="title_plugin",e.FOLLOW_PLUGIN="follow_plugin",e.COMMENT_PLUGIN="comment_plugin",e.GIFT_SWITCH_PLUGIN="gift_switch_plugin",e.GIFT_BAR_PLUGIN="gift_bar_plugin",e.EFFECT_SWITCH_PLUGIN="effect_switch_plugin",e.GIFT_TRAY_PLUGIN="gift_tray_plugin",e.GIFT_EFFECT_PLUGIN="gift_effect_plugin",e.FANS_CLUB_PLUGIN="fans_club_plugin",e.TOOL_BAR_PLUGIN="tool_bar_plugin",e.QUALITY_SWITCH_PLUGIN="quality_switch_plugin",e.DANMAKU_PLUGIN="danmaku_plugin",e.AUDIO_ROOM_PLUGIN="audio_room_plugin",e.VIDEO_ROOM_PLUGIN="video_room_plugin",e.RTC_LAYER_PLUGIN="rtc_layer_plugin",e.PK_VIEW_PLUGIN="pk_view_plugin",e.LIVING_PLAYER="living_plyaer",e.IFRAME_PLAYER="iframe_player",e.GIFT_ITEM="gift_item",e.GIFT_PANEL="gift_panel",e.LIVE_CATEGORY="live_category",e.LIVE_CARD="live_card",e.RANK_LIST="rank_list",e.ORDER_SING_LIST="order_sing_list",e.ORDER_SING_RULE="order_sing_rule",e.PROMOTION_POP="promotion_pop",e.PROMOTION_LIST_WRAPPER="promotion_list_wrapper",e.FANS_CLUB_POPUP="fans_club_popup",e.USER_POPUP="user_popup",e.CHAT_ROOM_PANEL="chat_room_panel",e.AUDIENCE_PANEL="audience_panel",e.FIXED_CHAT="fixed_chat",e.LIVE_CAROUSEL="live_carousel",e.LIVE_COVER="live_cover",e.LIVE_FULLPLAYER_QULIATY="live_fullplayer_quality"}(o||(o={}));const r="live_component_error_boundary"},87424:(e,t,n)=>{n.d(t,{k:()=>c});var o=n(76735),r=n.n(o),a=n(43500),l=n(27627),i=n(60170);const s=function(e,t,n,o){var a,l;let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"component";var c,u;(null==o||o(e,t),"module"===s)&&(null===(c=window)||void 0===c||null===(u=c.Slardar)||void 0===u||u.call(c,"report",{ev_type:"blank_screen",payload:{timestamp:r()(),score:0,error:{type:"js_error",message:e.message}}}));null===(a=window)||void 0===a||null===(l=a.Slardar)||void 0===l||l.call(a,"sendEvent",{name:i.j,categories:{componentName:n,message:e.message,stack:e.stack,componentStack:t},type:"event"})},c=e=>{let{onError:t,beforeCapture:n,fallback:o,Slardar:r,children:i,type:c="component",componentName:u}=e;const d=a.useCallback(((e,n)=>{s(e,n,u,t,c)}),[c,t,u]);return a.createElement(l.SV,{onError:d,beforeCapture:n,fallback:o,Slardar:r},i)}},89711:(e,t,n)=>{n.d(t,{G:()=>g});var o,r,a,l,i,s,c=n(48588),u=n(74034),d=n(79705),m=n.n(d),h=n(58256),v=n(43500),p=n(43457);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.NONE_DEFAULT=1]="NONE_DEFAULT"}(o||(o={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.NONE_DEFAULT=1]="NONE_DEFAULT"}(r||(r={})),function(e){e[e.RECOMMEND=1]="RECOMMEND",e[e.NOT_RECOMMEND=0]="NOT_RECOMMEND"}(a||(a={})),function(e){e[e.LOGIN=1]="LOGIN",e[e.NOT_LOGIN=0]="NOT_LOGIN"}(l||(l={})),function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"}(i||(i={})),function(e){e[e.UNK_NOWN=0]="UNK_NOWN",e[e.LIVE=1]="LIVE",e[e.FIRST_LIVE=2]="FIRST_LIVE",e[e.RECORD_LIVE=3]="RECORD_LIVE"}(s||(s={}));const g=e=>{let{href:t,children:n,style:o,className:r,passParamKeys:a=[],spa:l,onClick:i,passParams:s={},firstTabName:d,onClickLog:g,title:f,...w}=e;const[_,y]=v.useState(t);v.useEffect((()=>{y(t)}),[t]);const E=v.useCallback((e=>{if(i&&i(e),!t)return;var n;g&&(n={category_name:d,more_detail:f,enter_from:"hot_hover"},window.collectEvent("livesdk_second_tab_click",{url:location.href,url_path:location.pathname,tab_name:"live",...n}));const[o,r]=t.split("?",2),l=[],u=c.U(a),m={...window.__INVISIBLE_QUERY__||{},...u,...s},v=(0,h.stringify)(m);v&&l.push(v),r&&l.push(r),l.length>0?y([o,l.join("&")].join("?")):y(o)}),[t,a,i,s]);return l?v.createElement(p.rU,{to:_||"",style:o,className:m()(r),onClick:E,...w,target:u.f()?"_self":w.target},n):v.createElement("a",{href:globalThis.getFilterXss().filterUrl(_,null,{logType:"js.href/src",reportOnly:!1}),className:r,style:o,onClick:E,...w,target:u.f()?"_self":w.target},n)}},45426:(e,t,n)=>{n.d(t,{C7:()=>Z,yw:()=>K});var o=n(65146),r=n(81711),a=n.n(r),l=n(21805),i=n.n(l),s=n(90823),c=n.n(s),u=n(80051),d=n.n(u),m=n(57617),h=n.n(m),v=n(67948),p=n(94153),g=n(53539);var f=n(3493),w=n.n(f),_=n(56402),y=n.n(_),E=n(9267),b=n.n(E),C=n(56493);const k=e=>{return(t=y()(e,"payload.common.msgId",(0,C.Z)()))?"string"==typeof t?t:"number"==typeof t?"".concat(t):b().fromBits(t.low,t.high,t.unsigned).toString():"";var t};var N=n(35950),T=n(47776),S=n.n(T),I=n(94610),L=n.n(I);function x(e){if(S()(e))return L()(e).call(e,(e=>"object"==typeof e&&null!==e?x(e):e));if("object"==typeof e&&null!==e){var t;const n=h()(e);a()(t=n||[]).call(t,(t=>{const n=e[t],o=/List$/,r=t.replace(o,"");S()(n)&&o.test(t)&&void 0===e[r]&&(e[r]=n),x(n)}))}return e}var P=n(88438),D=n.n(P),M=n(92637),B=n.n(M),A=n(10081),O=n.n(A),W=n(92012),R=n.n(W),F=n(32383),V=n.n(F),U=n(9120),G=n.n(U);const H=["WebcastRoomDataSyncMessage"];class j{constructor(e){(0,o.Z)(this,"ee",void 0),(0,o.Z)(this,"messageService",void 0),(0,o.Z)(this,"messageMap",{}),(0,o.Z)(this,"queue",[]),(0,o.Z)(this,"init",(()=>{this.messageService.subscribe(H.join(","),this.receive)})),(0,o.Z)(this,"subscribe",((e,t)=>(this.ee.on(e,t),D()((()=>{var t,n;a()(t=B()(n=this.ee.eventNames()).call(n,(t=>new RegExp(t).test(e)))).call(t,(e=>{this.messageMap[e]&&this.ee.emit(e,[this.messageMap[e].payload])}))})),()=>{this.ee.off(e,t)}))),(0,o.Z)(this,"unsubscribe",((e,t)=>{this.ee.off(e,t)})),(0,o.Z)(this,"receive",(async e=>{const{liveIMModules:t}=await Promise.all([n.e(3525),n.e(6852),n.e(7073),n.e(2503)]).then(n.bind(n,82503));a()(e).call(e,(e=>{var n,o,r;if(!e||!e.payload||-1===O()(H).call(H,e.method))return;const{bizlogid:a,payload:l,common:i,synckey:s,version:c}=e.payload,u=k(e);if(!t[s])return;const d={method:s,msgId:u,payload:x({common:i,version:c,bizlogid:a,...null===(n=(o=t[s]).deserializeBinary)||void 0===n||null===(r=n.call(o,l))||void 0===r?void 0:r.toObject()})};this.messageMap[s]={bizlogid:a,msgId:u,version:c,payload:d},this.queue.push(d)})),this.publish()})),(0,o.Z)(this,"publish",(()=>{var e,t;a()(e=V()(G()(t=this.queue).call(t,((e,t)=>{var n,o;return{...e,[t.method]:R()(n=null!==(o=e[t.method])&&void 0!==o?o:[]).call(n,t)}}),{}))).call(e,(e=>{let[t,n]=e;this.ee.emit(t,n)})),this.queue=[]})),this.ee=new(w()),this.messageService=e}}var Z;!function(e){e[e.ASYNC=0]="ASYNC",e[e.SYNC=1]="SYNC"}(Z||(Z={}));const K=new class{constructor(){(0,o.Z)(this,"wrds",void 0),(0,o.Z)(this,"room_id_str",""),(0,o.Z)(this,"timer",void 0),(0,o.Z)(this,"ee",void 0),(0,o.Z)(this,"eeSync",void 0),(0,o.Z)(this,"msgIdSets",{}),(0,o.Z)(this,"msgIdSetsSync",{}),(0,o.Z)(this,"queue",[]),(0,o.Z)(this,"liveIMInstance",null),(0,o.Z)(this,"imRequestPath","/webcast/im/fetch/"),(0,o.Z)(this,"websocketKey",[]),this.ee=new(w()),this.eeSync=new(w()),this.wrds=new j(this)}async sdkInit(){try{this.liveIMInstance||(this.liveIMInstance=await async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{websocketKey:o=[]}=arguments.length>1?arguments[1]:void 0;const[{default:r},{liveIMModules:a}]=await d().all([Promise.all([n.e(3525),n.e(6852),n.e(7073),n.e(8937),n.e(7771),n.e(7507),n.e(6035),n.e(3362),n.e(7030),n.e(6803),n.e(2258),n.e(5904),n.e(9454),n.e(7167),n.e(2048),n.e(3186),n.e(2531),n.e(9727),n.e(5367),n.e(6929),n.e(8711)]).then(n.bind(n,9848)),Promise.all([n.e(3525),n.e(6852),n.e(7073),n.e(8937),n.e(7771),n.e(7507),n.e(6035),n.e(3362),n.e(7030),n.e(6803),n.e(2258),n.e(5904),n.e(9454),n.e(7167),n.e(2048),n.e(3186),n.e(1726)]).then(n.bind(n,81726))]),l=""===t?"/webcast/im/fetch/":t;return new r({host:p.Pe(),aid:"6383",live_id:1,app_name:"douyin_web",did_rule:3,modules:a,debug:!1,endpoint:"live_pc",support_wrds:1,im_path:l,websocket_key:o,user_unique_id:null==v||null===(e=g.Es())||void 0===e?void 0:e.user_unique_id})}(this.imRequestPath,{websocketKey:this.websocketKey})),this.liveIMInstance.start({identity:N.nN.Audience,room_id:this.room_id_str}),await(async(e,t)=>{var o;const{liveIMModules:r}=await Promise.all([n.e(3525),n.e(6852),n.e(7073),n.e(8937),n.e(7771),n.e(7507),n.e(6035),n.e(3362),n.e(7030),n.e(6803),n.e(2258),n.e(5904),n.e(9454),n.e(7167),n.e(2048),n.e(3186),n.e(1726)]).then(n.bind(n,81726));a()(o=h()(r)).call(o,(n=>{e.on(n,t)}))})(this.liveIMInstance,(e=>{var t,n;const o=e.toObject(),r={method:null==o||null===(t=o.common)||void 0===t?void 0:t.method,msgId:null==o||null===(n=o.common)||void 0===n?void 0:n.msgId,payload:x(o)};this.queuePush(r),this.publishSync(r)}))}catch(e){}}publishSync(e){const t=this.eeSync.eventNames();a()(t).call(t,(t=>{const n=this.msgIdSetsSync[t],o=k(e);i()(n).call(n,o)||(n.push(o),n.length>100&&n.shift(),new RegExp(e.method).test(t)&&this.eeSync.emit(t,[e]))}))}publish(e){const t=this.ee.eventNames();a()(t).call(t,(t=>{const n=[];a()(e).call(e,(e=>{const o=k(e),r=this.msgIdSets[t];i()(r).call(r,o)||(r.push(o),r.length>100&&r.shift(),new RegExp(e.method).test(t)&&n.push(e))})),n.length&&this.ee.emit(t,n)}))}subscribe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z.ASYNC;return n===Z.ASYNC?(this.msgIdSets[e]=[],this.ee.on(e,t)):(this.eeSync.on(e,t),this.msgIdSetsSync[e]=[]),()=>{n===Z.ASYNC?this.ee.off(e,t):this.eeSync.off(e,t)}}unsubscribe(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z.ASYNC)===Z.ASYNC?this.ee.off(e,t):this.eeSync.off(e,t)}polling(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(this.room_id_str=e,e){var n;if(this.liveIMInstance)null===(n=this.liveIMInstance)||void 0===n||n.stop();this.sdkInit(),this.wrds.init(),this.timer=c()((()=>{this.publish(this.queue),this.queueClear()}),t)}}pause(){clearTimeout(this.timer),this.liveIMInstance.stop()}stop(){var e,t,n;clearTimeout(this.timer),null===(e=this.liveIMInstance)||void 0===e||e.stop(),null===(t=this.ee)||void 0===t||t.removeAllListeners(),null===(n=this.eeSync)||void 0===n||n.removeAllListeners()}get emitter(){return this.ee}queuePush(){this.queue.push(...arguments)}queueClear(){this.queue=[]}pauseMessagePublish(){clearInterval(this.timer)}continueMessagePublish(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.queueClear(),clearInterval(this.timer),this.timer=c()((()=>{this.publish(this.queue),this.queueClear()}),e)}getimReponseHeader(){var e;return null===(e=this.liveIMInstance)||void 0===e?void 0:e.imReponseHeader}getimPushResponseHeader(){var e;return null===(e=this.liveIMInstance)||void 0===e?void 0:e.imPushResponseHeader}getimHeader(){var e,t;return{fetchHeader:null===(e=this.liveIMInstance)||void 0===e?void 0:e.imReponseHeader,pushHeader:null===(t=this.liveIMInstance)||void 0===t?void 0:t.imPushResponseHeader}}setImRequestPath(e){this.imRequestPath=e}setWebsocketKey(e){this.websocketKey=e}}},66331:(e,t,n)=>{n.d(t,{a:()=>p});var o=n(10081),r=n.n(o),a=n(84578),l=n.n(a),i=n(43500),s=n(58256),c=n(79705),u=n.n(c),d=n(43457),m=n(48588),h=n(74034);const v="B3AsdZT9";function p(e){let{href:t="",children:n,style:o,className:a,passParamKeys:c=[],spa:p,isNeedSeoOpt:g=!0,refEl:f,...w}=e;const[_,y]=(0,i.useState)(""),E=(0,i.useRef)(null);(0,i.useEffect)((()=>{const e=m.U({passParamKeys:c}),t=(0,s.stringify)(e);y(t)}),[]);const b=(0,i.useMemo)((()=>{if(!t)return;const e=r()(t).call(t,"#");let n,o;-1!==e?(n=l()(t).call(t,0,e),o=l()(t).call(t,e+1)):(n=t,o="");const a=r()(n).call(n,"?");let[i,s]=["",""];-1!==a?(i=l()(n).call(n,0,a),s=l()(n).call(n,a+1)):(i=n,s="");const c=[];return _&&c.push(_),s&&c.push(s),c.length>0?[i,c.join("&")].join("?")+(o&&"#".concat(o)):i+(o&&"#".concat(o))}),[_,t]);let C=b,k="",N="";return g&&!p&&C&&([C,N]=C.split("#"),[C,k]=C.split("?")),p?i.createElement(d.rU,{to:b,className:u()(v,a),style:o,...w},n):i.createElement("a",{href:globalThis.getFilterXss().filterUrl(C,null,{logType:"js.href/src",reportOnly:!1}),className:u()(v,a),style:o,ref:e=>{E.current=e,f&&(f.current=e)},...w,target:h.f()?"_self":w.target,onClick:e=>{try{var t;E.current.href=globalThis.getFilterXss().filterUrl(b,null,{logType:"js.href/src",reportOnly:!1}),null==w||null===(t=w.onClick)||void 0===t||t.call(w,e)}catch(n){}}},n)}},57320:(e,t,n)=>{n.d(t,{SJ:()=>M,ev:()=>B,zk:()=>O,qR:()=>W,c3:()=>R,ZP:()=>G});var o,r=n(14212),a=n.n(r),l=n(10081),i=n.n(l),s=n(88438),c=n.n(s),u=n(21805),d=n.n(u),m=n(94610),h=n.n(m),v=n(43500),p=n(56504),g=n(70676),f=n.n(g),w=n(79705),_=n.n(w),y=n(42699),E=n(16866),b=n(38284),C=n(9961),k=n(4749),N=n(47948),T=n(18380),S=n(47925),I=n(63254),L=n(12895),x=n(30517),P=n(10920);let D=!1;const M=async()=>{const e=await n.e(9853).then(n.bind(n,79853)).then((e=>e.default)),t=await n.e(5848).then(n.bind(n,65848)).then((e=>e.default));D||(e.use(),t.use(),D=!0)};let B=()=>null;const A=y.p()?null:E.Q,O=(e,t)=>!!e&&new Date(e).toDateString()===new Date(t).toDateString(),W=e=>{if(y.p())return;const t=A&&a()(A.getItem({sKey:e}),10)||0;return t&&O(t,R)||!1},R=(new Date).getTime(),F=!y.p()&&(i()(o=navigator.userAgent).call(o,"Window")>0&&window.devicePixelRatio>1),V=e=>{switch(e){case"LOGIN_MOBILE_CODE":default:return"phone_sms";case"LOGIN_ACCOUNT_PWD":return"phone_password";case"LOGIN_SCAN_CODE":return"qr_code"}};let U="click_x";function G(e){var t;let{config:n,destroy:o,text:r,isPage:a,enterMethod:l="",isCanClose:i=!0,onClose:s=null,loginBgImg:u="https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/login-resetpwd-bg.png",subTitle:m=["\u70b9\u8d5e\u8bc4\u8bba\u968f\u5fc3\u53d1","\u76f4\u64ad\u95f4\u7545\u804a\u6253\u8d4f","\u670b\u53cb\u89c6\u9891\u4e00\u952e\u89c8"]}=e;const g=(0,v.useRef)(null),[w,y]=(0,v.useState)(""),[E,D]=(0,v.useState)(!1),M="PASSWORD_RESET"===w,A=window.DOMAIN&&window.DOMAIN===S.LIVE_XIGUA_DOMAIN?"\u76f4\u64ad\u670d\u52a1\u7531\u6296\u97f3\u63d0\u4f9b \u9700\u767b\u5f55":"\u767b\u5f55\u540e\u6296\u97f3\u66f4\u61c2\u4f60",O="PASSWORD_RESET"===w?"\u91cd\u7f6e\u5bc6\u7801":r||A;B=()=>{b.emit(b.EVENT.showLoginPane,!1),D(!1),c()((()=>{var e;null===(e=g.current)||void 0===e||e.call(g),null==o||o()}),200)};(0,v.useEffect)((()=>{var e;k.Gn();const t=e=>{e.stopPropagation()};return b.emit(b.EVENT.videoStopPlayNext),null===(e=document)||void 0===e||e.addEventListener("keydown",t,!0),()=>{var e;b.emit(b.EVENT.videoRemoveStopPlayNext),null===(e=document)||void 0===e||e.removeEventListener("keydown",t,!0)}}),[]),(0,v.useEffect)((()=>b.listen(b.EVENT.hideModal,o)),[]);const W=v.useCallback((async e=>{if(!e)return;b.emit(b.EVENT.showLoginPane,!0);const t=await(0,x.j1)();null!==I.n&&void 0!==I.n&&I.n.loginGuideShowed&&I.n.destroy();const o=new t({...n,success:e=>{null!=e&&e.redirect_url?f().get(null==e?void 0:e.redirect_url).then((()=>{var t;c()(B,500),null==n||null===(t=n.success)||void 0===t||t.call(n,e)})).catch((()=>{B()})):B()},onPageChange:e=>{y(e),P.Z.sendLog("clickLoginMethod",{enter_from:C.vM(),enter_method:l,login_method:V(e),login_suggest_method:"qr_code"})},getCloseFunc:()=>U,ele:e});g.current=o.init(),o.setTeaConfig({ug_source:N.Rs("ug_source"),sem_keyword:N.Rs("sem_keyword"),browser_is_360:T.a2()?"1":"0"})}),[l,n]);(0,v.useEffect)((()=>{D(!0)}),[]);const R=d()(t=["cold_start_full","cold_start","auto","navigation_bar"]).call(t,l)&&!M,G=v.createElement("div",{id:"login-pannel",className:_()({bigqr:!0},{resetpwd:M},{subtitle:R},{scale:F},{scan_login_text:!0}),style:{background:"#fff url(".concat(u,") no-repeat"),backgroundSize:"100% auto"}},v.createElement("div",{className:"login-pannel__header",onClick:e=>{e.stopPropagation()}},v.createElement("div",{className:"login-pannel__header-title"},O),R&&0!==m.length&&v.createElement("div",{className:"login-pannel__header-title-desc"},v.createElement("ul",{id:"sub-title"},h()(m).call(m,((e,t)=>{return v.createElement("li",{key:t,id:"".concat((n=e,"\u9ad8\u6e05\u89c6\u9891\u514d\u8d39\u770b"===n?"video":"\u70b9\u8d5e\u8bc4\u8bba\u968f\u5fc3\u53d1"===n?"comment":"\u76f4\u64ad\u95f4\u7545\u804a\u6253\u8d4f"===n?"live":"\u670b\u53cb\u89c6\u9891\u4e00\u952e\u89c8"===n?"friend":"video"))},e);var n}))))),!a&&i&&v.createElement("div",{className:"dy-account-close",onClick:e=>{e.stopPropagation(),U="click_x",null==s||s(),B()}}),v.createElement("div",{ref:W,onClick:e=>{e.stopPropagation()}}));return v.createElement(v.Fragment,null,a?v.createElement("div",{className:"login-page"},G):v.createElement(p.Kv,{in:E,classNames:"login-mask",timeout:{enter:400,exit:150},unmountOnExit:!0,appear:!0},v.createElement(L.T,{className:"screen-mask",onClick:()=>{P.Z.sendLog("clickLoginOutside",{enter_method:l,enter_from:C.vM()})}},v.createElement("div",{className:"box-align-center"},v.createElement(p.Kv,{in:E,classNames:"login-pannel",timeout:{enter:400,exit:150},appear:!0,unmountOnExit:!0},G)))))}},82223:(e,t,n)=>{n.d(t,{o:()=>b,w:()=>E});var o=n(88438),r=n.n(o),a=n(14212),l=n.n(a),i=n(80051),s=n.n(i),c=n(43500),u=n(2390),d=n(34022),m=n(42699),h=n(16866),v=n(53539),p=n(82125),g=n(62638),f=n(69606),w=n(10920);const _=m.p()?null:h.Q,y=e=>{let{confirmHandler:t=null,cancelHandler:n=null,defaultHandler:o=null,countdown:a=5}=e;const l=(0,c.useRef)(null),[i,s]=(0,c.useState)(a),u=()=>{clearTimeout(l.current)};return(0,c.useEffect)((()=>(l.current=r()((()=>{null==o||o()}),1e3*a),()=>{clearTimeout(l.current)})),[]),(0,c.useEffect)((()=>{r()((()=>{i>0&&s(i-1)}),1e3)}),[i]),c.createElement("div",{className:"trust-login-dialog-mask"},c.createElement("div",{className:"trust-login-dialog-content"},c.createElement("div",{className:"trust-login-dialog-title"},"\u662f\u5426\u4fdd\u5b58\u767b\u5f55\u4fe1\u606f\uff1f\uff08".concat(i,"\uff09")),c.createElement("div",{className:"trust-login-dialog-info"},"\u4fdd\u5b58\u540e\u4e0b\u6b21\u767b\u5f55\u514d\u9a8c\u8bc1\uff0c\u53ef\u5728\u4e2a\u4eba\u4e2d\u5fc3\u8bbe\u7f6e"),c.createElement("div",{className:"trust-login-dialog-button"},c.createElement("div",{className:"trust-login-dialog-button-confirm",onClick:()=>{u(),null==t||t()}},"\u4fdd\u5b58"),c.createElement("div",{className:"trust-login-dialog-button-cancel",onClick:()=>{u(),null==n||n()}},"\u53d6\u6d88"))))},E=e=>{var t;let{confirmHandler:n=null,cancelHandler:o=null,countdown:r=5,showWay:a=""}=e;const l=document.createElement("div");l.setAttribute("id","trust-logout-dialog"),document.body.appendChild(l),w.Z.sendLog("loginInfoPopupShow",{popup_type:a,params_for_special:"uc_login",device_id:null===(t=v.Es())||void 0===t?void 0:t.user_unique_id}),u.render(c.createElement(y,{confirmHandler:()=>{var e,t;w.Z.sendLog("loginInfoPopupResult",{popup_type:a,status:"save",params_for_special:"uc_login",device_id:null===(e=v.Es())||void 0===e?void 0:e.user_unique_id}),w.Z.sendLog("loginInfoPopupClose",{popup_type:a,method:"click",params_for_special:"uc_login",device_id:null===(t=v.Es())||void 0===t?void 0:t.user_unique_id});try{(0,f.dg)(1).then((()=>{l&&document.body.removeChild(l),null==n||n()})).catch((()=>{l&&document.body.removeChild(l),null==n||n()}))}catch(o){}},cancelHandler:()=>{var e,t;w.Z.sendLog("loginInfoPopupResult",{popup_type:a,status:"cancel",params_for_special:"uc_login",device_id:null===(e=v.Es())||void 0===e?void 0:e.user_unique_id}),w.Z.sendLog("loginInfoPopupClose",{popup_type:a,method:"click",params_for_special:"uc_login",device_id:null===(t=v.Es())||void 0===t?void 0:t.user_unique_id});try{2!==p.$o(g.LocalStorageKeys.IsAllowTrust)?(0,f.dg)(2).then((()=>{l&&document.body.removeChild(l),null==o||o()})).catch((()=>{l&&document.body.removeChild(l),null==o||o()})):(l&&document.body.removeChild(l),null==o||o())}catch(n){}},defaultHandler:()=>{var e;w.Z.sendLog("loginInfoPopupClose",{popup_type:a,method:"auto",params_for_special:"uc_login",device_id:null===(e=v.Es())||void 0===e?void 0:e.user_unique_id});try{l&&document.body.removeChild(l),null==o||o()}catch(t){}},countdown:r}),l)},b=async e=>{var t;if(1===(_&&l()(_.getItem({sKey:"LOGIN_STATUS"}),10)||0))return;const[n,o]=await s().all([d.h.getVar({name:"is_allow_trust",defaultValue:0}),d.h.getVar({name:"trust_dialog_freq",defaultValue:0})]);if(!n)return;_.setItem("LOGIN_STATUS",1,1/0,"/","douyin.com","");const r=p.$o(g.LocalStorageKeys.UserInfo);var a,i,c;(null==r?void 0:r.uid)!==(null==e||null===(t=e.info)||void 0===t?void 0:t.secUid)&&(p.qQ(g.LocalStorageKeys.UserInfo,{uid:null==e||null===(a=e.info)||void 0===a?void 0:a.secUid,nickname:null==e||null===(i=e.info)||void 0===i?void 0:i.nickname,avatarUrl:null==e||null===(c=e.info)||void 0===c?void 0:c.avatarUrl}),p.bv(g.LocalStorageKeys.HasLoginShow),p.bv(g.LocalStorageKeys.HasLogoutShow),p.bv(g.LocalStorageKeys.IsAllowTrust));const u=p.$o(g.LocalStorageKeys.HasLoginShow);let m=0;try{m=await(0,f.q3)()}catch(h){}return 1!==m&&(0===o&&1!==u||1===o)?(p.qQ(g.LocalStorageKeys.HasLoginShow,1),void E({showWay:"login"})):void 0}},57265:(e,t,n)=>{n.d(t,{Z:()=>w});var o,r=n(43500),a=n(79705),l=n.n(a),i=n(82125),s=n(38284),c=n(9961),u=n(53539),d=n(62638),m=n(69606),h=n(34559);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)}const p=function(e){return r.createElement("svg",v({width:15,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 15.473a7.5 7.5 0 100-15 7.5 7.5 0 000 15zm.034-12c-.956 0-1.842.367-2.45 1.076-.076.089-.162.22-.243.36-.209.357-.056.805.308.999l.027.014c.396.211.842-.003 1.114-.36.3-.393.715-.588 1.244-.588.787 0 1.338.327 1.338.992 0 .536-.427.94-.91 1.371l-.03.028c-.517.469-1.05.953-1.277 1.857-.01.04-.02.088-.028.14-.077.464.31.86.779.86.423 0 .753-.33.858-.74a.984.984 0 01.027-.092c.185-.512.535-.848.885-1.152.676-.6 1.324-1.227 1.324-2.272 0-1.619-1.366-2.493-2.966-2.493zm-.034 7.5a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25z",fill:"#2F3035",fillOpacity:.4})))};var g=n(10920),f=n(15605);const w=e=>{let{classname:t="",iconPosition:n="",pageIndex:o,tipInfoPosition:a=""}=e;const v=i.$o(d.LocalStorageKeys.IsAllowTrust),[w,_]=(0,r.useState)(1===v);(0,r.useEffect)((()=>{s.listen(s.EVENT.updateTrustSwitch,(e=>{_(1===e)}))}),[]);return r.createElement("div",{className:l()("trust-login-switch",{[t]:t})},r.createElement("div",{className:l()("trust-login-tips",{[n]:n})},r.createElement("div",{className:"trust-login-tips-icon"},r.createElement(h.Z,{src:globalThis.getFilterXss().filterUrl(p,null,{logType:"js.href/src",reportOnly:!1}),width:15,height:16,viewBox:"0 0 15 16"}),r.createElement("div",{className:l()("trust-login-tips-info",{["trust-login-tips-info-".concat(a)]:Boolean(a)})},"\u4fdd\u5b58\u767b\u5f55\u4fe1\u606f\uff0c\u4e0b\u6b21\u767b\u5f55\u514d\u9a8c\u8bc1"))),r.createElement("div",{className:"trust-login-switch-title"},"\u4fdd\u5b58\u767b\u5f55\u4fe1\u606f"),r.createElement("div",{className:l()("trust-login-switch-button",{check:w},{uncheck:!w}),onClick:()=>{(0,m.dg)(w?2:1).then((e=>{var t;const n=1===e;g.Z.sendLog("clickLoginInfoSwitch",{status:w?"on":"off",enter_from:c.vM(),page:o,result:n?"on":"off",params_for_special:"uc_login",device_id:null===(t=u.Es())||void 0===t?void 0:t.user_unique_id})})).catch((e=>{var t;g.Z.sendLog("clickLoginInfoSwitch",{status:w?"on":"off",enter_from:c.vM(),result:w?"on":"off",params_for_special:"uc_login",device_id:null===(t=u.Es())||void 0===t?void 0:t.user_unique_id}),f.F.info((null==e?void 0:e.description)||"\u670d\u52a1\u5668\u7e41\u5fd9")}))}}))}},10920:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(9961),r=n(32059);const a={qrLoginGuide:{eventName:"qr_login_guide",params:{enter_from:o.vM(),enter_method:"",login_suggest_method:"",page_type:o.yW()}},clickLoginMethod:{eventName:"click_login_method",params:{enter_from:o.vM(),enter_method:"",login_method:"",login_suggest_method:""}},clickLoginOutside:{eventName:"click_login_outside",params:{enter_from:o.vM(),enter_method:""}},loginInfoPopupShow:{eventName:"login_info_popup_show",params:{popup_type:"",params_for_special:"uc_login",device_id:""}},loginInfoPopupResult:{eventName:"login_info_popup_result",params:{popup_type:"",status:"",params_for_special:"uc_login",device_id:""}},loginInfoPopupClose:{eventName:"login_info_popup_close",params:{popup_type:"",method:"",params_for_special:"uc_login",device_id:""}},clickLoginInfoSwitch:{eventName:"click_login_info_switch",params:{status:"",enter_from:"",result:"",params_for_special:"uc_login",device_id:"",page:""}}},l=new r.hD(a)},69606:(e,t,n)=>{n.d(t,{q3:()=>m,dg:()=>h});var o=n(80051),r=n.n(o),a=n(4749),l=n(23180),i=n(82125),s=n(62638),c=n(38284);let u;async function d(e){a.Gn();const{WebInterfaceSdk:t}=await n.e(9572).then(n.bind(n,59572));return u||(u=new t({aid:6383,isOversea:!1,isBoe:l.uZ,region:"cn",appName:"\u6296\u97f3 Web \u7ad9",secondVerifyWebOptions:{useSmsMode:6},enabledMonitor:!1})),new(r())(((t,n)=>{u.request(e).then((e=>{t(e)})).catch((e=>{n(e)}))}))}const m=()=>new(r())(((e,t)=>{d({url:"/passport/user/web_record_status/get/"}).then((t=>{const{user_web_record_status:n}=t,o=Number(n);i.qQ(s.LocalStorageKeys.IsAllowTrust,o),c.emit(c.EVENT.updateTrustSwitch,o),e(o)})).catch((e=>{t(e)}))})),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return new(r())(((t,n)=>{d({url:"/passport/user/web_record_status/set/",data:{user_web_record_status:e}}).then((e=>{const{user_web_record_status:n}=e,o=Number(n);i.qQ(s.LocalStorageKeys.IsAllowTrust,o),c.emit(c.EVENT.updateTrustSwitch,o),t(o)})).catch((e=>{n(e)}))}))}},96677:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G,disturbShowAccount:()=>Z,loginPanelInfo:()=>U,navShowAccount:()=>j,removeLoginPanel:()=>K,showAccountPage:()=>H});var o=n(21805),r=n.n(o),a=n(80051),l=n.n(a),i=n(88677),s=n.n(i),c=n(43500),u=n(2390),d=n(34022),m=n(89187),h=n(82125),v=n(30882),p=n(94303),g=n(52825),f=n(42699),w=n(38284),_=n(62638),y=n(4706),E=n(30517),b=n(88438),C=n.n(b),k=n(67948),N=n(34107),T=n(53539),S=n(9961),I=n(56580),L=n(47948),x=n(18380),P=n(23180),D=n(90827);const M=[{key:"LOGIN_SCAN_CODE",existOn:["LOGIN_ACCOUNT_PWD","LOGIN_MOBILE_CODE","LOGIN_SCAN_CODE"]},{key:"LOGIN_MOBILE_CODE",existOn:["LOGIN_MOBILE_CODE","LOGIN_ACCOUNT_PWD","LOGIN_SCAN_CODE"]},{key:"LOGIN_ACCOUNT_PWD",existOn:["LOGIN_ACCOUNT_PWD","LOGIN_MOBILE_CODE","LOGIN_SCAN_CODE"]}],B=[{key:"login",existOn:["PASSWORD_RESET"],text:"\u8fd4\u56de\u767b\u5f55",type:"page",clickToPage:"LOGIN_ACCOUNT_PWD"}],A=async e=>{var t,n,o,r,a;let{success:l,host:i,next:s,ScanCodeDescription:c,enterMethod:u,isActive:d,teaEvtParams:m={},isUnion:v=!1,mobileLoginOnly:g=!1,loginTabStyle:w=1,isAuto:y=1,gearName:b="",clarity:A="",currentUserInfo:O=null,isAllowTrust:W=!1,isFirstTrust:R=!1,...F}=e;return{...await(0,E.Q4)(),device_id:null===(t=T.Es())||void 0===t?void 0:t.user_unique_id,slardarContext:{enter_method:u,enter_from:S.vM()||"",page_type:S.yW()||""},currentUserInfo:O,isAllowTrust:W,isFirstTrust:R,lastPage:h.$o(_.LocalStorageKeys.LastLoginWay),refreshNumber:5,teaConfig:{appId:6383,config:{evtParams:{page_type:S.yW()||"",enter_method:u||"",enter_from:S.vM()||"",is_guide:"0",url_path:f.p()?"":null===(n=window)||void 0===n||null===(o=n.location)||void 0===o?void 0:o.pathname,video_detail_enter_from:I.z("web_link"),previous_page:L.Rs("previous_page"),is_active:d,is_video_guide:"0",is_full_screen:p.r()?"1":"0",is_full_webscreen:D.s.getIsPageFullscreen()?"1":"0",is_auto:y,gear_name:b,clarity:A,...m,...F},ug_source:L.Rs("ug_source"),sem_keyword:L.Rs("sem_keyword"),browser_is_360:x.a2()?"1":"0"}},host:i||(null==k||null===(r=P.k4)||void 0===r?void 0:r.sso)||"https://sso.douyin.com",next:s||(null==k||null===(a=P.k4)||void 0===a?void 0:a.next)||"https://www.douyin.com/",loginType:v?["LOGIN_MOBILE_CODE","LOGIN_ACCOUNT_PWD"]:["LOGIN_SCAN_CODE","LOGIN_MOBILE_CODE","LOGIN_ACCOUNT_PWD"],ScanCodeDescription:c,bindConflictType:"create_account",rememberPwd:!1,textConfig:{mobileCodeLoginText:{title:"\u9a8c\u8bc1\u7801\u767b\u5f55",mobilePlaceholder:"\u624b\u673a\u53f7",codePlaceholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",buttonText:g?"\u767b\u5f55":"\u767b\u5f55/\u6ce8\u518c",confirmInfoBeforeText:"\u540c\u610f"},accountPwdLoginText:{title:"\u5bc6\u7801\u767b\u5f55",accountPlaceholder:"\u624b\u673a\u53f7",accountLabel:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",pwdPlaceholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",confirmInfoBeforeText:"\u540c\u610f"},scanCodeLoginText:{refreshCode:"\u4e8c\u7ef4\u7801\u5df2\u5931\u6548",getCodeFailed:"\u4e8c\u7ef4\u7801\u5df2\u5931\u6548",refreshBtnText:"\u70b9\u51fb\u5237\u65b0",codeFailedBtnText:"\u70b9\u51fb\u5237\u65b0"},passwordResetText:{accountPlaceholder:"\u624b\u673a\u53f7",accountLabel:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",newPwdPlaceholder:"\u65b0\u5bc6\u7801",confirmPwdPlaceholder:"\u5bc6\u7801\u786e\u8ba4",codePlaceholder:"\u9a8c\u8bc1\u7801"},bindConflictText:{title:"",description:"\u68c0\u6d4b\u5230\u6296\u97f3\u6388\u6743\u7684\u624b\u673a\u53f7\u6ce8\u518c\u7684\u897f\u74dc\u8d26\u53f7\u5df2\u7ed1\u5b9a\u53e6\u4e00\u4e2a\u6296\u97f3\u8d26\u53f7\u201c{aweme_conflict_name}\u201d\uff0c\u5b58\u5728\u7ed1\u5b9a\u51b2\u7a81\uff0c\u8bf7\u5728\u4e0b\u65b9\u9009\u62e9\u89e3\u51b3\u65b9\u5f0f",loginBtnText:"\u6362\u7ed1\u5e76\u767b\u5f55",unbindText:"\u89e3\u9664\u7ed1\u5b9a",backToLogin:"\u8fd4\u56de\u91cd\u65b0\u767b\u5f55"},extraText:{otherLoginText:"\u5176\u4ed6\u65b9\u5f0f\uff1a"}},unionLoginPanel:v,linkAreaPosition:"top",loginTab:M,loginOnly:{mobileCode:g},linkList:B,accountType:["mobile"],success:e=>{const{currentPage:t}=e;h.qQ(_.LocalStorageKeys.LastLoginWay,t),l(e),C()((()=>{(0,N.tokenBeatInit)()}),800)},confirm:[{text:"\u7528\u6237\u534f\u8bae",url:"https://www.douyin.com/agreements/?id=6773906068725565448"},{text:"\u9690\u79c1\u653f\u7b56",url:"https://www.douyin.com/agreements/?id=6773901168964798477"}],unsetCheckbox:{accountPwd:1,mobileCode:1,scanCode:1,trusted:1,resetPwd:1},isPwdToMobile:!0,useWrap:v?{mobileCode:!0,accountPwd:!0,scanCode:!1}:{},upSmsRegisterCallback:{showCallback:()=>{const e=document.getElementsByClassName("screen-mask");if(0!==e.length){e[0].style.visibility="hidden"}else{const e=document.getElementById("login-pannel");e&&(e.style.visibility="hidden")}},closeCallBack:()=>{const e=document.getElementsByClassName("screen-mask");if(0!==e.length){e[0].style.visibility="visible"}else{const e=document.getElementById("login-pannel");e&&(e.style.visibility="hidden")}}},LoginSecondSmsCallback:{showCallback:()=>{const e=document.getElementsByClassName("screen-mask");if(0!==e.length){e[0].style.visibility="hidden"}else{const e=document.getElementById("login-pannel");e&&(e.style.visibility="hidden")}},closeCallBack:()=>{const e=document.getElementsByClassName("screen-mask");if(0!==e.length){e[0].style.visibility="visible"}else{const e=document.getElementById("login-pannel");e&&(e.style.visibility="hidden")}}}}};var O=n(57320),W=n(70676),R=n.n(W);const F=function(e){const{headerText:t="\u8bf7\u5148\u767b\u5f55"}=e||{},[n,o]=(0,c.useState)(!0),r=(0,c.useRef)(null);(0,c.useEffect)((()=>{(async()=>{var t;o(!0);const n=await(0,E.gE)(e),a=await(0,E.j1)();r.current=new a({...n,success:e=>{null!=e&&e.redirect_url&&R().get(null==e?void 0:e.redirect_url).then((()=>{var t;C()(K,500),null==n||null===(t=n.success)||void 0===t||t.call(n,e)})).catch((()=>{K()})),K()}}),null===(t=r.current)||void 0===t||t.setTeaConfig({ug_source:L.Rs("uc_source"),sem_keyword:L.Rs("sem_keyword"),browser_is_360:x.a2()?"1":"0",enterMethod:null==e?void 0:e.enterMethod,enterFrom:S.vM()}),o(!1)})()}),[]);const a=(0,c.useCallback)((()=>{var e,t;return null!==(e=r.current)&&void 0!==e&&e.LoginContainer?null===(t=r.current)||void 0===t?void 0:t.LoginContainer({}):c.createElement("div",null)}),[]);return c.createElement("div",{id:"scan-code-login-panel"},c.createElement("i",{className:"scan-code-login-panel__close",onClick:()=>{K()}}),c.createElement("div",{className:"scan-code-login-panel__content"},c.createElement("div",{className:"content-title"},t),c.createElement("div",{className:"content-qrcode"},n?null:c.createElement(a,null)),c.createElement("div",{className:"content-desc"},"\u6253\u5f00\u6296\u97f3APP"),c.createElement("div",{className:"content-info"},"\u626b\u63cf\u4e8c\u7ef4\u7801\u767b\u5f55")))};var V=n(63254);const U={isShowingAccount:!1,isInAccountPage:!1,accountPageParams:{enterMethod:""}};async function G(e,t){let{success:n=null,host:o=null,next:a=null,enterMethod:i="",headerText:s="",isPage:m=!1,isActive:f="1",onClose:w=null,isCanClose:y=!0,teaEvtParams:E={},disabledABTest:b=!1,isGuide:C=!1,isAuto:k=1,gearName:N="",clarity:T="",...S}=e;var I,L;if((await(0,O.SJ)(),K(),!m)&&(U.isShowingAccount||null!==(I=document)&&void 0!==I&&null!==(L=I.querySelector)&&void 0!==L&&L.call(I,"#login-pannel")))return null==w||w(),()=>null;const x=e=>{e.stopPropagation()};var P;y||(null===(P=document)||void 0===P||P.addEventListener("keydown",x,!0));const D="https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/login-resetpwd-bg.png";U.isShowingAccount=!0,U.isInAccountPage=!1;const M=async e=>{const{loginBgImg:l=D,isFirstTrust:d=0,isAllowTrust:b=0}=e;let C;var S;s?C=s:C=r()(S=["cold_start_full","cold_start","auto","navigation_bar"]).call(S,i)?"\u767b\u5f55\u540e\u514d\u8d39\u7545\u4eab\u9ad8\u6e05\u89c6\u9891":"";const I=await A({success:n,host:o,next:a,ScanCodeDescription:()=>c.createElement("div",{className:"web-login-scan-desc-text"},c.createElement("div",null,"\u6253\u5f00",c.createElement("span",{className:"web-login-scan-desc-text-sub"},"\u300c\u6296\u97f3APP\u300d"),"\u626b\u63cf\u4e8c\u7ef4\u7801\u767b\u5f55")),enterMethod:i,isUnion:!1,isActive:f,teaEvtParams:E,isAuto:k,gearName:N,clarity:T,currentUserInfo:h.$o(_.LocalStorageKeys.UserInfo),isAllowTrust:Boolean(b)&&1===h.$o(_.LocalStorageKeys.IsAllowTrust),isFirstTrust:Boolean(d),mobileLoginOnly:v.X()}),L=document.createElement("div");let P=document.body;if(t)P=t,t.appendChild(L);else{const e=document.getElementsByClassName("xgplayer-fullscreen-parent")[0];p.r()&&e?(P=e,e.appendChild(L)):document.body.appendChild(L)}const M=()=>{var e;(document.body.style.overflow="",u.unmountComponentAtNode(L),P.contains(L)&&P.removeChild(L),null==w||w(),y)||(null===(e=document)||void 0===e||e.removeEventListener("keydown",x))};return document.body.style.overflow="hidden",g.IX(),u.render(c.createElement(O.ZP,{config:I,destroy:()=>{U.isShowingAccount=!1,M()},text:C,isPage:m,onClose:w,enterMethod:i,isCanClose:y,loginBgImg:l}),L),M};return l().all([d.h.getVar({name:"login_bg_img",defaultValue:D}),d.h.getVar({name:"is_first_trust",defaultValue:0}),d.h.getVar({name:"is_allow_trust",defaultValue:0})]).then((e=>{const[t=D,n=0,o=0]=e;return M({loginBgImg:t,isFirstTrust:n,isAllowTrust:o})})).catch((()=>M({loginBgImg:D,isFirstTrust:0,isAllowTrust:0}))),()=>null}function H(e){G({isPage:!0,next:(0,E.pL)(),...e}),U.accountPageParams=e,U.isInAccountPage=!0}function j(e){U.isShowingAccount=!1;const t=U.isInAccountPage?s()(H).call(H,null,U.accountPageParams):()=>null;G({...e,next:(null==e?void 0:e.next)||(0,E.pL)(),onClose:t})}f.p()||(window.showAccount=G);const Z=async(e,t,n,o)=>{K(),null!==V.n&&void 0!==V.n&&V.n.loginGuideShowed&&V.n.destroy();let r=!1;const[a=0]=await l().all([d.h.getVar({name:"no_disturb_v2",defaultValue:m.NoDisturbSecondTest.Default})]);2!==a&&3!==a||(r=!0),r&&n&&o!==y.lT.Detail?(w.emit(w.EVENT.videoStopPlayNext),w.emit(w.EVENT.showDisturbLoginPanel,!0),u.render(c.createElement(F,{...e}),n)):G(e,t)},K=()=>{const e=document.querySelectorAll(".disturb-login-panel");if(0!==e.length){for(let t=0;t<e.length;t++)e[t]&&u.unmountComponentAtNode(e[t]);w.emit(w.EVENT.showDisturbLoginPanel,!1),w.emit(w.EVENT.videoRemoveStopPlayNext)}}},87813:(e,t,n)=>{n.d(t,{q:()=>c});var o=n(88438),r=n.n(o),a=n(43500),l=n(79705),i=n.n(l);const s={avatarIcon:"BXCYEFpt",avatar:"F55pZYYH",image:"PbpHcHqa",live:"hidFvG2l",extraExtraExtraSmall:"LI_QQRBx",extraExtraSmall:"dq39KdYi",extraSmall:"zzYG7dwz",small:"MtWaibfJ",default:"QsTz7P83",showOverflow:"qTgJQqwp",self:"XMvzRCvu",pendant:"ScZNxJWS"};function c(e){let{type:t="default",src:n,alt:o="",isSpider:l=!1,isSelf:c=!1,showImageInSSR:u=!1,className:d,defaultClassName:m,imgClassName:h,maskConf:v,onMouseEnter:p,onMouseLeave:g}=e;const[f,w]=(0,a.useState)(0),_=n&&(1===f||l||u),{showMask:y,MaskItem:E,className:b}=v||{},C=()=>w(1);return(0,a.useEffect)((()=>{let e=!1,t=new Image;t.onload=function(){e||(e=!0,C(),t=null)},t.onerror=function(){e||(e=!0,w(-1),t=null)};const o=r()((()=>{e=!0,C()}),3e3);return t.src=globalThis.getFilterXss().filterUrl(n,null,{logType:"js.href/src",reportOnly:!1}),()=>{t&&(t.onload=null,t.onerror=null),clearTimeout(o)}}),[n]),a.createElement("div",{className:i()(s.avatar,s[t],"avatar-component-avatar-container",{[d]:d,[s.self]:c}),onMouseEnter:p,onMouseLeave:g,"data-e2e":"live-avatar"},y?a.createElement(E,{className:b}):null,_?a.createElement("img",{src:globalThis.getFilterXss().filterUrl(n,null,{logType:"js.href/src",reportOnly:!1}),alt:o,className:i()(s.image,h),onError:()=>w(-1),onLoad:C}):a.createElement("div",{className:i()(s[t],s.avatarIcon,{[d]:m})}))}},19445:(e,t,n)=>{n.d(t,{n:()=>v});var o=n(43500),r=n(79705),a=n.n(r),l=n(87579),i=n(17444),s=n(27710),c=n(21411),u=n(19104);const d={avatarContainer:"QecmPpxX",isFirstLive:"JgxT_z8s",avatarBorder:"X0v0tibw",avatarBorderAnimation:"huP9OS34","first-live-cover-border-scale-animation":"xyb6OqsT","cover-border-scale-animation":"aKbSlHZH",avatar:"RUVTDzAp","cover-animation":"sBNZrvc_",liveTag:"LrQqtaiB",liveTagText:"w4SksZun",small:"TrKWAgc9",liveTagInner:"XQ9v_nAP",liveTagInnerImg:"LkrPIgdh",large:"nGtv725p",push:"IpUDli_q",hideAnimation:"tJqdBHbQ"};const m=new(n(32059).hD)({livesdkLiveShow:{eventName:"livesdk_live_show",params:{enter_from_merge:"",enter_method:"web_video_head",action_type:"",request_id:"",is_vs:0,vs_episode_id:"",vs_ep_group_id:"",vs_season_id:"",vs_episode_stage:"",anchor_id:"",room_id:"",video_id:""}},livesdkRecLivePlay:{eventName:"livesdk_rec_live_play",params:{anchor_id:"",room_id:"",enter_from_merge:"",enter_method:"web_video_head",game_name:"",live_type:"",is_aweme_tied:0,game_live_source:"",url:"",url_path:"",action_type:"click",request_id:"",is_vs:0,vs_episode_id:"",vs_ep_group_id:"",vs_season_id:"",vs_episode_stage:""}}});var h=n(66331);function v(e){let{type:t="normal",src:n,alt:r="",uid:v="",liveRoomUrl:p,isNeedSeoOpt:g=!1,isNeedSendLog:f=!1,liveRoomParam:w={logId:""},isShow:_=!0,isFirstLive:y=!1,onClick:E=(()=>{}),groupId:b,disableBorderAnim:C=!1}=e;const k=(0,o.useMemo)((()=>{if("String"!==l.tQ(p))return null;return i.D(p.split("?",2)[1])}),[p]),N=(0,o.useRef)(!1),T=(0,o.useRef)(null),S=(0,o.useCallback)((e=>{E(e),f&&function(){var e,t,n,o,r,a;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0;if(!i)return;const u=null==c?void 0:c.episodeExtra;m.sendLog("livesdkRecLivePlay",{enter_from_merge:i.enter_from_merge,enter_method:"web_video_head",anchor_id:l,room_id:i.room_id,live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname,request_id:null!==(e=null==c?void 0:c.logId)&&void 0!==e?e:"",is_vs:u?1:0,vs_episode_id:u?null==c||null===(t=c.episodeExtra)||void 0===t?void 0:t.episode_id_str:"",vs_ep_group_id:u?null==c||null===(n=c.episodeExtra)||void 0===n?void 0:n.item_id:"",vs_season_id:u?null==c||null===(o=c.episodeExtra)||void 0===o?void 0:o.season_id_str:"",vs_episode_stage:u?(null==c||null===(r=c.episodeExtra)||void 0===r||null===(a=r.mod)||void 0===a?void 0:a.episode_stage)===s.W.FirstLive?"premiere":"live":""})}(v,k,w)}),[f,E,v,k,w]);return(0,o.useEffect)((()=>{if(k&&null!=w&&w.logId&&!N.current&&_){var e,t,n,o,r;const a=null==w?void 0:w.episodeExtra;m.sendLog("livesdkLiveShow",{anchor_id:v,room_id:k.room_id,action_type:k.action_type,enter_from_merge:k.enter_from_merge,enter_method:k.enter_method,request_id:null==w?void 0:w.logId,video_id:b,is_vs:a?1:0,vs_episode_id:a?null==w||null===(e=w.episodeExtra)||void 0===e?void 0:e.episode_id_str:"",vs_ep_group_id:a?null==w||null===(t=w.episodeExtra)||void 0===t?void 0:t.item_id:"",vs_season_id:a?null==w||null===(n=w.episodeExtra)||void 0===n?void 0:n.season_id_str:"",vs_episode_stage:a?(null==w||null===(o=w.episodeExtra)||void 0===o||null===(r=o.mod)||void 0===r?void 0:r.episode_stage)===s.W.FirstLive?"premiere":"live":""}),N.current=!0}}),[w,_]),o.createElement(h.a,{href:globalThis.getFilterXss().filterUrl(p,null,{logType:"js.href/src",reportOnly:!1}),isNeedSeoOpt:g,target:"_blank",refEl:T,rel:"noopener noreferrer",className:a()(d.Streamline),onClick:S},o.createElement("div",{className:a()(d.avatarContainer,{[d.isFirstLive]:y,[d.small]:"small"===t,[d.large]:"large"===t,[d.push]:"push"===t})},o.createElement("img",{className:d.avatar,src:globalThis.getFilterXss().filterUrl(n,null,{logType:"js.href/src",reportOnly:!1}),alt:r}),o.createElement("div",{className:d.avatarBorder}),o.createElement("div",{className:a()(d.avatarBorder,d.avatarBorderAnimation,{[d.hideAnimation]:C})}),"small"!==t&&"push"!==t?o.createElement("div",{className:d.liveTag},o.createElement("span",{className:d.liveTagText,"data-e2e":"user-info-living"},y?"\u9996\u64ad\u4e2d":"\u76f4\u64ad\u4e2d")):o.createElement("div",{className:d.liveTagInner},o.createElement("img",{className:d.liveTagInnerImg,src:globalThis.getFilterXss().filterUrl(y?u:c,null,{logType:"js.href/src",reportOnly:!1}),alt:"LiveIcon"}))))}},99673:(e,t,n)=>{n.d(t,{zx:()=>c,qE:()=>i,L$:()=>s});var o=n(43500),r=n(79705),a=n.n(r);const l={button:"B10aL8VQ",small:"gPRZQy7u",fixed:"ODGbpnws",normal:"s6mStVxD",large:"oAtLbey6",primary:"vMQD6aai",border:"vk7WaOg_",secondary:"cFQVxkEQ",ghost:"uLcV3IR8"};var i,s;function c(e){let{size:t="normal",type:n="primary",children:r,autoFixed:i=!0,className:s,width:c,style:u,theme:d="solid",disabled:m=!1,...h}=e;return o.createElement("button",{type:"button",disabled:m,className:a()(l.button,l[t],l[n],l[d],{[l.fixed]:!i},s),style:{width:c&&"".concat(c,"px"),...u},...h},r)}!function(e){e.small="small",e.normal="normal",e.large="large"}(i||(i={})),function(e){e.primary="primary",e.secondary="secondary"}(s||(s={}))},60017:(e,t,n)=>{n.d(t,{k:()=>i});var o=n(43500),r=n(27627),a=n(53539),l=n(73597);const i=e=>{const{fallback:t,beforeCapture:n,onError:i,componentName:s,children:c,Slardar:u}=e,d=a.Le.getConfig(a.gI.AbtestData),m=(0,o.useCallback)(((e,t)=>{var n;l.oe.event.error({name:l.Mo.ComponentErrorBoundary,report:{message:e.message,stack:null!==(n=e.stack)&&void 0!==n?n:"",componentStack:t.toString(),componentName:s}}),null==i||i(e,t)}),[]);return null!=d&&d.errorBoundaryOpt&&u?o.createElement(r.SV,{fallback:t,onError:m,beforeCapture:n,Slardar:u||l.oe.getSlardarInstance()},c):o.createElement(o.Fragment,null,c)}},29413:(e,t,n)=>{n.d(t,{o:()=>St});var o=n(92637),r=n.n(o),a=n(21805),l=n.n(a),i=n(84891),s=n.n(i),c=n(41265),u=n.n(c),d=n(59440),m=n.n(d),h=n(81711),v=n.n(h),p=n(88438),g=n.n(p),f=n(79705),w=n.n(f),_=n(43500),y=n(54805),E=n(89187),b=n(34022),C=n(5680),k=n(9961),N=n(45348),T=n(18380),S=n(42699),I=n(41304),L=n(32574),x=n(94153),P=n(84935),D=n(56681);const M="n9PPTk22",B="N_HNXA04",A="gtbObvwD",O="JVPLvXh3",W="HQwsRJFy",R="RzBzzWsU",F="Bo1o4KGi",V="XFvPYpcw",U="iViO9oMI",G="BmcsyffA",H="kQ2JnIMK",j="S9ST96Zy",Z="a9jyVZQj",K="c4FOEjLr",Y="YrFhKzRI",q="bFNyxfOF",z="pi5uYseT",X="gaIgCiUy";var Q=n(94553),J=n(94610),$=n.n(J),ee=n(62305),te=n.n(ee),ne=n(66439),oe=n(47925);const re=[{url:"https://www.oceanengine.com/resource/douyin",title:"\u5e7f\u544a\u6295\u653e"},{url:"https://www.douyin.com/agreements/?id=6773906068725565448",title:"\u7528\u6237\u670d\u52a1\u534f\u8bae",needExtraParams:!0},{url:"https://www.douyin.com/agreements/?id=6773901168964798477",title:"\u9690\u79c1\u653f\u7b56",needExtraParams:!0},{url:"https://www.douyin.com/recovery_account/",title:"\u8d26\u53f7\u627e\u56de"},{url:"https://www.douyin.com/aboutus/#contact",title:"\u8054\u7cfb\u6211\u4eec"},{url:"https://www.douyin.com/aboutus/#join",title:"\u52a0\u5165\u6211\u4eec"},{url:"https://www.douyin.com/business_license/",title:"\u8425\u4e1a\u6267\u7167"},{url:"https://www.douyin.com/friend_links",title:"\u53cb\u60c5\u94fe\u63a5"},{url:"https://www.douyin.com/htmlmap/hotauthor_0_1",title:"\u7ad9\u70b9\u5730\u56fe"},{url:"https://www.douyin.com/downloadpage",title:"\u4e0b\u8f7d\u6296\u97f3"},{url:"https://mix.jinritemai.com/falcon/mix_page/index.html?__live_platform__=webcast&allowMediaAutoPlay=1&enter_from=others&hide_nav_bar=1&hide_system_video_poster=1&id=7117178766052294949&origin_type=others&should_full_screen=1&trans_status_bar=1&ttwebview_extension_mixrender=1&hide_nav_bar=1&should_full_screen=1&trans_status_bar=1&web_bg_color=#ffffffff",title:"\u6296\u97f3\u7535\u5546"}],ae=[[{title:"".concat((new Date).getFullYear()," \xa9 \u6296\u97f3")},{url:"https://beian.miit.gov.cn/",title:"\u4eacICP\u590716016397\u53f7-3"},{icon:"//p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/emblem.png",url:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11000002002046",title:"\u4eac\u516c\u7f51\u5b89\u5907 11000002002046\u53f7"},{url:"https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/jiemuzhizuojingying.jpeg",title:"\u5e7f\u64ad\u7535\u89c6\u8282\u76ee\u5236\u4f5c\u7ecf\u8425\u8bb8\u53ef\u8bc1"},{url:"https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/zengzhixuke.jpeg",title:"\u4eacB2-20170846"},{url:"https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/wangluowenhuajingying.jpeg",title:"\u7f51\u7edc\u6587\u5316\u8bb8\u53ef\u8bc1-\u4eac\u7f51\u6587-\uff082022\uff090938-030\u53f7"}],[{url:"https://www.piyao.org.cn/yybgt/index.htm",title:"\u7f51\u7edc\u8c23\u8a00\u66dd\u5149\u53f0"},{url:"https://www.12377.cn/",title:"\u7f51\u4e0a\u6709\u5bb3\u4fe1\u606f\u4e3e\u62a5"},{title:"\u8fdd\u6cd5\u548c\u4e0d\u826f\u4fe1\u606f\u4e3e\u62a5 400-140-2108"},{title:"\u9752\u5c11\u5e74\u5b88\u62a4\u4e13\u7ebf 400-9922-556"},{title:"\u7b97\u6cd5\u63a8\u8350\u4e13\u9879\u4e3e\u62a5 sfjubao@bytedance.com"},{title:"\u7f51\u7edc\u5185\u5bb9\u4ece\u4e1a\u4eba\u5458\u8fdd\u6cd5\u8fdd\u89c4\u884c\u4e3a\u4e3e\u62a5 feedback@douyin.com"}]],le="NRSpjbcb",ie="wQmC940F",se="yA0rrc2M",ce="o1h2uP_i",ue="YfdKaFoj",de="h9hROuDG",me="eb9O5iw_";const he=new(n(32059).hD)({pageClick:{eventName:"page_click",params:{click_position:"site_map"}}});var ve=n(66331);function pe(e){let{linkItems:t,subLinkItems:n,specTheme:o}=e;const r=t||re,a=n||ae,i=e=>{let{links:t}=e;return _.createElement("div",{className:se},$()(t).call(t,((e,t)=>{const{url:n}=e;return _.createElement("div",{key:"link_".concat(t),className:ue},e.url?_.createElement(ve.a,{href:globalThis.getFilterXss().filterUrl(n,null,{logType:"js.href/src",reportOnly:!1}),onClick:t=>{if("\u7ad9\u70b9\u5730\u56fe"===e.title){var o,r,a,i,s,c,u,d,m;let e=n;const h=te().parse(null!==(o=null===(r=window)||void 0===r||null===(a=r.location)||void 0===a?void 0:a.search)&&void 0!==o?o:"");h.from=null===(i=window)||void 0===i||null===(s=i.location)||void 0===s?void 0:s.pathname,null!==(c=window)&&void 0!==c&&null!==(u=c.location)&&void 0!==u&&l()(d=u.href).call(d,oe.LIVE_DOMAIN)&&(h.from="live"),e+="".concat(decodeURIComponent("?".concat(te().stringify(h)))),null===(m=window)||void 0===m||m.open(e,"_blank"),he.sendLog("pageClick"),t.preventDefault()}},target:"_blank",rel:"noopener noreferrer ".concat(ne.P(e.title)),isNeedSeoOpt:!(null!=e&&e.needExtraParams)},e.title):_.createElement("span",null,e.title))})))},s=e=>{let{sublink:t}=e;return _.createElement("div",{className:de},t.url?_.createElement(ve.a,{href:globalThis.getFilterXss().filterUrl(t.url,null,{logType:"js.href/src",reportOnly:!1}),target:"_blank",rel:"noopener noreferrer"},t.icon&&_.createElement("img",{className:me,src:globalThis.getFilterXss().filterUrl(t.icon,null,{logType:"js.href/src",reportOnly:!1}),alt:"icon"}),t.title):_.createElement("span",null,t.title))},c=e=>{let{sublinksGroup:t}=e;return _.createElement(_.Fragment,null,$()(t).call(t,((e,t)=>_.createElement("div",{key:"g_".concat(t),className:ce},$()(e).call(e,((e,t)=>_.createElement(s,{key:"sublink_".concat(t),sublink:e})))))))};return _.createElement("footer",null,_.createElement("div",{className:w()(ie,{[le]:null==o?void 0:o.themeFurtherSwitch})},_.createElement(c,{sublinksGroup:a}),_.createElement(i,{links:r})))}var ge=n(68794),fe=n(53539),we=n(52289),_e=n(93662),ye=n.n(_e),Ee=n(42834),be=n(92762);const Ce="MOB6aWRv",ke="d_U4I_82",Ne="wgiDTgSZ",Te="dki5MdEh",Se="fuy_wmct",Ie="Hn1a7lpc",Le="BR0rQm90",xe="Oxwxk5t9",Pe="d96_zlEE",De="wnWWZubH",Me="BxYyDMoK",Be="vXRPN9Nt",Ae="xkdCyo8O",Oe="PZM366wi",We="HVgmsdv9",Re="tJShiVlw",Fe="xPz2YtoZ",Ve="fFvA7aLB",Ue="qShuAbdm",Ge="LXX79le5",He="wfyh1Wz6",je="RWHJXAjL";var Ze,Ke;function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ye.apply(this,arguments)}const qe=function(e){return _.createElement("svg",Ye({width:22,height:9,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ze||(Ze=_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.483 1.137C4.923.379 4.113 0 3.055 0 2.187 0 1.461.284.876.853.292 1.413 0 2.128 0 2.996c0 .853.249 1.543.746 2.072.521.561 1.208.841 2.06.841.435 0 .822-.083 1.161-.248a2.32 2.32 0 00.912-.782h.06v.107c0 .797-.167 1.464-.498 2-.348.57-.81.853-1.386.853-.829 0-1.33-.402-1.504-1.207H.166C.379 8.21 1.338 9 3.043 9c1.003 0 1.8-.438 2.393-1.314.584-.869.876-2.01.876-3.423 0-1.326-.276-2.368-.83-3.126zm-3.612.556c.316-.347.726-.52 1.232-.52.497 0 .904.157 1.22.473.307.316.461.75.461 1.303 0 .56-.146 1.002-.438 1.326-.3.324-.714.486-1.243.486-.521 0-.932-.162-1.232-.486-.308-.316-.462-.742-.462-1.279 0-.529.154-.963.462-1.303zM12.754 1.137C12.194.379 11.384 0 10.326 0c-.868 0-1.594.284-2.179.853-.584.56-.876 1.275-.876 2.143 0 .853.249 1.543.746 2.072.521.561 1.208.841 2.06.841.435 0 .822-.083 1.161-.248a2.32 2.32 0 00.912-.782h.06v.107c0 .797-.167 1.464-.498 2-.348.57-.81.853-1.386.853-.829 0-1.33-.402-1.504-1.207H7.437C7.65 8.21 8.609 9 10.315 9c1.002 0 1.8-.438 2.392-1.314.584-.869.876-2.01.876-3.423 0-1.326-.276-2.368-.83-3.126zm-3.612.556c.316-.347.726-.52 1.232-.52.497 0 .904.157 1.22.473.307.316.461.75.461 1.303 0 .56-.146 1.002-.438 1.326-.3.324-.714.486-1.243.486-.521 0-.932-.162-1.232-.486-.308-.316-.462-.742-.462-1.279 0-.529.154-.963.462-1.303z",fill:"#fff"})),Ke||(Ke=_.createElement("path",{d:"M19.181 1.654h-1.137V4.14h-2.498v1.15h2.498v2.486h1.137V5.289h2.487V4.14H19.18V1.654z",fill:"#fff"})))};var ze=n(99860),Xe=n.n(ze),Qe=n(34080);const Je="MoQWZoTN",$e="UqusYa12",et="kVDE1onh",tt="AJbcSJri",nt="LQOiJJXR",ot="T3FP2rdt",rt="CyFHfLRN",at="I6O_p7Gl",lt="Rlk_prZy",it="e0OEnO1u",st="_XYQB999";var ct=n(34559);const ut=e=>{const{value:t,spa:n,href:o,label:r,target:a,handleTabClick:l,className:i,showYellowPoint:s=!1,showDotRedPoint:c=!1,showLiveRedPoint:u=!1,showNumberYellowPoint:d=!1,showLiveRedCnPoint:m=!1,numberYellowPointCount:h=0,numberYellowClassName:v,showNumberRedPoint:p,numberRedPointCount:g,renderLabel:f}=e,y=new(Xe())([]);return _.createElement("div",{className:w()(Je,i)},_.createElement(ve.a,{className:it,spa:n,href:globalThis.getFilterXss().filterUrl(o,null,{logType:"js.href/src",reportOnly:!1}),target:a,onClick:l,title:r},_.createElement("div",{className:w()(tt,y.get(t))},s&&_.createElement("div",{className:$e}),c&&_.createElement("div",{className:et}),u&&_.createElement("div",{className:nt},_.createElement(ct.Z,{src:globalThis.getFilterXss().filterUrl(be.Z,null,{logType:"js.href/src",reportOnly:!1}),viewBox:"0 0 19 7",height:7,width:19})),d&&_.createElement("div",{className:w()(v,{[at]:h<10,[rt]:h>=10})},h>99?"99+":h),p&&_.createElement("div",{className:w()(v,{[lt]:g<10,[st]:g>=10})},g>99?"99+":g),m&&_.createElement("div",{className:ot},_.createElement(ct.Z,{src:globalThis.getFilterXss().filterUrl(Qe.Z,null,{logType:"js.href/src",reportOnly:!1}),viewBox:"0 0 44 20",height:20,width:44})),null==f?void 0:f())))},dt=e=>{const{pointInfoList:t,typeList:n,active:o}=e,r=$()(n).call(n,(e=>m()(t).call(t,(t=>t.type===e))));return $()(r).call(r,(e=>(e=>{const{active:t,point:n}=e;return{state:!t&&Boolean((null==n?void 0:n.hasNotice)&&(null==n?void 0:n.count)>0),count:(null==n?void 0:n.count)||0}})({active:o,point:e})))},mt=e=>{const{pointInfoList:t,typeList:n,active:o}=e,r=$()(n).call(n,(e=>m()(t).call(t,(t=>t.type===e))));return $()(r).call(r,(e=>(e=>{const{active:t,point:n}=e;return!t&&Boolean(null==n?void 0:n.hasNotice)})({active:o,point:e})))},ht=["friend","home","recommend","follow","live","hot","channel_300201","channel_200204","channel_300203","channel_300205","channel_300204","channel_300207","channel_300208","channel_300209","channel_300202"],vt=["channel_300206"];var pt=n(14495);const gt=(0,we.default)((()=>Promise.resolve().then(n.bind(n,78625))),{ssr:!1}),ft=e=>{const{label:t,value:n,type:o,onClick:r,active:a,className:i,renderLabel:s,href:c,target:u,spa:d,activeClickable:m,iconBackgroundPosition:h,iconAnimation:p,points:f,pointClick:y,pointShow:E,userInfo:b={},tccKeyWord:C="",socialInfo:k={},customProps:N,abTestData:T}=e,[S,I]=_.useState(ye()(p)?null:p),[L,x]=_.useState(!1),[D,M]=_.useState(!1),[B,A]=_.useState(!1),[O,W]=_.useState(!1),[R,F]=_.useState(!1),[V,U]=_.useState(!1),[G,H]=_.useState(!1),[j,Z]=_.useState(!1),[K,Y]=_.useState(0),[q,z]=_.useState(!1),[X,Q]=_.useState(0),J=_.useRef(),$=_.useRef(),ee=_.useCallback((e=>{if(!r)return;const t=[{isShow:O,type:P.TabPointType.YellowDot},{isShow:j,type:P.TabPointType.YellowNumber},{isShow:B,type:P.TabPointType.RedDot},{isShow:R,type:P.TabPointType.RedNew},{isShow:V,type:P.TabPointType.RedLive},{isShow:G,type:P.TabPointType.RedLiveCn},{isShow:q,type:P.TabPointType.RedNumber}];v()(t).call(t,(e=>{const{isShow:t,type:n}=e;t&&(null==y||y({...b.info,pointType:n,isLogin:b.isLogin,redPointCount:X}))})),W(!1),A(!1),F(!1),Z(!1),U(!1),H(!1),z(!1),m?r(n,e):a||r(n,e)}),[n,r,a,b,O,j,B,R,V,G,m,y,q,X]);_.useEffect((()=>{let e=!1;return"function"==typeof f&&(a?(W(!1),A(!1),F(!1),Z(!1),U(!1),H(!1),z(!1)):(async()=>{const t=await f({...null==b?void 0:b.info,isLogin:null==b?void 0:b.isLogin,socialInfo:k})||[];if(!e){const[e,n,o,r]=mt({pointInfoList:t,typeList:[P.TabPointType.YellowDot,P.TabPointType.RedDot,P.TabPointType.RedNew,P.TabPointType.RedLive],active:a}),[l,i]=dt({pointInfoList:t,typeList:[P.TabPointType.YellowNumber,P.TabPointType.RedNumber],active:a});W(e),Z(l.state),Y(l.count),z(i.state),Q(i.count),A(n),F(o),U(r)}})()),()=>{e=!0}}),[b,a,k]),_.useEffect((()=>{const e=[{isShow:O,type:P.TabPointType.YellowDot},{isShow:j,type:P.TabPointType.YellowNumber},{isShow:B,type:P.TabPointType.RedDot},{isShow:V,type:P.TabPointType.RedLive},{isShow:G,type:P.TabPointType.RedLiveCn},{isShow:q,type:P.TabPointType.RedNumber}];v()(e).call(e,(e=>{e.isShow&&(null==E||E({...b.info,pointType:e.type,isLogin:b.isLogin,redPointCount:X}))}))}),[b,O,j,B,R,V,G,q,X,E]);const te=_.useCallback((()=>{var e,t;const n=null===(e=J.current)||void 0===e||null===(t=e.getLottieInstance)||void 0===t?void 0:t.call(e);return{playLottie:()=>{var e,t;null==n||null===(e=n.setDirection)||void 0===e||e.call(n,1),null==n||null===(t=n.play)||void 0===t||t.call(n)},resetLottie:()=>{var e;null==n||null===(e=n.goToAndStop)||void 0===e||e.call(n,0)},reversePlayLottie:()=>{var e,t;null==n||null===(e=n.setDirection)||void 0===e||e.call(n,-1),null==n||null===(t=n.play)||void 0===t||t.call(n)},endOfLottie:()=>{var e;null==n||null===(e=n.goToAndStop)||void 0===e||e.call(n,null==n?void 0:n.getDuration(!0),!0)}}}),[]);_.useEffect((()=>{$.current&&clearTimeout($.current),a?te().endOfLottie():te().resetLottie()}),[a]);const{specTheme:ne}=(0,pt.Z)(),oe=Ee.downGradeOther(null==T?void 0:T.lowDeviceOptimization),re=_.useCallback((()=>{oe||(ye()(p)?p().then((e=>{!S&&I(e),M(!0),a||($.current=g()((()=>{te().playLottie()}),300))})):(M(!0),a||($.current=g()((()=>{te().playLottie()}),300))))}),[p,a,te,oe,S]),ae=_.useCallback((()=>{oe||a||(clearTimeout($.current),te().reversePlayLottie())}),[a,te,oe]);return _.createElement(_.Fragment,null,"text"===o&&_.createElement("div",{className:w()(Se,{[Ge]:a,[Ve]:m&&a,[je]:null==N?void 0:N.isSearchSideNav},i)},_.createElement(ve.a,{className:Ue,spa:d,href:globalThis.getFilterXss().filterUrl(c,null,{logType:"js.href/src",reportOnly:!1}),target:u,onClick:ee,onMouseEnter:re,onMouseLeave:ae},O&&_.createElement("div",{className:Le}),B&&_.createElement("div",{className:xe}),V&&_.createElement("div",{className:w()(Pe,{[He]:null==ne?void 0:ne.themeFurtherSwitch})},_.createElement(ct.Z,{src:globalThis.getFilterXss().filterUrl(be.Z,null,{logType:"js.href/src",reportOnly:!1}),viewBox:"0 0 19 7",height:7,width:19})),j&&_.createElement("div",{className:w()({[Ae]:l()(ht).call(ht,n),[Oe]:l()(vt).call(vt,n),[We]:K<10,[De]:K>=10,[Me]:K>99,[He]:null==ne?void 0:ne.themeFurtherSwitch})},K>99?_.createElement(ct.Z,{src:globalThis.getFilterXss().filterUrl(qe,null,{logType:"js.href/src",reportOnly:!1}),viewBox:"0 0 22 9",height:9,width:22}):K),q&&_.createElement("div",{className:w()({[Ae]:l()(ht).call(ht,n),[Oe]:l()(vt).call(vt,n),[Re]:X<10,[Be]:X>=10,[Me]:X>99,[He]:null==ne?void 0:ne.themeFurtherSwitch})},X>99?_.createElement(ct.Z,{src:globalThis.getFilterXss().filterUrl(qe,null,{logType:"js.href/src",reportOnly:!1}),viewBox:"0 0 22 9",height:9,width:22}):X),_.createElement("div",{className:w()(Ce,Ne,{[ke]:L}),style:{backgroundPosition:"".concat(a?h.darkActive:h.dark),backgroundSize:"".concat(P.ICON_BACKGROUND_SIZE,"px auto")}}),_.createElement("div",{className:w()(Ce,Te,{[ke]:L}),style:{backgroundPosition:"".concat(a?h.lightActive:h.light),backgroundSize:"".concat(P.ICON_BACKGROUND_SIZE,"px auto")}}),!oe&&D&&_.createElement(gt,{data:S,hidden:!1,loop:!1,autoplay:!1,ref:J,className:w()(Ce,{[ke]:!L}),onInit:()=>{x(!0),a?te().endOfLottie():te().resetLottie()}}),_.createElement("div",{className:Ie},_.createElement("span",{className:Fe},s?s():t)))),"image"===o&&_.createElement(ut,{spa:d,href:globalThis.getFilterXss().filterUrl(c,null,{logType:"js.href/src",reportOnly:!1}),label:t,target:u,value:n,handleTabClick:ee,showLiveRedPoint:V,showYellowPoint:O,showDotRedPoint:B,showNumberYellowPoint:j,showLiveRedCnPoint:G,showNumberRedPoint:q,active:a,activeClickable:m,renderLabel:s}))},wt="HLKZ9U4X",_t="r62Yt4yT",yt="qoKzjoSV",Et="L4Q5Pfp6",bt=e=>{var t;const{list:n,current:o,onChange:a,className:l,activeClickable:i,userInfo:s,abTestData:c,customProps:u}=e,d=_.useRef(null),[m,h]=(0,_.useState)();return(0,_.useEffect)((()=>{let e=!1;return o&&(async()=>{const t=await ge.U();if(!e){const e=fe.Le.getConfig(fe.gI.TabPointCache),n=t;fe.Le.setConfig(fe.gI.TabPointCache,{followCount:"follow"===o?0:(null==n?void 0:n.count)||(null==e?void 0:e.followCount),followHasLive:"follow"!==o&&((null==n?void 0:n.hasLive)||(null==e?void 0:e.followHasNotice)),followHasNotice:"follow"!==o&&((null==n?void 0:n.hasNotice)||(null==e?void 0:e.followHasLive)),friendHasNotice:"friend"!==o&&((null==n?void 0:n.friendHasNotice)||(null==e?void 0:e.friendHasNotice)),friendNoticeCount:"friend"===o?0:(null==n?void 0:n.friendNoticeCount)||(null==e?void 0:e.friendNoticeCount)}),n.count="follow"===o?0:t.count||(null==e?void 0:e.followCount),n.hasNotice="follow"!==o&&(t.hasNotice||(null==e?void 0:e.followHasNotice)),n.hasLive="follow"!==o&&(t.hasLive||(null==e?void 0:e.followHasLive)),n.friendHasNotice="friend"!==o&&(t.friendHasNotice||(null==e?void 0:e.friendHasNotice)),n.friendNoticeCount="friend"===o?0:t.friendNoticeCount||(null==e?void 0:e.friendNoticeCount),h(n)}})(),()=>{e=!0}}),[o]),_.createElement("div",{className:w()(wt,l,{[Et]:null==u?void 0:u.isSearchSideNav}),ref:d},$()(t=r()(n).call(n,(e=>!e.hideTab))).call(t,(e=>"divider"===e.value?_.createElement("div",{key:e.value,className:_t}):_.createElement(ft,{abTestData:c,userInfo:s,active:e.value===o,activeClickable:i,className:yt,onClick:a,customProps:{...u,...e.custom},isHidden:e.hideTab,key:e.value,socialInfo:m,...e}))))};var Ct=n(75828);const{commonChannelMenu:kt,channelMenu:Nt}=P,Tt={hot:"trend",user_self:"personal_tab"},St=e=>{var t,n,o,a,i,c;const[d,h]=_.useState(!1),[p,f]=_.useState(!1),[J,$]=_.useState(void 0),[ee,te]=_.useState(!1),[ne]=_.useState((null==e||null===(t=e.customProps)||void 0===t?void 0:t.isClient)||!1),oe=_.useRef(null),re=_.useRef(null),ae=_.useRef(null),le=_.useRef(null),ie=_.useRef(null),{abTestData:se,refEl:ce}=e,ue=_.useMemo((()=>{var e;const t=[...kt(),{value:"divider"},...Nt()],n=r()(t).call(t,(e=>e.value===P.NavigationMenuItemVal.Vs))[0];if(n&&l()(e=[E.VsSpring.NewPositionWithLive,E.VsSpring.NewPositionWithoutLive]).call(e,null==se?void 0:se.vsSpring)){const e=r()(t).call(t,(e=>e.value!==P.NavigationMenuItemVal.Vs)),o=s()(e).call(e,(e=>e.value===P.NavigationMenuItemVal.Recommend));if(-1!==o)return u()(e).call(e,o+1,0,n),e}return t}),[null==se?void 0:se.vsSpring]);_.useEffect((()=>{!async function(){const e=await b.h.getVar({name:"showNewTab",defaultValue:0});$(e)}()}),[]);const de=e=>{var t;return null!==(t=Tt[e])&&void 0!==t?t:e};_.useEffect((()=>{const t={only:"stayVideoTab",event:(t,n)=>{n>0&&Q.Z.sendLog("stayVideoTab",{tab_name:de(e.current),duration:n,is_visible:Number(t)},!1)}};N.vP(t)}),[e.current]);const me=_.useCallback((e=>{const t=e.wheelDelta||-e.detail;e.currentTarget.scrollTop+=15*(t<0?1:-1),e.preventDefault()}),[]),he=(0,C.D)((()=>{if(ee){var e,t,n,o;((null===(e=le.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.bottom)||0)-((null===(n=oe.current)||void 0===n||null===(o=n.getBoundingClientRect())||void 0===o?void 0:o.bottom)||0)>=140?(h(!0),T.i7()||le.current.addEventListener("mousewheel",me)):h(!1)}}),50,{leading:!0}),ge=(0,C.D)((()=>{var e,t,n,o;const r=(null===(e=le.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.bottom)||0,a=((null===(n=ae.current)||void 0===n||null===(o=n.getBoundingClientRect())||void 0===o?void 0:o.bottom)||0)-r;399.9<=a&&a<=400.1?(f(!0),T.i7()||le.current.removeEventListener("mousewheel",me)):f(!1)}),50,{leading:!0}),fe=(0,y.Z)((t=>{var n;var o,r,a,l;(null!=e&&null!==(n=e.customProps)&&void 0!==n&&n.isSearchSideNav?window.innerWidth<=1452:window.innerWidth<=1240)||(t.preventDefault(),!d||p&&t.deltaY<0?null===(o=re.current)||void 0===o||null===(r=o.scrollBy)||void 0===r||r.call(o,0,t.deltaY):null===(a=le.current)||void 0===a||null===(l=a.scrollBy)||void 0===l||l.call(a,0,t.deltaY))})),we=(0,C.D)((()=>{he(),ge()}),50,{leading:!0,trailing:!0}),_e=_.useMemo((()=>{const e=e=>"channel_300203"===e.value,t=e=>"channel_200204"===e.value,n=e=>"channel_200202"===e.value;if(J){const o=m()(ue).call(ue,e),r=m()(ue).call(ue,t),a=m()(ue).call(ue,n);o.hideTab=!0,r.hideTab=!1,a.hideTab=!1}return v()(ue).call(ue,(e=>{var t;if(e.value===P.NavigationMenuItemVal.Vs&&(!S.p()&&null!==(t=window.TTE_ENV)&&void 0!==t&&t.isMas))return void(e.hideTab=!0)})),g()((()=>{we()})),ue}),[J,we,ue]),ye=_.useCallback((async()=>{var e;const t=null!==(e=I.FJ().awemePcClient)&&void 0!==e?e:"";ne&&L.y(t,">=","1.2.0")?te(!1):te(!0)}),[ne]);_.useEffect((()=>{ye()}),[ye]),_.useEffect((()=>{var e;return null===(e=le.current)||void 0===e||e.addEventListener("wheel",fe),()=>{var e;null===(e=le.current)||void 0===e||e.removeEventListener("wheel",fe)}}),[]),_.useEffect((()=>{var e,t;const n=e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key||null==e||e.preventDefault()};return null===(e=le.current)||void 0===e||e.setAttribute("tabindex",0),null===(t=le.current)||void 0===t||t.addEventListener("keydown",n),window.addEventListener("resize",we),()=>{var e;null===(e=le.current)||void 0===e||e.removeEventListener("keydown",n),window.removeEventListener("resize",we)}}),[]);const{specTheme:Ee,isDark:be}=(0,pt.Z)(),Ce=_.useMemo((()=>null!=Ee&&Ee.themeFurtherSwitch?{backgroundImage:"url(".concat(be?null==Ee?void 0:Ee.siderDark:null==Ee?void 0:Ee.siderLight,")")}:{}),[Ee,be]);return _.createElement("div",{className:w()(B,null==e?void 0:e.className,{[O]:null==e||null===(n=e.customProps)||void 0===n?void 0:n.isSearchSideNav}),ref:e=>{ce&&(ce.current=e)}},_.createElement("div",{className:w()(W,{[F]:null==e||null===(o=e.customProps)||void 0===o?void 0:o.isLogoFixed,[R]:ne,[V]:null==e||null===(a=e.customProps)||void 0===a?void 0:a.isSearchLogoFixed,[A]:null==e?void 0:e.needGrayscale})},!(ne&&"Mac"===(null==e||null===(i=e.customProps)||void 0===i||null===(c=i.os)||void 0===c?void 0:c.os))&&_.createElement("div",{ref:ie,className:w()(U)},_.createElement(ve.a,{href:globalThis.getFilterXss().filterUrl(x.kj(),null,{logType:"js.href/src",reportOnly:!1}),className:G,onClick:()=>{Q.Z.sendLog("clickAwemeLogo",{enter_from:k.yW()})}}))),_.createElement("div",{"data-e2e":"douyin-navigation",className:w()(H,j,{[A]:null==e?void 0:e.needGrayscale}),onScroll:ge,style:Ce,ref:le},_.createElement("div",{className:w()(Z,{[j]:p||!ee,[K]:null==Ee?void 0:Ee.themeFurtherSwitch}),onScroll:he,ref:re},_.createElement("div",{className:w()(Y,{[z]:!ee,[q]:T.vU()}),ref:oe},_.createElement(bt,{...e,onChange:(t,n)=>{var o,r;const a=k.yW();let i=a.match(D.PH)?a:"";null!==(o=location)&&void 0!==o&&null!==(r=o.pathname)&&void 0!==r&&l()(r).call(r,"/search")&&(i="search_result"),Q.Z.sendLog("enterVideoTab",{tab_name:de(t),previous_page:i}),(0,Ct.b)(),e.onChange&&e.onChange(t,n)},className:e.className,list:_e,customProps:null==e?void 0:e.customProps}))),ee&&_.createElement("div",{className:w()(M,{[X]:null==Ee?void 0:Ee.themeFurtherSwitch}),ref:ae},_.createElement(pe,{specTheme:Ee}))))}},94553:(e,t,n)=>{n.d(t,{Z:()=>o});const o=new(n(32059).hD)({enterVideoTab:{eventName:"enter_video_tab",params:{tab_name:"",previous_page:""}},stayVideoTab:{eventName:"stay_video_tab",params:{tab_name:"",duration:0,is_visible:1}},clickMoreTab:{eventName:"click_more_tab",params:{}},navigationBarExpand:{eventName:"navigation_bar_expand",params:{enter_from:""}},navigationBarFold:{eventName:"navigation_bar_fold",params:{enter_from:""}},clickAwemeLogo:{eventName:"click_aweme_logo",params:{enter_from:""}}})},39658:(e,t,n)=>{n.d(t,{i:()=>i});var o=n(43500);const r="HWiSubLL";var a=n(79705),l=n.n(a);function i(e){const{style:t,className:n=""}=e||{};return o.createElement("div",{className:l()(r,n),style:t})}},83199:(e,t,n)=>{n.d(t,{$:()=>P});var o=n(9120),r=n.n(o),a=n(92012),l=n.n(a),i=n(80051),s=n.n(i),c=n(94610),u=n.n(c),d=n(43500),m=n(79705),h=n.n(m),v=n(66439),p=n(62139);const g=[{url:"https://www.oceanengine.com/resource/douyin?source=douyin-pc",title:"\u5e7f\u544a\u6295\u653e"},{url:"https://www.douyin.com/agreements/?id=6773906068725565448",title:"\u7528\u6237\u670d\u52a1\u534f\u8bae",needExtraParams:!0},{url:"https://www.douyin.com/agreements/?id=6773901168964798477",title:"\u9690\u79c1\u653f\u7b56",needExtraParams:!0},{url:"https://www.douyin.com/recovery_account/",title:"\u8d26\u53f7\u627e\u56de"},{url:"https://www.douyin.com/aboutus/#contact",title:"\u8054\u7cfb\u6211\u4eec"},{url:"https://www.douyin.com/aboutus/#join",title:"\u52a0\u5165\u6211\u4eec"},{url:"https://www.douyin.com/business_license/",title:"\u8425\u4e1a\u6267\u7167"},{url:"https://www.douyin.com/friend_links",title:"\u53cb\u60c5\u94fe\u63a5"},{url:"https://www.douyin.com/htmlmap/hotauthor_0_1",title:"\u7ad9\u70b9\u5730\u56fe"},{url:"https://www.douyin.com/downloadpage",title:"\u4e0b\u8f7d\u6296\u97f3"},{url:"https://mix.jinritemai.com/falcon/mix_page/index.html?__live_platform__=webcast&allowMediaAutoPlay=1&enter_from=others&hide_nav_bar=1&hide_system_video_poster=1&id=7117178766052294949&origin_type=others&should_full_screen=1&trans_status_bar=1&ttwebview_extension_mixrender=1&hide_nav_bar=1&should_full_screen=1&trans_status_bar=1&web_bg_color=#ffffffff",title:"\u6296\u97f3\u7535\u5546"}],f=[[{url:"https://www.piyao.org.cn/yybgt/index.htm",title:"\u7f51\u7edc\u8c23\u8a00\u66dd\u5149\u53f0 \uff5c "},{url:"https://www.12377.cn/",title:"\u7f51\u4e0a\u6709\u5bb3\u4fe1\u606f\u4e3e\u62a5"},{title:"\uff5c \u8fdd\u6cd5\u548c\u4e0d\u826f\u4fe1\u606f\u4e3e\u62a5\uff1a400-140-2108 \uff5c \u9752\u5c11\u5e74\u5b88\u62a4\u4e13\u7ebf\uff1a400-9922-556 \uff5c \u7b97\u6cd5\u63a8\u8350\u4e13\u9879\u4e3e\u62a5\uff1asfjubao@bytedance.com \uff5c \u7f51\u7edc\u5185\u5bb9\u4ece\u4e1a\u4eba\u5458\u8fdd\u6cd5\u8fdd\u89c4\u884c\u4e3a\u4e3e\u62a5\uff1afeedback@douyin.com"}],[{url:"https://beian.miit.gov.cn/",title:"\u4eacICP\u590716016397\u53f7-3"},{url:"https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/jiemuzhizuojingying.jpeg",title:" \uff5c \u5e7f\u64ad\u7535\u89c6\u8282\u76ee\u5236\u4f5c\u7ecf\u8425\u8bb8\u53ef\u8bc1"},{url:"https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/zengzhixuke.jpeg",title:" \uff5c \u4eacB2-20170846"},{url:"https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/wangluowenhuajingying.jpeg",title:" \uff5c \u7f51\u7edc\u6587\u5316\u8bb8\u53ef\u8bc1-\u4eac\u7f51\u6587-\uff082022\uff090938-030\u53f7 \uff5c "},{icon:"//p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/emblem.png",url:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11000002002046",title:"\u4eac\u516c\u7f51\u5b89\u5907 11000002002046\u53f7"}]],w="VRcJSlv6",_="uy0xcb2o",y="Es34a3Bm",E="JXaUfgsM",b="cHlCoDpR",C="OqamRr48",k="WltbFpmM",N="SBRU08_v",T="FipJiH3x",S="RWEDYsSQ";var I,L=n(96460),x=n(66331);function P(e){let{theme:t,linkItems:n,subLinkItems:o,innerLink:a=[],showInnerLink:i=!0,className:c}=e;const[m,P]=(0,d.useState)((()=>null==a?void 0:r()(a).call(a,((e,t)=>l()(e).call(e,null==t?void 0:t.links)),[]))),{isHorizontalLayout:D}=(0,L.o)(),M=n||g,B=o||f;return(0,d.useEffect)((()=>{const e=null==a?void 0:r()(a).call(a,((e,t)=>l()(e).call(e,null==t?void 0:t.links)),[]);let t=!1;return null!=e&&e.length||!i||(async()=>{var e,n;const[o,a]=await s().all([(0,p.Ws)(),(0,p.F8)()]),i=0===(null==o?void 0:o.statusCode)?null==o?void 0:o.data:[],c=0===(null==a?void 0:a.statusCode)?[{links:null==a||null===(e=a.data)||void 0===e||null===(n=u()(e))||void 0===n?void 0:n.call(e,(e=>({url:null==e?void 0:e.url,anchor:null==e?void 0:e.keyword})))}]:[];if(!t){var d;const e=r()(d=l()(i).call(i,c)).call(d,((e,t)=>l()(e).call(e,null==t?void 0:t.links)),[]);P(e)}})(),()=>{t=!0}}),[]),d.createElement("footer",{className:h()(I[t],c)},d.createElement("div",{className:w},d.createElement("div",{className:_},Boolean(M.length)&&u()(M).call(M,((e,t)=>d.createElement("div",{className:y,key:t},d.createElement(x.a,{href:globalThis.getFilterXss().filterUrl(e.url,null,{logType:"js.href/src",reportOnly:!1}),target:"_blank",rel:"noopener noreferrer ".concat(v.P(e.title)),isNeedSeoOpt:!(null!=e&&e.needExtraParams)},e.title))))),Boolean(B.length)&&u()(B).call(B,((e,t)=>d.createElement("div",{key:"group_".concat(t),className:E},Boolean(e.length)&&u()(e).call(e,((e,t)=>d.createElement("div",{className:b,key:t},e.icon&&d.createElement("img",{className:C,src:globalThis.getFilterXss().filterUrl(e.icon,null,{logType:"js.href/src",reportOnly:!1}),alt:"icon"}),e.url?d.createElement(x.a,{href:globalThis.getFilterXss().filterUrl(e.url,null,{logType:"js.href/src",reportOnly:!1}),target:"_blank",rel:"noopener noreferrer nofollow"},e.title):d.createElement("span",null,e.title))))))),Boolean(m.length)&&i&&d.createElement("div",{className:k},d.createElement("span",{className:N}),d.createElement("span",{className:T},"\u70ed\u95e8\uff1a"),u()(m).call(m,(e=>d.createElement("span",{className:S,key:e.url},d.createElement(x.a,{href:globalThis.getFilterXss().filterUrl(e.url,null,{logType:"js.href/src",reportOnly:!1}),target:"_blank",rel:"noopener noreferrer"},e.anchor)))))))}!function(e){e.light="isLight",e.dark="isDark"}(I||(I={}))},68380:(e,t,n)=>{n.d(t,{p:()=>i});var o=n(43500),r=n(15621),a=n(38284),l=n(38765);const i=e=>{const{children:t,headerPopupName:n}=e,{onMouseEnter:i,onMouseLeave:s}=(0,l.U)({enterDelay:100,leaveDelay:200,onMouseEnter:()=>{r.YY.replaceCurrentTask({id:r.BE.HoverTaskId,priority:r.T0.HoverPriority,isBlock:!0}),n&&a.emit(a.EVENT.showHeaderPopUp,{type:n,isShow:!0})},onMouseLeave:()=>{r.YY.finishTask(r.BE.HoverTaskId)}});return o.createElement("div",{onMouseEnter:i,onMouseLeave:s},t)}},23983:(e,t,n)=>{n.d(t,{Y:()=>y});var o=n(92012),r=n.n(o),a=n(94610),l=n.n(a),i=n(43500),s=n(79705),c=n.n(s),u=n(84631),d=n(7444),m=n(38284);const h={circleButtonWrapper:"gVAgxPt4",circleButtonWithText:"q7itrkcz",textBadge:"eWId3EeD",roundBadge:"CPQ46DEr",circleButtonWithTextRoundBadge:"ATU7pfeV",circleButton:"XyCeQKrx",circleButtonAvatar:"HfOiEY9W",activity:"BYWQkd_k",iconContainer:"ErRR3mNa",vsTransMode:"tBOngNBR",transparent:"KakDUzX5",iconSvg:"lG5TmBA_",text:"ck1_UmL3",imageBadge:"Zqqn054W",circleButtonNoTextImageBadge:"KdFLVILi",circleButtonWithTextImageBadge:"PRw67Cxk",themeSwitch:"Os_brk6Y",dropdownContainer:"hipNfQvh",active:"OLBujdZM",shadowChange:"UyPtgm0l",overflowChange:"vaPb40TJ",dropDownListInCenterChange:"iL8wmqWL",textLinkALink:"F_Jaoez_",conversationDtailAnimationKeyframes:"dVesF2gU",dropDownListInNoCenterChange:"wZr_ore7",showDeleteAllMessageModal:"Pjo5kCGk",dropDownListInNoCenterLeftTopChange:"d9lHvYy5",dropDownListOutChange:"ipS33FS1"};var v=n(87336),p=n(34559),g=n(37160),f=n(14495),w=n(66331);function _(e){var t,n,o,a;const{className:l,avatarUrl:s,text:u,avatarHeight:v,avatarWidth:_,badge:y,badgeText:E,onMouseEnter:b,onMouseLeave:C,onMouseOver:k,onMouseOut:N,onClick:T,viewBox:S,activityName:I,badgeIconSvg:L,badgeIconHeight:x,badgeIconWidth:P,badgeIconViewbox:D,headerPopupName:M,circleButtonContainerClassName:B,children:A,svgContainerClassName:O,showBadge:W=!1,url:R,downloadAttr:F,target:V,transparent:U,badgeStyle:G}=e;let{icon:H,iconHeight:j,iconWidth:Z}=e;H=null!==(t=H)&&void 0!==t?t:s,Z=null!==(n=Z)&&void 0!==n?n:_,j=null!==(o=j)&&void 0!==o?o:v;const{type:K,changeType:Y}=(0,g.P)({delayShow:100});(0,i.useEffect)((()=>{const e=m.listen(m.EVENT.showHeaderPopUp,(e=>{M===e.type&&!1===e.isShow&&Y()}));return()=>e()}),[M]);const q=(0,i.useMemo)((()=>{var e;return i.createElement(p.Z,{src:globalThis.getFilterXss().filterUrl(H,null,{logType:"js.href/src",reportOnly:!1}),width:Z,height:j,viewBox:S||r()(e="0 0 ".concat(Z," ")).call(e,j),className:h.iconSvg})}),[H,Z,j,S]),{specTheme:z}=(0,f.Z)();return i.createElement("div",{className:c()(h.circleButtonWrapper,B),onMouseEnter:e=>{null==b||b(e)},onMouseLeave:e=>{null==C||C(e)},onMouseOver:e=>{null==k||k(e)},onMouseOut:e=>{null==N||N(e)}},R&&i.createElement(w.a,{href:globalThis.getFilterXss().filterUrl(R,null,{logType:"js.href/src",reportOnly:!1}),download:F,target:V,onClick:T,className:c()(h.circleButton,h.circleButtonWithText,{isDark:Boolean(I)||U,[h.activity]:Boolean(I)||U,[null==h?void 0:h[I]]:I,[h.transparent]:U},l)},i.createElement("div",{className:h.iconContainer},q),i.createElement("p",{className:h.text},u)),!R&&i.createElement("div",{onClick:T,className:c()(h.circleButton,h.circleButtonWithText,{isDark:Boolean(I)||U,[h.activity]:Boolean(I)||U,[null==h?void 0:h[I]]:I,[h.transparent]:U},l),"data-e2e":"something-button"},i.createElement("div",{className:h.iconContainer},q),i.createElement("p",{className:h.text},u)),W&&("text"===y||"round"===y)&&i.createElement(d.C,{className:c()({[h.textBadge]:"text"===y,[h.roundBadge]:"round"===y,[h.circleButtonWithTextRoundBadge]:"round"===y}),type:y,text:"text"===y?E||u:"",style:G}),W&&"image"===y&&i.createElement("div",{className:c()(h.imageBadge,O,h.circleButtonWithTextImageBadge,{[h.themeSwitch]:null==z?void 0:z.themeSwitch})},i.createElement(p.Z,{src:globalThis.getFilterXss().filterUrl(L,null,{logType:"js.href/src",reportOnly:!1}),width:P,height:x,viewBox:D||r()(a="0 0 ".concat(P," ")).call(a,x)})),A)}const y=(0,i.memo)((function e(t){const{type:n,className:o,trigger:r,items:a,onMouseEnter:s,onMouseLeave:d,onMouseOver:p,onMouseOut:f,children:w,itemsContainerClassName:y,headerPopupName:E}=t,{type:b,changeType:C}=(0,g.P)({delayDisappear:200,delayShow:100}),k=(0,i.useCallback)((e=>{"hover"===r&&C("active"),null==s||s(e)}),[r,s,C]),N=(0,i.useCallback)((e=>{"hover"===r&&C(),null==d||d(e)}),[r,d,C]),T=(0,i.useCallback)((e=>null==p?void 0:p(e)),[p]),S=(0,i.useCallback)((e=>null==f?void 0:f(e)),[f]),I=(0,i.useMemo)((()=>"hover"===r&&a&&a.length?i.createElement("div",{className:c()(h.dropdownContainer,{[h.active]:Boolean(b),[y]:Boolean(b&&void 0!==y)})},i.createElement("ul",{"data-e2e":"cooperate-list"},l()(a).call(a,(t=>i.createElement("li",{key:t.key||t.text},i.createElement(e,{...t})))))):[]),[a,r,b,y]);(0,i.useEffect)((()=>E&&m.listen(m.EVENT.showHeaderPopUp,(e=>{"active"===b&&e.type!==E&&e.isShow&&C("",!0)}))),[C,b,E]);const L=(0,u.Z)(b);return(0,i.useEffect)((()=>{L!==b&&E&&m.emit(m.EVENT.showHeaderPopUp,{type:E,isShow:Boolean(b)})}),[b,E,L]),i.createElement(i.Fragment,null,"textLink"!==n&&i.createElement(_,{...{...t,className:o,onMouseEnter:k,onMouseLeave:N,onMouseOver:T,onMouseOut:S}},I,w),"textLink"===n&&i.createElement("div",null,i.createElement(v.h,{...{...t,className:o,onMouseEnter:k,onMouseLeave:N,onMouseOver:T,onMouseOut:S,aLinkStyle:h.textLinkALink}},I,w)))}))},11247:(e,t,n)=>{n.d(t,{n:()=>fe,H:()=>we});var o=n(21805),r=n.n(o),a=n(59440),l=n.n(a),i=n(92637),s=n.n(i),c=n(76735),u=n.n(c),d=n(94610),m=n.n(d),h=n(43500),v=n(89187),p=n(15621),g=n(16866),f=n(62638),w=n(62310),_=n.n(w),y=n(84578),E=n.n(y),b=n(21696),C=n.n(b),k=n(67827),N=n.n(k),T=n(92012),S=n.n(T),I=n(21857),L=n.n(I),x=n(18464),P=n(25169),D=n(80492),M=n(53539),B=n(73597),A=n(9961),O=n(86069),W=n(92899),R=n(82229);const F=(e,t)=>{const[n,o]=(0,h.useState)(null),[a,l]=(0,h.useState)([]);(0,h.useEffect)((()=>{let n=!1;return e&&O.H((async()=>{const e=await x.U2({key:R.TccKey.LivePush,defaultValue:[],namespace:x.m_.HOME});var o,r;n||l(_()(o=s()(r=s()(e).call(e,(e=>1e3*e.endTime>u()()))).call(r,(e=>!e.isAggressive||Boolean(t)))).call(o,((e,t)=>e.startTime-t.startTime)))})),()=>{n=!0}}),[t,e]);const i=(0,h.useMemo)((()=>(e=>{const t=null==e?void 0:e[0];return t?Math.max(1e3*t.startTime-u()(),0):0})(a)),[a]),{cancel:c}=(0,P.I)((0,h.useCallback)((async e=>{try{var t,n,i,s,c,d,m,h,v,p,w,_,y,b,k;if(!a.length)return;const{data:T}=await(null===(t=L().app)||void 0===t||null===(n=t.getIsFrontShow)||void 0===n?void 0:n.call(t))||{},S=await(0,W.j)(),{isForceLive:I}=M.Le.getConfig(M.gI.IsForceInsert)||{},{roomId:x,endTime:P}=g.Q.getItem({sKey:f.CookieKeys.LivePushRecord})||{},{live_push_record:D}=g.Q.getItem({sKey:f.CookieKeys.ClientPush})||{},A=D&&JSON.parse(D);if(u()()>1e3*a[0].endTime||!1===T||null!=A&&A[null==S||null===(i=S.data)||void 0===i?void 0:i.roomId]&&a[0].startTime<=(null==A?void 0:A[null==S||null===(s=S.data)||void 0===s?void 0:s.roomId])||(null===(c=window)||void 0===c||null===(d=c.__STORE__)||void 0===d||null===(m=d.roomStore)||void 0===m||null===(h=m.roomInfo)||void 0===h?void 0:h.roomId)===(null==S||null===(v=S.data)||void 0===v?void 0:v.roomId)&&null!=S&&null!==(p=S.data)&&void 0!==p&&p.roomId||(null==S||null===(w=S.data)||void 0===w?void 0:w.roomId)===x&&u()()<1e3*P)return void l(E()(a).call(a,1));if(!e())return;if(!1!==I&&("/"===(null===(_=location)||void 0===_?void 0:_.pathname)||"/recommend"===(null===(y=location)||void 0===y?void 0:y.pathname))&&"live.douyin.com"!==(null===(b=location)||void 0===b?void 0:b.hostname))return;if(!S||!S.data||r()(k=C()(null==S?void 0:S.data)).call(k,void 0))return void B.oe.event.error({name:B.Mo.LivePushNoDataError,report:{logId:null==S?void 0:S.logId,queryRes:N()(S)}});if(!S.data)return;o(S)}catch(T){}}),[a]),6e4,i);(0,h.useEffect)((()=>{a.length||c()}),[c,a]);const d=(0,h.useCallback)((()=>{if(!n)return;const{roomId:e,userId:t}=(null==n?void 0:n.data)||{},{startTime:o,endTime:r}=a[0]||{};D.i.sendLog("innerPushShow",{enter_from:A.yW(),room_id:e,anchor_id:t});g.Q.setItem(f.CookieKeys.LivePushRecord,{roomId:e,startTime:o,endTime:r},86400)}),[n,a]),m=(0,h.useCallback)((()=>{o(null),l(E()(a).call(a,1))}),[a]),v=(0,h.useCallback)((()=>{var e,t,o;if(null==n||null===(e=n.data)||void 0===e||!e.webRid)return;const{roomId:r,userId:a}=(null==n?void 0:n.data)||{},l=A.yW();D.i.sendLog("innerPushClick",{enter_from:l,room_id:r,anchor_id:a,click_position:"watch"}),window.open(S()(t="https://live.douyin.com/".concat(null==n||null===(o=n.data)||void 0===o?void 0:o.webRid,"?enter_from_merge=")).call(t,l,"&enter_method=hq_live_push"))}),[n]),p=(0,h.useCallback)((()=>{const{roomId:e,userId:t}=(null==n?void 0:n.data)||{},o=A.yW();D.i.sendLog("innerPushClick",{enter_from:o,room_id:e,anchor_id:t,click_position:"more"}),window.open("https://www.douyin.com/vs","_blank")}),[n]);return{liveInfo:(0,h.useMemo)((()=>{return(e=n)?{avatar:null===(t=e.data)||void 0===t||null===(o=t.avatar)||void 0===o||null===(r=o.url_list)||void 0===r?void 0:r[0],cover:null===(a=e.data)||void 0===a||null===(l=a.cover)||void 0===l||null===(i=l.url_list)||void 0===i?void 0:i[0],title:null===(s=e.data)||void 0===s?void 0:s.title,roomId:null===(c=e.data)||void 0===c?void 0:c.roomId,type:fe.PushLive,anchorId:null===(u=e.data)||void 0===u?void 0:u.userId,text:"\u6b63\u5728\u64ad\u51fa"}:null;var e,t,o,r,a,l,i,s,c,u}),[n]),onShow:d,onClose:m,onClick:v,onSubTitleClick:p}};var V=n(38284);const U=()=>{const[e,t]=(0,h.useState)(null);(0,h.useEffect)((()=>{const e=V.listen(V.EVENT.webLivePushMessage,(e=>{var n;null!=e&&e.imageUrl&&null!=e&&e.text&&null!=e&&e.title&&null!=e&&e.webRid?r()(n=location.href).call(n,"live.douyin.com/".concat(null==e?void 0:e.webRid))||t(e):B.oe.event.error({name:B.Mo.LivePushMessageError,report:{message:N()(e)}})}));return()=>{e()}}),[]);const n=(0,h.useCallback)((()=>{const{roomId:t,anchorId:n}=e||{},o=A.yW();D.i.sendLog("appointmentPushShow",{enter_from:o,room_id:t,anchor_id:n});const r=g.Q.getItem({sKey:f.CookieKeys.LivePreorderList})||[];g.Q.setItem(f.CookieKeys.LivePreorderList,[...r,{roomId:t}])}),[e]),o=(0,h.useCallback)((()=>{var t;const{roomId:n,anchorId:o,webRid:r}=e||{},a=A.yW();D.i.sendLog("appointmentPushClick",{enter_from:a,room_id:n,anchor_id:o}),window.open(S()(t="https://live.douyin.com/".concat(r,"?enter_from_merge=")).call(t,a,"&enter_method=inner_push"),"_blank")}),[e]),a=(0,h.useCallback)((()=>{t(null)}),[]);return{orderInfo:(0,h.useMemo)((()=>{return(t=e)?{...t,avatar:t.imageUrl,type:fe.Preorder}:null;var t}),[e]),onShow:n,onClick:o,onClose:a}};var G=n(88438),H=n.n(G),j=n(54805),Z=n(79705),K=n.n(Z);const Y="EAnZYE_A",q="wl54lwxY",z="vT3pEATX",X="lhN14CeY",Q="KFtP7bgM",J="FUBL0LO9",$="Qqv8ONZm",ee="XVAncFKz",te="IzPXzHgT",ne="Wy0VnG2u",oe="PiEHXdAk",re="lhD2j0OC";var ae;function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},le.apply(this,arguments)}const ie=function(e){return h.createElement("svg",le({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ae||(ae=h.createElement("path",{d:"M13.667 13.667a.757.757 0 01-1.07 0l-2.32-2.32-2.318 2.32a.757.757 0 01-1.07-1.07l2.318-2.32-2.319-2.319a.757.757 0 111.07-1.07l2.32 2.319 2.319-2.32a.757.757 0 111.07 1.071l-2.319 2.32 2.32 2.318a.757.757 0 010 1.07z"})))};var se=n(19445);const ce="zyqwKfMV",ue="fbLMcq1Z",de=e=>{const{text:t,className:n,textClassName:o,gap:r,duration:a}=e||{},[l,i]=(0,h.useState)(!1);return h.createElement("div",{className:K()(ce,n)},h.createElement("div",{ref:e=>{var t;e&&e.clientWidth>=(null===(t=e.parentElement)||void 0===t?void 0:t.clientWidth)&&i(!0)},className:K()(o,{[ue]:l}),style:{"--marquee-gap":"".concat(r||20,"px"),"--marquee-duration":"".concat(a||15,"s")},"data-text":t},t))};var me=n(34559);const he=(0,h.memo)((e=>{const{liveInfo:t,onClose:n,onShow:o,onClick:r,subTitleElement:a}=e,{avatar:l,title:i,text:s}=t||{},c=(0,h.useRef)(),u=(0,j.Z)((()=>{c.current=H()((()=>{n()}),1e4)}));return(0,h.useEffect)((()=>{o()}),[o]),(0,h.useEffect)((()=>(u(),()=>{clearTimeout(c.current)})),[]),h.createElement("div",{className:Y,onMouseEnter:()=>{clearTimeout(c.current)},onMouseLeave:()=>{c.current=H()((()=>{n()}),1e4)}},h.createElement("div",{className:q,onClick:r},h.createElement("div",{className:z},h.createElement(se.n,{type:"push",src:globalThis.getFilterXss().filterUrl(l,null,{logType:"js.href/src",reportOnly:!1}),liveRoomUrl:"",onClick:e=>e.preventDefault()})),h.createElement("div",{className:X},h.createElement(de,{text:i,className:Q}),s&&h.createElement("div",{className:J,style:{cursor:"default"},onClick:e=>e.stopPropagation()},s),Boolean(a)&&a),h.createElement("div",{className:$},h.createElement("span",null,"\u53bb\u770b\u770b"))),h.createElement(me.Z,{onClick:()=>{n()},className:K()(ee),src:globalThis.getFilterXss().filterUrl(ie,null,{logType:"js.href/src",reportOnly:!1}),width:20,height:20,viewBox:"0 0 20 20"}))}));var ve=n(52441),pe=n(78625);const ge=(0,h.memo)((e=>{const{liveInfo:t,onClose:n,onShow:o,onClick:r,subTitleElement:a}=e,{cover:l,title:i,text:s}=t||{},c=(0,h.useRef)(),u=(0,j.Z)((()=>{c.current=H()((()=>{n()}),1e4)}));return(0,h.useEffect)((()=>{o()}),[o]),(0,h.useEffect)((()=>(u(),()=>{clearTimeout(c.current)})),[]),h.createElement("div",{className:te,onMouseEnter:()=>{clearTimeout(c.current)},onMouseLeave:()=>{c.current=H()((()=>{n()}),1e4)}},h.createElement("div",{className:q,onClick:r},h.createElement("div",{className:ne},h.createElement("img",{src:globalThis.getFilterXss().filterUrl(l,null,{logType:"js.href/src",reportOnly:!1}),onClick:e=>e.preventDefault(),width:74}))),h.createElement("div",{className:$,onClick:r},h.createElement(de,{text:i,className:Q}),s&&h.createElement("div",{className:J,style:{cursor:"default"},onClick:e=>e.stopPropagation()},s),Boolean(a)&&a,h.createElement("div",{className:oe},h.createElement(pe.default,{autoplay:!0,loop:!0,data:ve,className:re}),h.createElement("span",null,"\u89c2\u770b\u76f4\u64ad"))),h.createElement(me.Z,{onClick:()=>{n()},className:K()(ee),src:globalThis.getFilterXss().filterUrl(ie,null,{logType:"js.href/src",reportOnly:!1}),width:20,height:20,viewBox:"0 0 20 20"}))}));var fe;!function(e){e.Preorder="preorder",e.PushLive="pushLive"}(fe||(fe={}));const we=e=>{var t,n;const{livePushType:o}=e||{},a=r()(t=[v.LivePush.LargeAggressive,v.LivePush.SmallAggressive]).call(t,o),i=r()(n=[v.LivePush.LargeAggressive,v.LivePush.LargeNormal]).call(n,o),[c,d]=(0,h.useState)([]),w=(0,h.useRef)([]),{liveInfo:_,onShow:y,onClose:E,onClick:b}=F(Boolean(o),a),{orderInfo:C,onShow:k,onClick:N,onClose:T}=U();(0,h.useEffect)((()=>{w.current=c}),[c]),(0,h.useEffect)((()=>{const e=w.current;if(_&&!l()(e).call(e,(e=>e.roomId===_.roomId))){const e=g.Q.getItem({sKey:f.CookieKeys.LivePreorderList})||[];if(l()(e).call(e,(e=>e.roomId===_.roomId)))return;p.YY.insertTask(p.BE.PushMessage,(()=>{d((e=>[_,...e]))}),{isBlock:!0,onFinish:()=>{d((e=>s()(e).call(e,(e=>e.roomId!==_.roomId))))}})}if(C&&!l()(e).call(e,(e=>e.roomId===C.roomId))){const e=g.Q.getItem({sKey:f.CookieKeys.LivePushRecord})||{};if(e.roomId===C.roomId&&1e3*e.endTime>u()())return;p.YY.insertTask(p.BE.PushMessage,(()=>{d((e=>[C,...e]))}),{isBlock:!0,onFinish:()=>{d((e=>s()(e).call(e,(e=>e.roomId!==_.roomId))))}})}}),[_,C]),(0,h.useEffect)((()=>{c&&c.length||p.YY.finishTask(p.BE.PushMessage)}),[c]);const S=e=>{const{type:t,roomId:n}=e||{};t===fe.Preorder?T():t===fe.PushLive&&E(),d((e=>null==e?void 0:s()(e).call(e,(e=>(null==e?void 0:e.roomId)!==n))))},I=e=>{const{type:t}=e||{};t===fe.Preorder?k():t===fe.PushLive&&y()},L=e=>{const{type:t}=e||{};t===fe.Preorder?N():t===fe.PushLive&&b(),S(e)};return h.createElement("div",null,m()(c).call(c,(e=>i&&e.type!==fe.Preorder?h.createElement(ge,{key:null==e?void 0:e.roomId,liveInfo:e,onClose:()=>S(e),onShow:()=>I(e),onClick:()=>L(e)}):h.createElement(he,{key:null==e?void 0:e.roomId,liveInfo:e,onClose:()=>S(e),onShow:()=>I(e),onClick:()=>L(e)}))))}},87336:(e,t,n)=>{n.d(t,{h:()=>f,j:()=>k});var o=n(92012),r=n.n(o),a=n(43500),l=n(79705),i=n.n(l),s=n(67948),c=n(23180),u=n(66439),d=n(72918),m=n(7444),h=n(47925);const v={hoverBold:"bhpixfNG",aLinkWrapper:"OMlv_Xup",badge:"QIJri12p",activity:"qm891520",vsTransMode:"oTbgb08Q",childrenContainer:"nkKKNGny"};var p=n(66331);const g="\u5f00\u64ad\u5b9e\u65f6\u6570\u636e";function f(e){const{className:t,onClick:o,isLogin:l,url:d,text:h,clickToLogin:f,loginSuccess:w,onMouseEnter:_,onMouseLeave:y,onMouseOver:E,onMouseOut:b,loginHeaderText:C,jumpAfterLogin:k,loginEventParams:N,badge:T,activityName:S,aLinkStyle:I,children:L,childrenContainerClassName:x,downloadAttr:P,target:D,showBadge:M=!0,badgeStyle:B,badgeText:A}=e,O=e=>{var t;const a=null==o?void 0:o(e);var i;f&&!1===l&&(n.e(305).then(n.bind(n,50305)).then((e=>{var t,n,o;let{navShowAccount:a}=e;a({success:()=>{k&&window.open(d,"_blank"),null==w||w()},enterMethod:"navigation_bar",next:r()(t="".concat(null==s?void 0:c.tJ)).call(t,null===(n=window)||void 0===n||null===(o=n.location)||void 0===o?void 0:o.host),headerText:C,teaEvtParams:N})})),null==e||null===(i=e.preventDefault)||void 0===i||i.call(e));return!d&&(null==e||null===(t=e.preventDefault)||void 0===t||t.call(e)),a},W=["noopener",u.P(h)];return h!==g&&W.push("noreferrer"),a.createElement("div",{onMouseEnter:e=>{null==_||_(e)},onMouseLeave:e=>{null==y||y(e)},onMouseOver:e=>{null==E||E(e)},onMouseOut:e=>{null==b||b(e)},className:i()(v.aLinkWrapper,v.hoverBold,t,{isDark:Boolean(S),[v.activity]:Boolean(S),[null==v?void 0:v[S]]:S})},d?a.createElement(p.a,{target:D||"_blank",rel:W.join(" "),href:globalThis.getFilterXss().filterUrl(d,null,{logType:"js.href/src",reportOnly:!1}),onClick:O,className:I,download:P,"data-e2e":"alink-item"},h):a.createElement("span",{className:I,onClick:O},h),M&&("round"===T||"text"===T)&&a.createElement(m.C,{className:v.badge,type:T,text:"text"===T?A||h:"",style:B}),a.createElement("div",{className:i()(v.childrenContainer,x)},L))}const w={key:"doubi_recharge",text:"\u6296\u5e01\u5145\u503c",url:"//".concat(h.HOME_DOMAIN,"/falcon/webcast_openpc/pages/douyin_recharge/index.html")},_={key:"creator",text:"\u521b\u4f5c\u8005\u670d\u52a1",url:"//".concat(h.CREATOR_DOMAIN)},y={key:"rule",text:"\u89c4\u5219\u4e2d\u5fc3",url:"//".concat(h.HOME_DOMAIN,"/rule")},E={key:"aboutDouyin",text:"\u5173\u4e8e\u6296\u97f3",url:"//".concat(h.HOME_DOMAIN,"/home")},b={key:"platform",text:"\u6296\u97f3\u5f00\u653e\u5e73\u53f0",url:"//".concat(h.OPRNPLATFORM_DOMAIN)},C={key:"certification",text:"\u8ba4\u8bc1\u4e0e\u5408\u4f5c",url:"//".concat(h.HOME_DOMAIN,"/certification/#certification")},k={recharge:w,homepage:{key:"personal_panel",text:"\u4e2a\u4eba\u4e3b\u9875",clickToLogin:!0,loginHeaderText:"\u767b\u5f55\u540e\u5373\u53ef\u67e5\u770b\u201c\u4e2a\u4eba\u4e3b\u9875\u201d"},liveMate:{key:"streaming_tool",text:"\u76f4\u64ad\u4f34\u4fa3",url:"https://streamingtool.douyin.com/",clickToLogin:!0,jumpAfterLogin:!0,loginHeaderText:"\u767b\u5f55\u540e\u5373\u53ef\u67e5\u770b\u201c\u76f4\u64ad\u4f34\u4fa3\u201d"},logout:{key:"logout",text:"\u9000\u51fa\u767b\u5f55"},creator:_,rule:y,aboutDouyin:E,marketing:{key:"marketing",text:"\u5e7f\u544a\u6295\u653e",url:"//".concat(h.OCEAN_ENGINE_DOMAIN,"/resource/douyin?source=douyin-pc")},ecommerce:{text:"\u6296\u97f3\u7535\u5546",url:"//".concat(h.DOUYIN_EC_DOMAIN,"/"),key:"ecommerce"},certification:C,platform:b,publish:{key:"publish",text:"\u53d1\u5e03\u89c6\u9891",url:"//".concat(h.CREATOR_DOMAIN,"/creator-micro/content/upload?enter_from=dou_web"),badge:"round",badgeStyle:{right:"54px",top:"18px"}},videoManage:{key:"videoManage",text:"\u89c6\u9891\u7ba1\u7406",url:"//".concat(h.CREATOR_DOMAIN,"/creator-micro/content/manage")},postStatistics:{key:"postStatistics",text:"\u4f5c\u54c1\u6570\u636e",url:"//".concat(h.CREATOR_DOMAIN,"/creator-micro/data/stats/overview?enter_from=dou_web"),badge:"text",badgeText:"NEW",badgeStyle:{top:"16px",right:"26px",transform:"scale(.79, 1)"}},creatorSchool:{key:"creatorSchool",text:"\u521b\u4f5c\u8005\u5b66\u4e60\u4e2d\u5fc3",url:"//".concat(h.CREATOR_DOMAIN,"/creator-school")},backToHome:{key:"backToHome",text:"\u8fd4\u56de\u63a8\u8350\u9875",url:"//".concat(h.HOME_DOMAIN)},cooperation:{key:"cooperation",text:"\u5408\u4f5c"},downloadClient:{key:"downloadClient",text:"\u4e0b\u8f7d\u5ba2\u6237\u7aef"},collectionGuide:{key:"collectionDouyin",text:"\u6536\u85cf\u7f51\u9875"},liveData:{key:"livedata",text:g,url:d.LIVE_DATA_LINK}}},47036:(e,t,n)=>{n.d(t,{E6:()=>ie});var o=n(43500),r=n(94303),a=n(53539),l=n(79705),i=n.n(l),s=n(25361),c=n(14708);const u="fDnxVO4K",d="NHdGr1he",m="axcaw7Or",h="OB566taK",v="BUuB45Oo",p="NVZEtZMn",g="gXinDMC0",f="Bb0OfhbR",w="Zmyd68GR",_="nhILhCdm";function y(e){const{downloadAttr:t,downloadHref:n,children:r,withClose:a,onClose:l,buttonText:y,withEffect:E,onDownload:b,downloadPWA:C,shouldDownloadPWA:k}=e;return o.createElement("div",{className:u},o.createElement("div",{className:d},o.createElement(c.Z,{src:globalThis.getFilterXss().filterUrl(s.Z,null,{logType:"js.href/src",reportOnly:!1}),className:i()(h,{[v]:!a}),onClick:l,width:10,height:10,viewBox:"0 0 13 13"}),o.createElement("div",{className:m,"data-e2e":"download-container"},r),o.createElement("div",{className:p},k&&o.createElement("span",{className:i()(f,g),onClick:e=>{null==C||C(),null==b||b(e)}},y),!k&&o.createElement("a",{className:i()(f,g),onClick:b,download:t,href:globalThis.getFilterXss().filterUrl(n,null,{logType:"js.href/src",reportOnly:!1})},y),E&&o.createElement("div",{className:w}),E&&o.createElement("div",{className:_}))))}const E="OJheq9Ab",b="Z19CJIKl";var C,k,N;function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},T.apply(this,arguments)}const S=function(e){return o.createElement("svg",T({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C||(C=o.createElement("path",{opacity:.1,d:"M0 9a9 9 0 1118 0A9 9 0 010 9z",fill:"#FE2C55"})),k||(k=o.createElement("path",{d:"M3 11.071v.78c0 .22.18.399.4.399h1.189a.4.4 0 00.4-.4V9.831H6.438v2.02c0 .22.179.399.4.399h1.188a.4.4 0 00.4-.4V6.93v-.78a.4.4 0 00-.4-.399H6.838a.4.4 0 00-.4.4v1.904H4.989V6.929v-.78a.4.4 0 00-.4-.399H3.4a.4.4 0 00-.4.4v4.921zM9.735 9.988v1.863c0 .22.179.399.4.399h2.28c1.165 0 2.045-.468 2.386-1.51.152-.469.199-.851.199-1.74s-.047-1.271-.199-1.74c-.34-1.042-1.222-1.51-2.386-1.51h-2.28a.4.4 0 00-.4.4v3.838zm1.988.484V7.528H12.007c.512 0 .777.115.9.497.066.2.085.373.085.975s-.019.774-.085.975c-.123.382-.388.497-.9.497H11.723z",fill:"#FE2C55"})),N||(N=o.createElement("defs",null,o.createElement("linearGradient",{id:"hd_svg__paint0_linear_31317_137960",x1:3,y1:5.75,x2:8.511,y2:15.806,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#FF1764"}),o.createElement("stop",{offset:1,stopColor:"#ED3495"})),o.createElement("linearGradient",{id:"hd_svg__paint1_linear_31317_137960",x1:3,y1:5.75,x2:8.511,y2:15.806,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#FF1764"}),o.createElement("stop",{offset:1,stopColor:"#ED3495"})))))};var I,L,x;function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},P.apply(this,arguments)}const D=function(e){return o.createElement("svg",P({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),I||(I=o.createElement("path",{opacity:.1,d:"M0 9a9 9 0 1118 0A9 9 0 010 9z",fill:"#FE2C55"})),L||(L=o.createElement("path",{d:"M13.25 11.083c-.016.04-.22.726-.72 1.426-.44.61-.888 1.22-1.598 1.23-.7.01-.924-.4-1.723-.4s-1.05.39-1.713.41c-.684.025-1.211-.665-1.65-1.27-.892-1.23-1.582-3.507-.657-5.027a2.582 2.582 0 012.161-1.26c.668-.01 1.31.434 1.718.434.418 0 1.19-.54 2.005-.46.34.015 1.295.135 1.905.99-.046.03-1.138.65-1.127 1.906.01 1.516 1.383 2.016 1.399 2.021zm-2.715-5.727c.365-.43.61-1.02.543-1.606-.522.02-1.164.335-1.54.76-.334.37-.632.97-.548 1.551.58.03 1.18-.295 1.545-.705z",fill:"#FE2C55"})),x||(x=o.createElement("defs",null,o.createElement("linearGradient",{id:"apple_svg__paint0_linear_31317_137969",x1:4.75,y1:3.75,x2:14.658,y2:12.074,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#FF1764"}),o.createElement("stop",{offset:1,stopColor:"#ED3495"})))))};var M,B,A;function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},O.apply(this,arguments)}const W=function(e){return o.createElement("svg",O({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M||(M=o.createElement("path",{opacity:.3,d:"M0 9a9 9 0 1118 0A9 9 0 010 9z",fill:"#FE2C55"})),B||(B=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8.487C4.5 6.144 6.515 4.25 9 4.25s4.5 1.894 4.5 4.237c0 2.342-2.015 4.236-4.5 4.236 0 0-1.09.064-1.534.166-.291.064-.786.23-1.09.333a.35.35 0 01-.469-.243c-.045-.188-.028-.63-.015-.971.01-.241.017-.432 0-.448C5.04 10.784 4.5 9.693 4.5 8.487zm3.586 2.17a1.976 1.976 0 01-.349-.126.429.429 0 11.383-.767c.024.012.089.037.191.065.446.122.995.122 1.625-.088a.429.429 0 01.27.813c-.798.266-1.518.266-2.12.102z",fill:"url(#message_svg__paint0_linear_4551_137166)"})),A||(A=o.createElement("defs",null,o.createElement("linearGradient",{id:"message_svg__paint0_linear_4551_137166",x1:4.5,y1:4.25,x2:13.549,y2:13.197,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#FF1764"}),o.createElement("stop",{offset:1,stopColor:"#ED3495"})))))};var R,F,V;function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},U.apply(this,arguments)}const G=function(e){return o.createElement("svg",U({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),R||(R=o.createElement("path",{opacity:.1,d:"M0 9a9 9 0 1118 0A9 9 0 010 9z",fill:"#FE2C55"})),F||(F=o.createElement("path",{d:"M12.744 7.615H9.81V4.657a.4.4 0 00-.715-.248L4.909 9.737a.4.4 0 00.314.648h2.935v2.958a.4.4 0 00.714.248l4.187-5.328a.4.4 0 00-.315-.648z",fill:"#FE2C55"})),V||(V=o.createElement("defs",null,o.createElement("linearGradient",{id:"thunder_svg__paint0_linear_31317_137964",x1:4.4,y1:3.5,x2:15.26,y2:12.444,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#FF1764"}),o.createElement("stop",{offset:1,stopColor:"#ED3495"})))))};function H(e){const{svg:t,text:n,svgWidth:r,svgHeight:a,svgViewBox:l}=e;return o.createElement("div",{className:E},o.createElement(c.Z,{src:globalThis.getFilterXss().filterUrl(t,null,{logType:"js.href/src",reportOnly:!1}),width:r,height:a,viewBox:l}),o.createElement("span",{className:b},n))}function j(){return o.createElement(H,{svgWidth:18,svgHeight:18,svgViewBox:"0 0 18 18",text:"\u9ad8\u6e05\u6d41\u7545\u64ad\u653e",svg:S})}function Z(){return o.createElement(H,{svgWidth:18,svgHeight:18,svgViewBox:"0 0 18 18",text:"\u4e3aMac\u8bbe\u5907\u5b9a\u5236",svg:D})}function K(){return o.createElement(H,{svgWidth:18,svgHeight:18,svgViewBox:"0 0 18 18",text:"\u597d\u53cb\u6d88\u606f\u901a\u77e5",svg:W})}function Y(){return o.createElement(H,{svgWidth:18,svgHeight:18,svgViewBox:"0 0 18 18",text:"\u684c\u9762\u4fbf\u6377\u8bbf\u95ee",svg:G})}const q="GUjjfnC_",z="qScktcui",X="I6OwFsJu",Q="jcjnHarg",J="InqOpTNF";function $(e){const{text:t,textClassName:n}=e;return o.createElement("div",{className:X},o.createElement("div",{className:Q}),o.createElement("div",{className:i()(J,n)},t))}var ee,te=n(15912),ne=n(14037),oe=n(3589),re=n(68033);function ae(e){const{isShow:t,onDownload:n}=e,{downloadAttr:a,downloadHref:l}=(0,oe.o)(),i=(0,o.useCallback)((()=>{re.Z.sendLog("addToDesktopClick",{enter_from:"personal_homepage",type:"live_detail_button",platform:"client",is_full_screen:r.r()?"1":"0"}),null==n||n()}),[n]);return(0,o.useEffect)((()=>{t&&re.Z.sendLog("addToDesktopShow",{enter_from:"live_detail",is_full_screen:r.r()?"1":"0",platform:"client",type:"live_detail_button"})}),[t]),o.createElement("div",null,t&&o.createElement(y,{buttonText:"\u4e0b\u8f7d\u7535\u8111\u5ba2\u6237\u7aef",downloadAttr:a,downloadHref:l,onDownload:i,withClose:!1},o.createElement("div",{className:q},o.createElement(j,null),o.createElement(Y,null))))}function le(e){const{onDownload:t,onClose:n,downloadPWA:l,shouldShowGuideType:i,clientDownloadAttr:s,clientDownloadHref:c,withClose:u,withEffect:d,showType:m}=e,[h,v]=(0,o.useState)(null),p=(0,o.useCallback)((()=>{re.Z.sendLog("addToDesktopClick",{enter_from:(0,re.v)(),is_full_screen:r.r()?"1":"0",type:m===ne.KK.Hover?"hover":"guide",platform:i===ne.xj.PWA?"pwa":"client"}),a.Le.setConfig(a.gI.UserClick2DownloadClient,!0),null==t||t()}),[t,i,m]);return(0,o.useEffect)((()=>{re.Z.sendLog("addToDesktopShow",{enter_from:(0,re.v)(),is_full_screen:r.r()?"1":"0",platform:i===ne.xj.PWA?"pwa":"client",type:m===ne.KK.Hover?"hover":"guide"})}),[m,i]),(0,o.useEffect)((()=>{v((0,te.P0)())}),[]),o.createElement("div",{className:z},i!==ne.xj.None&&o.createElement(y,{buttonText:i===ne.xj.Client?"\u4e0b\u8f7d\u7535\u8111\u5ba2\u6237\u7aef":"\u6dfb\u52a0\u5230\u684c\u9762",downloadAttr:s,downloadHref:c,shouldDownloadPWA:i===ne.xj.PWA,downloadPWA:l,withClose:u,onDownload:p,onClose:n,withEffect:d},o.createElement("div",{className:q},i===ne.xj.Client&&h===te.CT.Mac&&o.createElement(o.Fragment,null,o.createElement(j,null),o.createElement(Y,null),o.createElement(Z,null)),i===ne.xj.Client&&h===te.CT.Win7Up&&o.createElement(o.Fragment,null,o.createElement(j,null),o.createElement(K,null),o.createElement(Y,null)),i===ne.xj.PWA&&o.createElement($,{text:"\u684c\u9762\u4fbf\u6377\u8bbf\u95ee"}))))}function ie(e){const{forLive:t}=e;return t?o.createElement(ae,{...e}):o.createElement(le,{...e})}!function(e){e[e.NormalDownloadGuide=0]="NormalDownloadGuide",e[e.HoverDownloadGuide=1]="HoverDownloadGuide",e[e.MiniScreenNormalDownloadGuide=2]="MiniScreenNormalDownloadGuide",e[e.MiniScreenHoverDownloadGuide=3]="MiniScreenHoverDownloadGuide"}(ee||(ee={}))},36963:(e,t,n)=>{n.d(t,{R:()=>H,Z:()=>j});var o=n(43500),r=n(79705),a=n.n(r),l=n(52289),i=n(21857),s=n.n(i),c=n(52471),u=n(89187),d=n(32385),m=n(74034),h=n(38284),v=n(9961),p=n(53539),g=n(94153),f=n(17475),w=n(37577);const _={isLight:"sPU39i5w",dark:"VbKfIC0z",isDark:"dPxYKMxc",container:"iwzpXgQ3",isVsHeader:"sAwvCdl4",transmode:"y_0iP_ba",header:"ePAmHZ9n",rightContentInner:"y4Jb5f1C",electronDrag:"co6fXiMO",pushMessageEntry:"WvX0NZjv",fixed:"oJArD0aS",searchLightActivity:"nkXDuzA4",logoCt:"R35PYAeO",logo:"HFXyaoZL",transparentLogo:"xMxzuI6Y",foldWrap:"oZVIncTC",expandIcon:"Q0OFEVPt",searchCt:"gi8dveFW",searchBar:"PH5Y_vRb",newSearchBar:"bxdD9erE",searchBlank:"aAzQ4d0g",menuCt:"iqHX00br",floatRight:"lC4tlkED",rightContent:"IuGYRqPB",basicHeight:"s9bzS93E",clientRightContent:"YkTBMc6k",pwaDivider:"NSjLk5Jn",imModalVideo:"du5ElX10",activity:"oFLS6cdv",transparent:"I7ffFawZ",containerNew:"lXuWkeYW",isNormalHeader:"DAJOGppR",fadeIn:"_fFi1vd0",isFixed:"dSNgkU25",isVideoOrVsHeader:"nsv2qaIn",isSearchHeader:"C3PgeKkg",grayscale:"lDy0g1sc",rightContentInnerNew:"GSBPs9bN",foldable:"OaUEPdOk",searchBarCenterLayout:"K4TZD9ct",searchBarCenterWebLayout:"wJgU15d1",searchBarCenterMacClientLayout:"PuAPJZlP",searchBarCenterWinsClientLayout:"tacOceLH"};var y=n(53210),E=n(14202),b=n(94553),C=n(48798),k=n(10493),N=n(14495),T=n(66331),S=n(28569),I=n(73230),L=n(24465),x=n(18347),P=n(83838),D=n(75069),M=n(21805),B=n.n(M),A=n(82125),O=n(18380),W=n(62638);const R="UFQuOSb4",F=e=>{const[t,n]=(0,o.useState)(!1),r=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(!A.$o(W.LocalStorageKeys.IsSupportHevc)&&O.un()){const e=h.listen(h.EVENT.firstFrameReady,(()=>{n(!0)}));return()=>e()}}),[]),(0,o.useEffect)((()=>{if(t&&r.current){r.current.play().catch((e=>{var t;B()(t=e.message).call(t,"Failed to load because no supported source was found.")&&A.qQ(W.LocalStorageKeys.IsSupportHevc,{has_detect:!0,is_support:!1})}));const e=r.current,t=()=>{const t=e.getVideoPlaybackQuality(),n=t.droppedVideoFrames/t.totalVideoFrames,o=t.totalVideoFrames>10;A.qQ(W.LocalStorageKeys.IsSupportHevc,{has_detect:!0,is_support:o&&n<.1})};return e.addEventListener("ended",t),()=>e.removeEventListener("ended",t)}}),[t]),t&&o.createElement("video",{ref:r,className:R,src:globalThis.getFilterXss().filterUrl("http://p-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/uuu_265.mp4",null,{logType:"js.href/src",reportOnly:!1}),muted:!0})};var V=n(7135),U=n(11247);const G=(0,l.default)((()=>Promise.all([n.e(414),n.e(177),n.e(4277),n.e(6434),n.e(8933),n.e(1257),n.e(1882),n.e(9227),n.e(8524),n.e(4363),n.e(8930)]).then(n.bind(n,11052))),{ssr:!1}),H=o.createContext({activityName:"",isActivity:!1,isVsTransmode:!1});function j(e){var t,n,r,l,i,M,B,A;let{userInfo:O,onChangeLoginStatus:W,abTestData:R={},customProps:j,className:Z,needGrayscale:K,loginPopupStatus:Y=L.T.Off}=e;(0,I.i)();const{handleHiddenLog:q}=(0,y.T)({userInfo:O,redirectFrom:null==j?void 0:j.redirectFrom}),[z,X]=o.useState(!1),[Q,J]=o.useState(!1),[$,ee]=o.useState(!1),[te,ne]=o.useState(null),[oe,re]=o.useState(!1),[ae,le]=o.useState(null),{transparent:ie}=(0,P.j)(),{isClient:se,os:ce}=j,{isMac:ue,isWindows:de}=(0,o.useMemo)((()=>c.a.wrapClientOsInfo(se,ce)),[se,ce]),me=(0,D.c)(),he=o.useMemo((()=>(null==j?void 0:j.isVsTab)&&(null==j?void 0:j.isVsTabTrans)),[j]),{setModalCardInfo:ve,restoreModalCardInfo:pe}=(0,S.L)();(0,L.S)({isLogin:null==O?void 0:O.isLogin,noDisturbVal:null==R?void 0:R.noDisturbV2,loginPopupStatus:Y}),o.useEffect((()=>{m.f()&&X(!0)}),[]),o.useEffect((()=>{const e=h.listen(h.EVENT.headerGradient,(e=>J(e))),t=h.listen(h.EVENT.openImAwemeModal,(e=>{ne(e),ve(),ee(!0),h.emit(h.EVENT.videoPause),h.emit(h.EVENT.livePause)})),n=h.listen(h.EVENT.openNoticeAwemeModal,(e=>{le(e),re(!0),h.emit(h.EVENT.videoPause),h.emit(h.EVENT.livePause)}));return()=>{t(),n(),e()}}),[]);const ge=o.useCallback((e=>{ue&&"doubleClick"===e.target.getAttribute("data-click")&&s().app.maximize()}),[ue]),{specTheme:fe,isDark:we}=(0,N.Z)(),_e=o.useMemo((()=>null!=fe&&fe.themeSwitch?{backgroundImage:"url(".concat(we?null==fe?void 0:fe.headerDark:null==fe?void 0:fe.headerLight,")")}:{}),[fe,we]),ye=null===(t=p.Es())||void 0===t?void 0:t.user_unique_id;(0,V.E)({isLogin:null==O?void 0:O.isLogin,webId:ye,open:null==R?void 0:R.vsLivePush,delay:null==R?void 0:R.longtaskOpt});const Ee=(0,o.useMemo)((()=>(null==R?void 0:R.searchBarStyleOpt)===u.SearchBarStyleOpt.Center),[null==R?void 0:R.searchBarStyleOpt]),be=(0,o.useMemo)((()=>(null==R?void 0:R.searchBarStyleOpt)===u.SearchBarStyleOpt.Aggressive||(null==R?void 0:R.searchBarStyleOpt)===u.SearchBarStyleOpt.Mild),[null==R?void 0:R.searchBarStyleOpt]);return o.createElement("div",{onDoubleClick:ge,className:a()(_.container,_.containerNew,{[_.activity]:(null==j?void 0:j.isActivity)||ie,[_.transparent]:ie,[_.changeColor]:Q,[Z]:Z,[_.isFixed]:null==j?void 0:j.isFixed,[_.isVsHeader]:j.isVsTab,[_.isNormalHeader]:j.isVsTab&&!he,[_.transmode]:he,[_.isVideoOrVsHeader]:null==j?void 0:j.isVsOrVideo,[_.isSearchHeader]:null==j?void 0:j.isSearchResult,[_.grayscale]:K,[_.searchBarCenterLayout]:Ee,[_.searchBarCenterWebLayout]:Ee&&!se,[_.searchBarCenterWinsClientLayout]:Ee&&se&&de,[_.searchBarCenterMacClientLayout]:Ee&&se&&ue}),id:"douyin-header","data-click":"doubleClick"},o.createElement("div",{className:a()(_.fixed,{[_.searchLightActivity]:null==j?void 0:j.searchLightActivity}),style:_e,"data-click":"doubleClick"},o.createElement("header",{className:a()(_.header)},o.createElement("div",{className:a()(_.rightContent,{[_.clientRightContent]:se,[_.electronDrag]:se&&!me}),"data-click":"doubleClick"},ue&&o.createElement("div",{className:_.basicHeight},o.createElement("div",{className:a()(_.logoCt)},o.createElement(T.a,{href:globalThis.getFilterXss().filterUrl(g.kj(),null,{logType:"js.href/src",reportOnly:!1}),className:a()(_.logo,{[_.transparentLogo]:ie}),onClick:()=>{b.Z.sendLog("clickAwemeLogo",{enter_from:v.yW()})}}))),o.createElement("div",{className:a()(_.rightContentInner,_.rightContentInnerNew),"data-click":"doubleClick"},o.createElement("div",{className:a()(_.searchCt)},o.createElement("div",{className:a()(_.searchBar,{[_.newSearchBar]:be})},o.createElement("div",{className:_.searchBlank}),o.createElement("div",null,o.createElement(x.SearchBar,{customProps:{isActivity:he||(null==j?void 0:j.isActivity),activityName:(he?"vsTransMode":"")||(null==j?void 0:j.activityName),isSearchPage:Boolean(null==j||null===(n=j.pathname)||void 0===n?void 0:n.match(/^\/search/)),pathname:null==j?void 0:j.pathname,themeSwitch:null==fe?void 0:fe.themeSwitch,transparent:ie},userInfo:O,abTestData:R,onSearchClick:e=>q(e),onHistoryClick:e=>{const{text:t}=e.currentTarget.dataset;return q(t)},onInputKeyDown:(e,t)=>{if("Enter"===f.C(e))return q(t)}})))),o.createElement("div",{className:a()(_.menuCt)},o.createElement("div",{className:_.floatRight},o.createElement(H.Provider,{value:{isActivity:he||(null==j?void 0:j.isActivity),activityName:(he?"vsTransMode":"")||(null==j?void 0:j.activityName),isVsTransmode:he}},o.createElement(E.Z,{customProps:{...j,isActivity:he||(null==j?void 0:j.isActivity),activityName:(he?"vsTransMode":"")||(null==j?void 0:j.activityName),landingPage:j.landingPage},transparent:ie,success:W,userInfo:O,abTestData:R}))))))),z&&o.createElement("div",{className:_.pwaDivider}),$&&o.createElement(G,{className:_.imModalVideo,awemeIds:null==te?void 0:te.videoMsgList,clientId:null==te?void 0:te.msgClientId,fetchAwemeIds:null==te?void 0:te.getMoreVideo,logParams:null==te?void 0:te.logParams,insertCommentId:null==te?void 0:te.commentId,defaultCommentShow:null==te?void 0:te.commentId,disableAutoPlay:!0,abtestData:R,anyHooks:k.Z,useOldModal:!0,moreBoxShowList:{notInterestingIcon:!1,unfollow:!1,report:!0},close:()=>{pe(),ee(!1)},userContext:{userInfo:O,dispatch:()=>{}},shortCutFilteredList:[null==d||null===(r=w)||void 0===r||null===(l=r.getShortcut())||void 0===l||null===(i=l.dislike)||void 0===i?void 0:i.key],modalEnterFrom:"im"}),oe&&o.createElement(G,{className:_.imModalVideo,awemeId:null==ae?void 0:ae.awemeId,insertCommentId:null==ae?void 0:ae.cid,logParams:null==ae?void 0:ae.logParams,defaultCommentShow:null==ae?void 0:ae.cid,disableSwitch:!0,disableAutoPlay:!0,abtestData:R,anyHooks:C.Z,useOldModal:!0,moreBoxShowList:{notInterestingIcon:!1,unfollow:!1,report:!0},close:()=>{re(!1)},userContext:{userInfo:O,dispatch:()=>{}},danmakuInfo:null==ae?void 0:ae.danmakuInfo,modalEnterFrom:"im",shortCutFilteredList:[null==d||null===(M=w)||void 0===M||null===(B=M.getShortcut())||void 0===B||null===(A=B.dislike)||void 0===A?void 0:A.key]})),o.createElement("div",{className:_.pushMessageEntry},o.createElement(U.H,{livePushType:null==R?void 0:R.livePush})),o.createElement(F,null))}},14202:(e,t,n)=>{n.d(t,{Z:()=>yo});var o=n(21805),r=n.n(o),a=n(92637),l=n.n(a),i=n(43500),s=n(79705),c=n.n(s),u=n(52289),d=n(89187),m=n(52471),h=n(94153),v=n(9961),p=n(53539),g=n(94303),f=n(20445),w=n(41967),_=n(1946),y=n(35709),E=n(85922);const b={avatar:"v6b8U9mW",hoverPolyfill:"NJCJidcf",hoverBlackPolyfill:"_myc7NDE",clientSvg:"TFMeIANk",clientSvg2:"cKEjosjb",container:"S4fezOdY",more:"iZmyqmpk",menuIcon:"f0BIEwpd",activity:"XwAZh_Qf",vsTransMode:"IEfHgwYQ",transparent:"npBKtGqQ",circleLoginAva:"f5lbMjoD",avataUserMini:"UrwnwwQf",imPlaceHolder:"OoYjm8w7",publishSub:"g_Fuugpm",downloadGuideMini:"QheX_ba3",guidePanel:"dXmr_wXe",menu:"Btx_YQcJ",isActivity:"g7C0zLp1",createMenu:"SEV11UjY",explictShow:"K6rPMPcS",loginSub:"aWPyBtLA",downloadGuide:"Z4LwukWk",userMenuPanelCollect:"qisYjt2z",userMsgBox:"pA5nqHCZ",userMsgWrap:"o4uqW09b",userMsg:"n8V_sfme",title:"OFQ_Yb0Z",count:"ylJtd3fY",countText:"qNPS41BS",verticalDivider:"mcbDmOpc",userMsgPanel:"NljuyTiL",userMsgPanelLogout:"PgyU4yAD",userMenuPanelNoCollect:"N3tuKnpn",hoverBold:"y94wMITO",hoverEnlarge:"jhaTpFsr",loginBtnWrapper:"_p4XfyuB",loginBtnWrapperNew:"VEvSk9tg",miniMenuDropdownContainer:"tkAiNdhA",active:"IU2NTosY",shadowChange:"VXadlSgn",overflowChange:"tYnHvPel",menuSub:"Tpw1XZrP",dropDownListInCenterChange:"aDdXLA_O",miniHomeMenu:"Zb_UAvVr",avataUserCt:"zZCTxOgu",dropdownContainer:"LhQ4swYG",oldactive:"dvyAI5v1",userMenuSub:"V4Yzxf_I",year100:"FI9iatGG",publishCt:"qC6TbH1B",aboutHome:"DFt22uBj",publishBtn:"ngsLPe6d",loginBtn:"Rgs0Nduq",isVsTabTrans:"SoR_03Wj",downloadMenu:"HHaCi3G_",userPanelCollect:"G8y4xI1l",narrowMargin:"zUSFk0DZ",show:"EpuHNq8Q",hidden:"PGkRWDIK",newHeaderContainer:"MFb3tP0s",menuItem:"JTui1eE0",menuItemContent:"IJoYqlbD",clientHeaderContainer:"X4Jhp3H6",downloadMenuUl:"OCnIecKb",clientAvatarLi:"FdrrUXA3",clientAvatr:"_lSBtPda",clientAvataUserCt:"i_w6to1W",buttonWithTextContainer:"_bpGHYWu",imEntryWrapper:"sbsB1MYq",isLogout:"k0LXUXqM",miniScreenCooperationDropdownContainerFirstLevel:"wGeFVhGV",isLogin:"SkmaEi5R",miniScreen:"JumcTCiA",wideScreen:"y8n88fK5",wideAndMiniScreen:"y8pluWpo",miniScreenCooperationDropdownContainer:"bsFS1Fty",buttonNoTextContainer:"XG6cC33C",textLinkContainer:"mRBPvSuV",fixedToHeaderBelow:"IRX9e_93",originMiniScreenDownloadGuideContainer:"L4O8Mf7F",originHoverToShowMiniDownloadGuideFixed:"cHBb3E3F",originHoverToShowMiniDownloadGuide:"E2KK2Set",originDownloadText:"EHPkQyNo",miniScreenDownloadGuideContainer:"AzEUH_xb",hoverToShowMiniDownloadGuideContainer:"PDlxIZNW",hoverToShowMiniDownloadGuide:"bB4zzJJ0",flexColumnCenter:"uaGzVRKT",originHoverToSHowDownloadGuideBadge:"winAxbAY",conversationDtailAnimationKeyframes:"p3ICCmZo",dropDownListInNoCenterChange:"HJ9t1u6K",showDeleteAllMessageModal:"Kk7JQFBt",dropDownListInNoCenterLeftTopChange:"y3wjFYjy",dropDownListOutChange:"JoyQD29U"};var C=n(92012),k=n.n(C),N=n(7444);const T={circleButtonWrapper:"l9GtwryL",circleButtonWithText:"DK01dqWY",textBadge:"B7vr6DkN",roundBadge:"XOC_hz4n",circleButtonWithTextRoundBadge:"heFN6NVX",circleButton:"c5nOy36o",circleButtonAvatar:"b0rgKMiD",activity:"uHPHXz6B",iconContainer:"fFCNku1f",vsTransMode:"cSV8EtxW",transparent:"MEnqRhJg",iconSvg:"F6D9A5IA",text:"qwqADnG4",imageBadge:"kRW3VB5O",circleButtonNoTextImageBadge:"VViuly9K",circleButtonWithTextImageBadge:"laUikbz3",themeSwitch:"RLtbi3OO",dropdownContainer:"nLFiDJQ5",active:"UajfwWKs",shadowChange:"WNcpRJxY",overflowChange:"ebrgo2O0",dropDownListInCenterChange:"rBPW0eFj",textLinkALink:"taokk4gb",conversationDtailAnimationKeyframes:"Qx81pgdz",dropDownListInNoCenterChange:"mARZZth7",showDeleteAllMessageModal:"UvLDKCT4",dropDownListInNoCenterLeftTopChange:"EgDS3Y2Z",dropDownListOutChange:"xMmPHqjv"};var S=n(34559),I=n(14495);const L=(0,i.memo)((e=>{var t,n;const{activityName:o,className:r,text:a,icon:l,iconHeight:s,iconViewBox:u,showBadge:d,badge:m,badgeText:h,badgeIconHeight:v,badgeIconSvg:p,badgeIconViewBox:g,badgeIconWidth:f,iconWidth:w,onClick:_,transparent:y}=e,{specTheme:E}=(0,I.Z)();return i.createElement("div",{className:c()(T.circleButtonWrapper,r)},i.createElement("div",{onClick:_,className:c()(T.circleButton,T.circleButtonWithText,{isDark:Boolean(o)||y,[T.activity]:Boolean(o)||y,[null==T?void 0:T[o]]:o,[T.transparent]:y},r),"data-e2e":"something-button"},i.createElement("div",{className:T.iconContainer},i.createElement(S.Z,{src:globalThis.getFilterXss().filterUrl(l,null,{logType:"js.href/src",reportOnly:!1}),width:w,height:s,viewBox:u||k()(t="0 0 ".concat(w," ")).call(t,s),className:T.iconSvg})),i.createElement("p",{className:T.text},a)),d&&("text"===m||"round"===m)&&i.createElement(N.C,{className:c()({[T.textBadge]:"text"===m,[T.roundBadge]:"round"===m,[T.circleButtonWithTextRoundBadge]:"round"===m}),type:m,text:"text"===m?h||a:""}),d&&"image"===m&&i.createElement("div",{className:c()(T.imageBadge,T.circleButtonWithTextImageBadge,{[T.themeSwitch]:null==E?void 0:E.themeSwitch})},i.createElement(S.Z,{src:globalThis.getFilterXss().filterUrl(p,null,{logType:"js.href/src",reportOnly:!1}),width:f,height:v,viewBox:g||k()(n="0 0 ".concat(f," ")).call(n,v)})))}));var x=n(38284),P=n(87813),D=n(66331),M=n(37160),B=n(96460),A=n(68033),O=n(94610),W=n.n(O),R=n(34022),F=n(42699),V=n(16866),U=n(41304),G=n(41808),H=n(52825),j=n(82125),Z=n(77403),K=n(62638),Y=n(47925),q=n(70038),z=n(72389),X=n(78595),Q=n(89784),J=n(30882);const $="QYL6YoEb",ee="xOYQgf3L",te="de0WAGYo",ne="kDmWiWzh",oe="pMBwmxGS",re="HAR_KXpk",ae="KTBfvwdu",le="wiqwDybA",ie="OBTB5uUk",se="rkXLBN0o",ce="M47JrU_f",ue="n9pk1U7S",de="dRK46_Ne",me="rXIy1Pzb",he="Ss4qK0Lv",ve="pJPJwZFf",pe="ZjthpVf3",ge="lI8OjXhd";var fe=n(67948),we=n(87579),_e=n(23180);function ye(e,t,n){return function(){try{window.open(h.HC("self","showTab=".concat(t,"&enter_method=personal_panel")),n?"_self":"_blank")}catch(o){}!n&&"Function"===we.tQ(e)&&e(...arguments)}}function Ee(e,t,o){return(0,i.useCallback)((r=>{r.preventDefault(),n.e(305).then(n.bind(n,50305)).then((n=>{var r,a,l;let{navShowAccount:i}=n;i({success:e,enterMethod:"navigation_bar",next:k()(r="".concat(null==fe?void 0:_e.tJ)).call(r,null===(a=window)||void 0===a||null===(l=a.location)||void 0===l?void 0:l.host),headerText:t,teaEvtParams:o})}))}),[e,t])}var be=n(39658),Ce=n(87336),ke=n(21857),Ne=n.n(ke),Te=n(80492),Se=n(3345);const Ie="Ox4lnVeA",Le="AalWIHiD";var xe=n(28172);const Pe=()=>{const{CookieKeys:e,ThemeValues:t}=K,{EVENT:n}=x,o=V.Q.getItem({sKey:e.Theme}),r=G.Dr(o)===t.Dark,[a,l]=(0,i.useState)(r);return(0,i.useEffect)((()=>{(0,xe.Ly)(a),x.emit(n.changeTheme,{theme:a?t.Dark:t.Light})}),[a]),i.createElement("div",{className:Ie,onClick:()=>{(0,xe.c4)(!a),(0,xe.Ly)(!a),"undefined"!=typeof localStorage&&localStorage.setItem("ELECTRON_THEME_KEY",a?"":"DARK"),(0,U.DT)()&&Ne().app.themeChange({isDark:!a}),Te.i.sendLog("changeThemeSetting",{theme:a?t.Light:t.Dark,enter_from:v.yW()}),l((e=>!e))}},i.createElement(S.Z,{src:globalThis.getFilterXss().filterUrl(Se.Z,null,{logType:"js.href/src",reportOnly:!1}),width:24.7,height:20.3,viewBox:"0 0 22 19"}),i.createElement("span",{className:Le},"\u6362\u80a4"))};var De,Me,Be=n(82223),Ae=n(57265);function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Oe.apply(this,arguments)}const We=function(e){return i.createElement("svg",Oe({width:15,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),De||(De=i.createElement("path",{d:"M1.568 6.592l1.44-2.519L4.47 1.566a.15.15 0 01.129-.075L7.5 1.48l2.901.012a.15.15 0 01.13.074l1.46 2.507 1.441 2.52a.15.15 0 010 .148l-1.44 2.519-1.462 2.507a.15.15 0 01-.129.075l-2.901.011-2.902-.011a.15.15 0 01-.13-.075L3.01 9.26 1.568 6.741a.15.15 0 010-.149z",stroke:"#2F3035",strokeOpacity:.4,strokeWidth:1.2})),Me||(Me=i.createElement("circle",{cx:7.501,cy:6.667,r:2.067,stroke:"#2F3035",strokeOpacity:.4,strokeWidth:1.2})))},Re="jsuR4Zb3",Fe="T6Es2pPN";var Ve=n(90491);const Ue=()=>i.createElement("div",{className:Re,onClick:()=>{(0,Ve.l)({from:"personal_panel"})}},i.createElement(We,null),i.createElement("span",{className:Fe},"\u8bbe\u7f6e")),Ge=F.p()?null:V.Q;function He(e){var t,n;const{awemeCount:o,favoritingCount:r,awemeCollectCount:a,secUid:s,isLogin:u,success:m,hide:p,isActive:g,abtest:f,isClient:w}=e,[_,y]=(0,i.useState)(!1),{isHorizontalLayout:E}=(0,B.o)(null!==(t=null==f?void 0:f.hasHorizontalHeader)&&void 0!==t?t:d.HasHorizontalHeader.Default,w,null==f?void 0:f.zhuantiSidebar),b=u&&(null==f?void 0:f.imShowActiveStatus)&&f.imShowActiveStatus!==d.ImShowActiveStatus.Off&&!U.DT(),C=[{key:"post",iconSvg:q.Z,title:"\u6211\u7684\u4f5c\u54c1",count:o,clickPosition:"post",clickToLogin:Ee(ye(m,"post",E),"\u767b\u5f55\u5373\u53ef\u67e5\u770b\u201c\u6211\u7684\u4f5c\u54c1\u201d",{enter_method:"panel_post"})},{key:"like",iconSvg:z.Z,title:"\u6211\u7684\u559c\u6b22",count:r,clickPosition:"like",clickToLogin:Ee(ye(m,"like",E),"\u767b\u5f55\u5373\u53ef\u67e5\u770b\u201c\u6211\u7684\u559c\u6b22\u201d",{enter_method:"panel_like"})},{key:"favorite_collection",iconSvg:X.Z,title:"\u6211\u7684\u6536\u85cf",count:a,clickPosition:"favorite_collection",clickToLogin:Ee(ye(m,"favorite_collection",E),"\u767b\u5f55\u5373\u53ef\u67e5\u770b\u201c\u6211\u7684\u6536\u85cf\u201d",{enter_method:"panel_favotite"})},{key:"record",iconSvg:Q.Z,title:"\u89c2\u770b\u5386\u53f2",count:0,clickPosition:"record",clickToLogin:Ee(ye(m,"record",E),"\u767b\u5f55\u5373\u53ef\u67e5\u770b\u201c\u89c2\u770b\u5386\u53f2\u201d",{enter_method:"panel_record"})}];let k=[{...Ce.j.homepage,url:u?h.HC("self","enter_method=personal_panel"):"",isLogin:u,onClick:()=>{A.Z.sendLog("personalPanelClick",{enter_from:v.vM(),click_position:"personal_homepage"}),null==p||p()},target:E?"_self":"_blank",jumpAfterLogin:!1,loginSuccess:ye(m,"record",E)},{...Ce.j.recharge,onClick:p},{...Ce.j.liveMate,isLogin:u,loginSuccess:m,onClick:p}];const N=G.Bj(v.yW()),T=e=>{Ge.setItem("LOGIN_STATUS",0,1/0,"/","douyin.com",""),e.preventDefault(),H.JB(),H.kS(location.href),A.Z.sendLog("clickLogOut",{enter_from:v.vM()}),null==p||p()};return u&&k.push({...Ce.j.logout,isLogin:u,onClick:e=>{(async e=>{const t=j.$o(K.LocalStorageKeys.HasLogoutShow);if(1===j.$o(K.LocalStorageKeys.IsAllowTrust))T(e);else{const n=await R.h.getVar({name:"trust_dialog_freq",defaultValue:0});if(_&&(0===n&&1!==t||1===n))return j.qQ(K.LocalStorageKeys.HasLogoutShow,1),void(0,Be.w)({confirmHandler:()=>{T(e)},cancelHandler:()=>{T(e)},showWay:"logout"});T(e)}})(e)}}),(0,J.X)()&&(k=l()(k).call(k,(e=>"doubi_recharge"!==e.key))),(0,i.useEffect)((()=>{document.domain!==Y.LIVE_DOMAIN&&R.h.getVar({name:"is_allow_trust",defaultValue:0}).then((e=>{y(Boolean(e))}))}),[]),i.createElement("div",{className:c()($)},!u&&i.createElement("p",{className:ee},"\u767b\u5f55\u540e\u5373\u53ef\u89c2\u770b\u559c\u6b22\u3001\u6536\u85cf\u7684\u89c6\u9891"),u&&_&&i.createElement("div",{className:c()(te)},i.createElement("div",{className:c()(ne)},(null===(n=j.$o(K.LocalStorageKeys.UserInfo))||void 0===n?void 0:n.nickname)||"\u672a\u77e5"),g?i.createElement(Ae.Z,{pageIndex:"personal_panel"}):null),i.createElement("ul",{className:oe},W()(C).call(C,((e,t)=>i.createElement("ul",{key:e.key,className:re},u?i.createElement(D.a,{rel:"noopener noreferrer",href:globalThis.getFilterXss().filterUrl(h.HC("self","showTab=".concat(e.key,"&enter_method=personal_panel")),null,{logType:"js.href/src",reportOnly:!1}),target:E?"_self":"_blank",onClick:()=>{A.Z.sendLog("personalPanelClick",{enter_from:v.vM(),click_position:e.clickPosition||e.key}),null==p||p()}},i.createElement("li",{className:ae,"data-e2e":"usermsg-item"},i.createElement(S.Z,{width:32,height:32,src:globalThis.getFilterXss().filterUrl(e.iconSvg,null,{logType:"js.href/src",reportOnly:!1}),viewBox:"0 0 32 32",className:ge}),i.createElement("p",{className:ie},"record"===e.key?i.createElement("span",null,"30"):Z.qe(e.count),"record"===e.key?i.createElement("span",{className:se},"\u5929\u5185"):void 0),i.createElement("p",{className:le},e.title))):i.createElement("div",{onClick:t=>{A.Z.sendLog("personalPanelClick",{enter_from:v.vM(),click_position:e.clickPosition||e.key}),e.clickToLogin(t),null==p||p()}},i.createElement("li",{className:c()(ae,ce)},i.createElement(S.Z,{width:32,height:32,src:globalThis.getFilterXss().filterUrl(e.iconSvg,null,{logType:"js.href/src",reportOnly:!1}),viewBox:"0 0 32 32",className:ge}),i.createElement("p",{className:le},e.title))),t!==C.length-1&&i.createElement("div",{className:ue}))))),i.createElement(be.i,null),i.createElement("ul",{className:c()(de,{[pe]:!u})},W()(k).call(k,(e=>i.createElement("li",{key:e.key},i.createElement(Ce.h,{...e})))),!N&&i.createElement("li",{className:me},i.createElement(Pe,null)),Boolean(b)&&i.createElement("li",{className:c()(he,{[ve]:N})},i.createElement(Ue,null))))}var je=n(68380);function Ze(e){var t;const{type:n,changeType:o}=(0,M.P)({delayDisappear:100,delayShow:100}),{secUid:r,avatarUrl:a,awemeCount:l,favoritingCount:s,awemeCollectCount:u,className:m,isClient:p,abtest:g}=e,{isHorizontalLayout:f}=(0,B.o)(null!==(t=null==g?void 0:g.hasHorizontalHeader)&&void 0!==t?t:d.HasHorizontalHeader.Default,p,null==g?void 0:g.zhuantiSidebar);return(0,i.useEffect)((()=>{const e=x.listen(x.EVENT.showHeaderPopUp,(e=>{const{type:t,isShow:n}=e||{};"im"===t&&n&&o()}));return()=>e()}),[]),(0,i.useEffect)((()=>{"active"===n&&x.emit(x.EVENT.showHeaderPopUp,{type:"userDetail",isShow:!0})}),[n]),i.createElement(je.p,{headerPopupName:"userDetail"},i.createElement("div",{className:c()(b.avataUserCt,b.avataUserMini,m,{[b.clientAvatarLi]:p}),onMouseEnter:()=>{o("active")},onMouseLeave:()=>{o()}},i.createElement(D.a,{target:f?"_self":"_blank",rel:"noopener noreferrer",href:globalThis.getFilterXss().filterUrl(h.HC("self","enter_method=top_bar"),null,{logType:"js.href/src",reportOnly:!1}),className:c()(b.avatar,b.hoverEnlarge)},i.createElement(P.q,{type:"extraExtraSmall",className:c()({[b.clientAvatr]:p}),src:globalThis.getFilterXss().filterUrl(a,null,{logType:"js.href/src",reportOnly:!1}),isSelf:!0})),i.createElement("div",{className:c()(b.dropdownContainer,b.userPanelCollect,{[b.active]:Boolean(n)}),onMouseEnter:()=>{o("active"),A.Z.sendLog("personalPanelShow",{enter_from:v.vM()})},onMouseLeave:()=>{o()}},i.createElement("ul",null,i.createElement(He,{awemeCount:l,favoritingCount:s,awemeCollectCount:u,secUid:r,isLogin:!0,isActive:"active"===n,hide:()=>o(),abtest:g,isClient:p})))))}var Ke=n(63254),Ye=n(83655);const qe="tcTjz3nj",ze="LrcT0jFU";function Xe(e){let{className:t,success:n,onMouseEnter:o,onMouseLeave:r,displayAvatar:a=!0,avatarUrl:l=Ye.Z,headerText:s}=e;const c=Ee(n,s);return i.createElement("div",{className:t,id:qe},a?i.createElement("div",{className:ze,onClick:c,onMouseEnter:o,onMouseLeave:r},i.createElement(S.Z,{src:globalThis.getFilterXss().filterUrl(l,null,{logType:"js.href/src",reportOnly:!1}),width:32,height:32,viewBox:"0 0 32 32"})):i.createElement("div",{className:ze,onClick:c,onMouseEnter:o,onMouseLeave:r}," ","\u767b\u5f55"," "))}const Qe={loginCt:"_7hLtYmO",loginBtn:"FRVbbGB0",loginButtonText:"lqiPv8cB"};var Je=n(99673),$e=n(35625),et=n(82362);const tt=e=>{const{width:t=38,height:n=38,className:o,viewBox:r="0 0 38 38"}=e;return i.createElement(et.A,{...e,width:t,height:n,src:globalThis.getFilterXss().filterUrl($e.Z,null,{logType:"js.href/src",reportOnly:!1}),id:"svg_icon_circle_close",defaultWidth:38,defaultHeight:38,viewBox:r,className:o})};function nt(e){let{className:t,isActivity:n,theme:o,success:r,customProps:a,onMouseEnter:l,onMouseLeave:s,headerText:u}=e;return i.createElement("div",{className:c()(t,null==Qe?void 0:Qe[null==a?void 0:a.activityName],{[Qe.isActivity]:n,isDark:"dark"===o,theme:"light"===o}),id:Qe.loginCt,onMouseEnter:l,onMouseLeave:s},i.createElement(Je.zx,{className:Qe.loginBtn,theme:"border",onClick:Ee(r,u)},i.createElement(tt,{height:18,width:18,viewBox:"0 0 18 18"}),i.createElement("p",{className:Qe.loginButtonText},"\u767b\u5f55")))}function ot(e){let{isToggleLoginBtn:t=!0,success:n,className:o,customProps:r,displayAvatar:a,onMouseEnter:l,onMouseLeave:s}=e;return t?i.createElement(nt,{success:n,className:o,customProps:r,isActivity:null==r?void 0:r.isActivity,theme:null==r?void 0:r.theme,onMouseEnter:l,onMouseLeave:s}):i.createElement(Xe,{success:n,className:o,onMouseEnter:l,onMouseLeave:s,displayAvatar:a})}function rt(e){const{success:t,isToggleLoginBtn:n,displayAvatar:o=!1,className:r,isClient:a,abtest:l}=e,{type:s,changeType:u}=(0,M.P)({delayDisappear:100,delayShow:100});return(0,i.useEffect)((()=>{const e=x.listen(x.EVENT.showHeaderPopUp,(e=>{const{type:t,isShow:n}=e||{};"im"===t&&n&&u()}));return()=>e()}),[]),(0,i.useEffect)((()=>{"active"===s&&(x.emit(x.EVENT.showHeaderPopUp,{type:"userDetail",isShow:!0}),null!==Ke.n&&void 0!==Ke.n&&Ke.n.loginGuideShowed&&Ke.n.destroy())}),[s]),i.createElement(je.p,{headerPopupName:"userDetail"},i.createElement("div",{className:c()(b.avataUserCt,b.avataUserMini,r,{[b.clientAvataUserCt]:a}),onMouseEnter:()=>{u("active")},onMouseLeave:()=>{u()}},a?i.createElement(Xe,{success:t}):i.createElement(ot,{isToggleLoginBtn:n,displayAvatar:o,success:t}),i.createElement("div",{className:c()(b.dropdownContainer,b.userPanelCollect,{[b.active]:Boolean(s)}),onMouseEnter:()=>{u("active"),A.Z.sendLog("personalPanelShow",{enter_from:v.vM()})},onMouseLeave:()=>{u()}},i.createElement("ul",null,i.createElement(He,{secUid:"0",isLogin:!1,hide:()=>u(),abtest:l,isClient:a,success:t})))))}var at=n(23983);function lt(){const[e,t]=(0,i.useState)(!1),n=function(){const e=()=>F.p()?{innerHeight:0,innerWidth:0,inSSR:!0}:{innerHeight:window.innerHeight,innerWidth:window.innerWidth},[t,n]=i.useState(e()),o=()=>{n(e())};return i.useEffect((()=>(window.addEventListener("resize",o),()=>window.removeEventListener("resize",o))),[]),t}(),{inSSR:o,innerWidth:r}=n;return(0,i.useEffect)((()=>t(!o&&r<=1032)),[r,o]),{inMiniScreen:e,...n}}var it,st=n(47036),ct=n(14037),ut=n(78555),dt=n(54227),mt=n(25361);function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ht.apply(this,arguments)}const vt=function(e){return i.createElement("svg",ht({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),it||(it=i.createElement("path",{d:"M5.255.695c.258-.66 1.232-.66 1.49 0L7.91 3.68l3.327.14c.735.03 1.036.918.46 1.356L9.092 7.16l.89 3.072c.197.679-.592 1.227-1.205.839L6 9.31l-2.777 1.76c-.613.388-1.402-.16-1.205-.839l.89-3.072L.3 5.176C-.274 4.738.027 3.85.761 3.82l3.328-.14L5.255.695z",fill:"#000"})))};var pt;function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},gt.apply(this,arguments)}const ft=function(e){return i.createElement("svg",gt({width:7,height:8,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),pt||(pt=i.createElement("path",{clipRule:"evenodd",d:"M3.893 4.5v2.893h-1V4.5H0v-1h2.893V.607h1V3.5h2.892v1H3.893z"})))};var wt,_t,yt,Et,bt,Ct,kt,Nt;function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Tt.apply(this,arguments)}const St=function(e){return i.createElement("svg",Tt({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),wt||(wt=i.createElement("rect",{width:36,height:36,rx:8,fill:"#000"})),_t||(_t=i.createElement("rect",{x:.25,y:.25,width:35.5,height:35.5,rx:7.75,stroke:"#fff",strokeOpacity:.3,strokeWidth:.5})),yt||(yt=i.createElement("path",{d:"M16.116 14.534v-.997a8.76 8.76 0 00-1.053-.069c-4.296 0-7.801 3.49-7.801 7.797a7.804 7.804 0 003.325 6.384 7.741 7.741 0 01-2.092-5.304c.014-4.251 3.409-7.714 7.621-7.81z",fill:"#00FAF0"})),Et||(Et=i.createElement("path",{d:"M16.297 25.877a3.556 3.556 0 003.547-3.42V5.49h3.104a5.496 5.496 0 01-.097-1.08h-4.24v16.965a3.556 3.556 0 01-3.548 3.42 3.466 3.466 0 01-1.649-.415 3.532 3.532 0 002.883 1.496zM28.752 11.252v-.941a5.844 5.844 0 01-3.214-.956 6.021 6.021 0 003.214 1.897z",fill:"#00FAF0"})),bt||(bt=i.createElement("path",{d:"M25.552 9.356a5.873 5.873 0 01-1.455-3.864h-1.136a5.96 5.96 0 002.591 3.864zM15.063 17.692a3.559 3.559 0 00-3.561 3.56c0 1.37.776 2.547 1.912 3.143a3.58 3.58 0 01-.679-2.077 3.559 3.559 0 013.561-3.56c.36 0 .72.056 1.053.167v-4.321a8.76 8.76 0 00-1.053-.07h-.18v3.324a3.29 3.29 0 00-1.053-.166z",fill:"#FE2C55"})),Ct||(Ct=i.createElement("path",{d:"M28.753 11.252v3.296a10.06 10.06 0 01-5.89-1.897v8.6c0 4.293-3.491 7.797-7.8 7.797-1.663 0-3.201-.526-4.462-1.412 1.427 1.523 3.45 2.492 5.709 2.492 4.295 0 7.8-3.49 7.8-7.797v-8.6A10.093 10.093 0 0030 15.63V11.39a7.317 7.317 0 01-1.247-.139z",fill:"#FE2C55"})),kt||(kt=i.createElement("path",{d:"M22.863 21.252v-8.6a10.093 10.093 0 005.89 1.897v-3.296a5.97 5.97 0 01-3.216-1.898 5.827 5.827 0 01-2.577-3.864h-3.104v16.965a3.556 3.556 0 01-3.547 3.421 3.518 3.518 0 01-2.882-1.482 3.558 3.558 0 01-1.912-3.143 3.559 3.559 0 013.56-3.56c.361 0 .721.056 1.054.167v-3.324c-4.213.097-7.607 3.559-7.607 7.783 0 2.05.79 3.92 2.092 5.304a7.767 7.767 0 004.462 1.413c4.281.014 7.787-3.49 7.787-7.783z",fill:"#fff"})),Nt||(Nt=i.createElement("path",{d:"M5.24 30.725l1.496 1.221a.418.418 0 00.682-.324V27A.418.418 0 007 26.582H1.774a.418.418 0 00-.3.709l1.302 1.345c-.704 1-1.218 2.208-1.57 3.318-.387 1.22-.589 2.358-.624 3.024a.418.418 0 00.796.202c.953-2.003 2.835-3.703 3.861-4.455z",fill:"#2C2D31",stroke:"#fff",strokeWidth:.836,strokeLinecap:"round",strokeLinejoin:"round"})))};var It,Lt,xt,Pt;function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Dt.apply(this,arguments)}const Mt=function(e){return i.createElement("svg",Dt({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),It||(It=i.createElement("path",{d:"M3.68 7.112A3 3 0 016.68 4h4.953a3 3 0 011.55.431l2.486 1.5a3 3 0 001.55.432H29.31a3 3 0 012.997 3.123l-.753 18.304a3 3 0 01-2.997 2.877H7.454a3 3 0 01-2.998-2.888L3.68 7.112z",fill:"#E47D1E"})),Lt||(Lt=i.createElement("path",{d:"M2.142 14.29a3 3 0 012.997-3.136H30.86a3 3 0 012.997 3.135l-.754 16.693a3 3 0 01-2.997 2.864H5.893a3 3 0 01-2.997-2.864l-.754-16.693z",fill:"#F2BE58"})),xt||(xt=i.createElement("rect",{opacity:.6,x:11,y:15,width:14,height:14,rx:7,fill:"#E47E1E"})),Pt||(Pt=i.createElement("path",{d:"M20.277 19.223a.4.4 0 01.5.5l-1.035 3.358a1 1 0 01-.661.66l-3.358 1.036a.4.4 0 01-.5-.5l1.035-3.358a1 1 0 01.661-.66l3.358-1.036z",fill:"#F2BE58"})))},Bt="WvriN2FJ",At="tojlKG5g",Ot="_MH4WNqd",Wt="_GBtL6gp",Rt="m0IxXQmQ",Ft="jFKE9ldv",Vt="DDkGUtUE",Ut="GN2YHLag",Gt="Gnpumeh_",Ht="wt1mzeDz",jt="qHvY4wUg",Zt="DgFkl1g5",Kt="sdYmGh3e",Yt="q5661Whh",qt="Px9YAX9F",zt="W309V2j5",Xt="d4i4cos_",Qt="D5hlkhfe",Jt="nz7QTusR",$t="MZDET1_b",en="ndrtGq7g",tn="lcKMYPjX",nn="LWqS0cLw",on="q_a7MQn1",rn="gLBz9LCQ",an="YOxtKc6u";var ln=n(88438),sn=n.n(ln),cn=n(54805),un=n(17475),dn=n(74885),mn=n(18464),hn=n(82229);const vn=()=>{const[e,t]=(0,i.useState)(1/0);return(0,i.useEffect)((()=>{(async()=>{const e=await mn.U2({key:hn.TccKey.PWA2Config,defaultValue:{delay:3e4}});t(e.delay)})()}),[]),{delay:e}},pn=e=>function(){try{return e(...arguments)}catch(t){}},gn=pn((()=>{const[e="0",t="0"]=(V.Q.getItem({sKey:K.CookieKeys.PWA2Guide})||"").split("|");return{showGuideCount:Number(e),hovered:t}})),fn=pn((()=>{const{hovered:e="0"}=gn();return"0"===e})),wn=pn((e=>{var t;const n={...gn(),...e};V.Q.setItem(K.CookieKeys.PWA2Guide,k()(t="".concat(n.showGuideCount,"|")).call(t,n.hovered),1/0)})),_n=pn((()=>{const e=gn();wn({showGuideCount:Math.min(e.showGuideCount+1,3)})})),yn=pn((()=>{const{showGuideCount:e,hovered:t}=gn();return"1"!==t&&e<3})),En={STAY_TIME:5e3,TOTAL_COUNT:3,getPWA2GuideData:gn,checkBadgeVisible:fn,updatePWAGuideData:wn,increasePWA2ShowGuideCount:_n,checkAutoShowPanel:yn};var bn=n(7809),Cn=n.n(bn);const kn={showGuide:!1,showUids:[],userData:{},autoShowCount:0,autoShowDate:""},Nn=e=>function(){try{return e(...arguments)}catch(t){}},Tn=()=>({...kn,...j.$o(K.LocalStorageKeys.CollectionGuide)});function Sn(){return Cn()().format("YYYY-MM-DD")}const In={checkBadgeVisible:Nn((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(F.p())return!1;const{showGuide:n=!1,showUids:o=[]}=Tn();return!(!t&&n)&&(!t||!r()(o).call(o,e))})),setCollectionBadgeInfo:Nn(((e,t)=>{const n=Tn();e?n.showUids.push(t):n.showGuide=!0,j.qQ(K.LocalStorageKeys.CollectionGuide,n)})),checkAutoShowPanel:Nn((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(F.p())return!1;const{userData:n={},autoShowCount:o,autoShowDate:r}=Tn();let a=o,l=r;if(t&&e){const t=n[e]||{};a=t.autoShowCount||0,l=t.autoShowDate||""}return!(a>=5)&&(!l||!Cn()().isSame(l,"day"))})),increasePaneInfo:Nn((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Tn();if(t&&e){const t=n.userData[e]||{},{autoShowCount:o=0}=t;return t.autoShowCount=o+1,t.autoShowDate=Sn(),n.userData[e]=t,void j.qQ(K.LocalStorageKeys.CollectionGuide,n)}const{autoShowCount:o=0}=n;n.autoShowCount=o+1,n.autoShowDate=Sn(),j.qQ(K.LocalStorageKeys.CollectionGuide,n)})),STAY_TIME:1e4,NEW_USER_DELAY_TIME:6e5,OLD_USER_DELAY_TIME:12e5};var Ln=n(38765),xn=n(15912),Pn=n(15621);const Dn=()=>{Pn.YY.replaceCurrentTask({id:Pn.BE.HoverTaskId,priority:Pn.T0.HoverPriority,isBlock:!0})},Mn=()=>{Pn.YY.finishTask(Pn.BE.HoverTaskId)};let Bn=!1;var An;!function(e){e[e.Hover=0]="Hover",e[e.Auto=1]="Auto"}(An||(An={}));const On=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const[r,a]=(0,i.useState)(!1),[l,s]=(0,i.useState)(An.Hover),[c,u]=(0,i.useState)(!1),[d,m]=(0,i.useState)(!1),{delay:h}=vn(),g=(0,i.useRef)(),{onMouseEnter:f,onMouseLeave:w}=(0,Ln.U)({enterDelay:200,leaveDelay:200,onMouseEnter(){if(o)return l===An.Hover&&(u(!1),En.updatePWAGuideData({hovered:"1"}),m(!1)),a(!0),s(An.Hover),Te.i.sendLog("pageCollectionDetailShow",{enter_from:v.yW(),enter_method:"hover",if_red_dot:c?1:0}),clearTimeout(g.current),void(n||(Dn(),x.emit(x.EVENT.showHeaderPopUp,{type:"collection",isShow:!0})));Te.i.sendLog("pageCollectionDetailShow",{enter_from:v.yW(),enter_method:"hover",if_red_dot:c?1:0}),clearTimeout(g.current),a(!0),n||(Dn(),x.emit(x.EVENT.showHeaderPopUp,{type:"collection",isShow:!0}))},onMouseLeave(){if(o)return a(!1),clearTimeout(g.current),n||Mn(),void s(An.Hover);c&&void 0!==t&&(u(!1),In.setCollectionBadgeInfo(t,e)),a(!1),clearTimeout(g.current),n||Mn()}}),_=()=>{r||(o?En.increasePWA2ShowGuideCount():In.increasePaneInfo(e,t),m(!0),a(!0),s(An.Auto),g.current=sn()((()=>a(!1)),o?En.STAY_TIME:In.STAY_TIME))},y=(0,i.useRef)(),E=(0,cn.Z)((async()=>{if(!In.checkAutoShowPanel(e,t))return;const n=await(0,xn.Tw)();let o=In.OLD_USER_DELAY_TIME;n&&(o=In.NEW_USER_DELAY_TIME),y.current=sn()((()=>{_()}),o)}));(0,i.useEffect)((()=>{if(!o)return void 0===t||n?void 0:(E(),()=>{clearTimeout(g.current),clearTimeout(y.current)})}),[t,n,o]);const b=(0,i.useRef)((()=>{}));b.current=e=>{n||(Bn=!0,p.Le.getConfig(p.gI.UserClick2DownloadClient)||En.checkAutoShowPanel()&&(y.current=sn()((()=>_()),"pwa"===e?0:h)))},(0,i.useEffect)((()=>{const e=x.listen(x.EVENT.downloadGuideInformPWA2Guide,(e=>{!1===Bn&&b.current(e.downloadGuideType)}));return()=>{e(),clearTimeout(g.current),clearTimeout(y.current)}}),[]),(0,i.useEffect)((()=>{const e=x.listen(x.EVENT.showHeaderPopUp,(e=>{"collection"!==e.type&&e.isShow&&a(!1)}));return()=>{e()}}),[]);const C=(0,i.useCallback)((()=>{a(!1)}),[]),k=()=>{Te.i.sendLog("pageCollectionDetailShow",{enter_from:v.yW(),enter_method:"click",if_red_dot:c?1:0}),Dn(),a(!0),m(!1)};return(0,i.useEffect)((()=>{o?u(En.checkBadgeVisible()):void 0===t||n||u(In.checkBadgeVisible(e,t))}),[t,e,n,o]),(0,i.useEffect)((()=>{const e=e=>{un.S(e)&&(a(!1),n||Mn())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[n]),{onCollectionGuideEnter:f,onCollectionGuideLeave:w,collectionPanelVisible:r,badgeVisible:c,onClick:k,withClose:d,onClose:C}},Wn=dt.Q()?"command":"ctrl",Rn=(0,i.memo)((e=>{const{installPWA:t,withClose:n,onClose:o}=e,r=(0,ut.x)((()=>A.Z.sendLog("webCollectNotify",{enter_from:v.mo()}))),a=(0,i.useCallback)((()=>{A.Z.sendLog("webCollectClick",{enter_from:v.mo()}),t(),o()}),[t,o]),l=(0,i.useCallback)((()=>{o()}),[o]);return i.createElement("div",{className:At,ref:r},i.createElement("div",{className:Vt},i.createElement(S.Z,{src:globalThis.getFilterXss().filterUrl(mt.Z,null,{logType:"js.href/src",reportOnly:!1}),className:c()(Ut,{[Gt]:!n}),onClick:l,width:10,height:10,viewBox:"0 0 13 13"}),i.createElement("div",{className:jt},i.createElement("div",{className:Zt},i.createElement(S.Z,{className:Yt,src:globalThis.getFilterXss().filterUrl(Mt,null,{logType:"js.href/src",reportOnly:!1}),width:36,height:36,viewBox:"0 0 36 36"}),i.createElement("div",{className:qt},i.createElement("p",{className:zt},"\u6dfb\u52a0\u7f51\u9875\u6536\u85cf\u5939"),i.createElement("p",{className:Xt},"\u6309\u5feb\u6377\u952e\u6536\u85cf\u6296\u97f3\u7f51\u9875"))),i.createElement("div",{className:Jt},Wn," + D")),i.createElement("div",{className:Ht}),i.createElement("div",{className:jt},i.createElement("div",{className:c()(Zt,Kt)},i.createElement(S.Z,{className:Yt,src:globalThis.getFilterXss().filterUrl(St,null,{logType:"js.href/src",reportOnly:!1}),width:36,height:36,viewBox:"0 0 36 36"}),i.createElement("div",{className:qt},i.createElement("p",{className:zt},"\u6dfb\u52a0\u684c\u9762\u5feb\u6377\u5165\u53e3"),i.createElement("p",{className:Xt},"\u53ef\u5728\u684c\u9762\u4e00\u952e\u6253\u5f00\u6296\u97f3"))),i.createElement("div",{className:Qt},i.createElement("div",{className:c()(Jt,$t),onClick:a},"\u6dfb\u52a0\u5230\u684c\u9762"),n&&i.createElement("div",{className:en}),n&&i.createElement("div",{className:tn})))))})),Fn=(0,i.memo)((e=>{const{pwa2:t=d.DownloadGuide.Origin,installPWA:n,PWAInstallable:o,withClose:r,onClose:a}=e;return t&&o?i.createElement(Rn,{installPWA:n,withClose:r,onClose:a}):i.createElement("div",{className:At},i.createElement("div",{className:Ot},i.createElement("div",{className:nn},i.createElement("span",{className:on},"\u6536\u85cf\u7f51\u9875\u770b\u6296\u97f3\u89c6\u9891\u66f4\u65b9\u4fbf "),i.createElement("span",{className:rn},"\u201c",Wn,"+D\u201d\u6216 \u70b9\u51fb\u6d4f\u89c8\u5668\u201c\u6536\u85cf\u6309\u94ae\ufe0f\u201d ")),i.createElement("div",{className:Wt},i.createElement("div",{className:Rt},i.createElement("div",{className:Ft},Wn),i.createElement(S.Z,{className:an,src:globalThis.getFilterXss().filterUrl(ft,null,{logType:"js.href/src",reportOnly:!1}),width:7,height:8,viewBox:"0 0 7 8"}),i.createElement("div",{className:Ft},"D")))))})),Vn=(0,i.memo)((e=>{const{isLogin:t,uid:n,activityName:o,transparent:r,pwa2:a,PWAInstallable:l,installPWA:s}=e,{onClick:c,badgeVisible:u,collectionPanelVisible:d,onCollectionGuideEnter:m,onCollectionGuideLeave:h,withClose:v,onClose:p}=On(n,t,void 0,a);return i.createElement(at.Y,{type:"circleButtonWithText",badge:"round",text:"\u6536\u85cf\u7f51\u9875",icon:vt,iconHeight:12,iconWidth:12,viewBox:"0 0 12 12",onMouseEnter:m,onMouseLeave:h,onClick:c,showBadge:u,activityName:o,transparent:r},d&&i.createElement("div",{className:Bt},i.createElement(Fn,{pwa2:a,PWAInstallable:l,installPWA:s,withClose:v,onClose:p})))}));var Un=n(96677),Gn=n(7829),Hn=n(76953),jn=n(79757);const Zn="dlb-login-guide-active",Kn=i.forwardRef(((e,t)=>{let{hint:n,changeType:o,enterMethod:r}=e;return i.createElement("div",{className:Gn.Z.imLoginGuidePanelWrapper},i.createElement("div",{ref:t,className:Gn.Z.imLoginGuidePanel},i.createElement("p",{className:Gn.Z.desc},n),i.createElement("div",{className:Gn.Z.loginBtn,onClick:()=>{var e,t,a;null==o||o("",!0),(0,Un.navShowAccount)({success:()=>{window.location.reload()},headerText:n,next:k()(e="".concat(null==fe?void 0:_e.tJ)).call(e,null===(t=window)||void 0===t||null===(a=t.location)||void 0===a?void 0:a.host),enterMethod:r,teaEvtParams:{is_guide:"1",enter_method:r}})}},"\u7acb\u5373\u767b\u5f55")))}));const Yn=e=>{let{customProps:t,dlgName:n,hint:o,entryIcon:r,enterMethod:a,iconText:l,avatarWidth:s,avatarHeight:c,viewBox:u,transparent:d}=e;const{type:m,changeType:h,clearShowTimer:v}=(0,M.P)({delayDisappear:200,delayShow:100}),p=(0,i.useCallback)((()=>{Ke.n.loginGuideShowed&&Ke.n.destroy(),h(Zn),x.emit(x.EVENT.showHeaderPopUp,{type:n,isShow:!0})}),[m]),g=(0,i.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m?h(void 0,!0===e):v()}),[m]);return i.createElement(i.Fragment,null,i.createElement("div",{"data-e2e":"".concat(n,"-entry"),className:Gn.Z.cicleButtonWithText},i.createElement(at.Y,{type:"circleButtonWithText",text:l,onMouseEnter:()=>{p()},onMouseLeave:()=>{g()},avatarUrl:r,avatarWidth:s,avatarHeight:c,viewBox:u,activityName:null==t?void 0:t.activityName,headerPopupName:n,className:Gn.Z.polymorphicButton,transparent:d},m===Zn&&i.createElement(Kn,{hint:o,changeType:h,enterMethod:a}))))};function qn(e){let{customProps:t,transparent:n}=e;return i.createElement(Yn,{customProps:t,dlgName:"im",hint:"\u767b\u5f55\u540e\u5373\u53ef\u67e5\u770b\u79c1\u4fe1\u6d88\u606f",entryIcon:Hn.Z,avatarWidth:11,avatarHeight:12,viewBox:"0 0.5 11.5 11",enterMethod:"IM",iconText:"\u79c1\u4fe1",transparent:n})}function zn(e){let{customProps:t,transparent:n}=e;return i.createElement(Yn,{customProps:t,dlgName:"notice",hint:"\u767b\u5f55\u540e\u5373\u53ef\u67e5\u770b\u901a\u77e5\u6d88\u606f",entryIcon:jn.Z,avatarWidth:20,avatarHeight:32,viewBox:"0 1 16 16",enterMethod:"interact",iconText:"\u901a\u77e5",transparent:n})}let Xn;var Qn=n(95254),Jn=n(27657);const $n={popover:"QUUswvJ3",content:"zWjTVNan",left:"sSoR5D5a",right:"KOMwqSsA",top:"F42n42IL",bottom:"DWl8khup"},eo={left:"right",right:"left",top:"bottom",bottom:"top"},to=(0,i.memo)((e=>{const{position:t="bottom",defaultVisible:n=!1,visible:o,onVisibleChange:a,content:l,spacing:s=10,children:u,contentClassName:d,mouseEnterDelay:m,mouseLeaveDelay:h,className:v}=e,[p,g]=(0,Jn.C)({defaultValue:n,value:o}),f=(0,i.useRef)(null),{onMouseEnter:w,onMouseLeave:_}=(0,Ln.U)({enterDelay:m,leaveDelay:h,onMouseEnter:()=>{g(!0),p||null==a||a(!0)},onMouseLeave:()=>{g(!1),p&&(null==a||a(!1))}}),[y,E]=(0,i.useState)(0);return(0,i.useEffect)((()=>{var e,n;p&&f.current&&(r()(e=["top","bottom"]).call(e,t)?E(f.current.offsetHeight):r()(n=["left","right"]).call(n,t)&&E(f.current.offsetWidth))}),[p,t]),i.createElement("div",{className:c()($n.popover,v),ref:f,onMouseEnter:w,onMouseLeave:_},u,p&&i.createElement("div",{className:c()($n.content,$n[t],d),style:{[eo[t]]:y+s}},l))}));var no=n(30408),oo=n(76735),ro=n.n(oo),ao=n(80051),lo=n.n(ao),io=n(84578),so=n.n(io),co=n(87129),uo=n(86069),mo=n(51170);function ho(e){const{isLogin:t,abTestData:n}=e,[o,r]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),[s,c]=(0,i.useState)(!1),u=(0,i.useRef)({isPublishGuideShow:!0,isNewVideoGuideShow:!0,isPostDataGuideShow:!0});(0,i.useEffect)((()=>{if(!t||(null==n?void 0:n.showCreatorGuide)!==d.ShowCreatorGuide.Show)return;const{isPublishHovered:e,isNewVideoClicked:o,isPostDataClicked:a,publishGuideInitTime:i}=(()=>{let e=V.Q.getItem({sKey:K.CookieKeys.PublishBadgeShowInfo});e||(e="0,0,0,".concat(ro()()),V.Q.setItem(K.CookieKeys.PublishBadgeShowInfo,e));const[t,n,o,r]=e.split(",");return{isPublishHovered:t,isNewVideoClicked:n,isPostDataClicked:o,publishGuideInitTime:r}})(),s=Boolean(i)&&ro()()-Number(i)>=2592e5;if((Number(e)||s)&&Number(o)&&Number(a))return;(Number(e)||s)&&(u.current.isPublishGuideShow=!1),Number(o)&&(u.current.isNewVideoGuideShow=!1),Number(a)&&(u.current.isPostDataGuideShow=!1);let m=!1;return uo.H((()=>{(async()=>{const{publishAndNewVideoHighlight:e,publishAndPostlight:t}=await(async()=>{const e=[co.Vk({highlight_type:mo.WebGuideToCreatorScene.PublishAndNewVideo}),co.Vk({highlight_type:mo.WebGuideToCreatorScene.PublishAndPost})],[t,n]=await lo().allSettled(e);return{publishAndNewVideoHighlight:"fulfilled"===t.status&&t.value.isHighlight,publishAndPostlight:"fulfilled"===n.status&&n.value.isHighlight}})()||{};m||(r(u.current.isPublishGuideShow&&(e||t)),l(u.current.isNewVideoGuideShow&&e),c(u.current.isPostDataGuideShow&&t))})()})),()=>{m=!0}}),[t,n]);const m=(0,i.useCallback)((()=>{var e;if(!o)return;r(!1);const t=null!==(e=V.Q.getItem({sKey:K.CookieKeys.PublishBadgeShowInfo}))&&void 0!==e?e:"0,0,0,0";V.Q.setItem(K.CookieKeys.PublishBadgeShowInfo,"1,".concat(so()(t).call(t,2)))}),[o]),h=(0,i.useCallback)((()=>{var e,t;if(!a)return;l(!1);const n=null!==(e=V.Q.getItem({sKey:K.CookieKeys.PublishBadgeShowInfo}))&&void 0!==e?e:"0,0,0,0";V.Q.setItem(K.CookieKeys.PublishBadgeShowInfo,k()(t="".concat(so()(n).call(n,0,1),",1,")).call(t,so()(n).call(n,4)))}),[a]),v=(0,i.useCallback)((()=>{var e,t;if(!s)return;c(!1);const n=null!==(e=V.Q.getItem({sKey:K.CookieKeys.PublishBadgeShowInfo}))&&void 0!==e?e:"0,0,0,0";V.Q.setItem(K.CookieKeys.PublishBadgeShowInfo,k()(t="".concat(so()(n).call(n,0,3),",1,")).call(t,so()(n).call(n,6)))}),[s]);return(0,i.useEffect)((()=>{if(o){var e,t;const n=null!==(e=V.Q.getItem({sKey:K.CookieKeys.PublishBadgeShowInfo}))&&void 0!==e?e:"0,0,0,0";V.Q.setItem(K.CookieKeys.PublishBadgeShowInfo,k()(t="".concat(so()(n).call(n,0,5),",")).call(t,ro()())),A.Z.sendLog("publishNotifyShow",{})}}),[o]),{isPublishGuideShow:o,isNewVideoGuideShow:a,isPostDataGuideShow:s,handlePublishHovered:m,handleNewVideoClicked:h,handlePostDataClick:v}}const vo=(0,u.default)((()=>Promise.all([n.e(2339),n.e(5590)]).then(n.bind(n,72339))),{ssr:!1}),po=(0,u.default)((()=>Promise.all([n.e(4785),n.e(9707),n.e(8295),n.e(6780)]).then(n.bind(n,99905))),{ssr:!1}),go=(0,u.default)((()=>Promise.all([n.e(8933),n.e(8617)]).then(n.bind(n,64058))),{resolveComponent:e=>{let{ReturnToMainWindow:t}=e;return t}}),fo=(0,u.default)((()=>Promise.all([n.e(8933),n.e(8617)]).then(n.bind(n,54942))),{resolveComponent:e=>{let{WindowToolBar:t}=e;return t}}),wo=(0,u.default)((()=>Promise.all([n.e(8933),n.e(8617)]).then(n.bind(n,31524))),{resolveComponent:e=>{let{NewWallpaper:t}=e;return t}});function _o(e){var t;const{isLogin:n,abTestData:o,info:a,customProps:s,uid:u,secUid:C,avatarUrl:k,awemeCount:N,favoritingCount:T,awemeCollectCount:S,success:I,transparent:P}=e,D=r()(t=[d.DownloadGuide.PWA2,d.DownloadGuide.PWA2WithClient]).call(t,o.downloadGuide),[M,B]=(0,i.useState)(!1),{isClient:O,landingPage:W,os:R,activityName:F}=s,V=m.a.useIsMainWindowDetect(),{newWallpaperShow:G}=function(e){let{isClient:t,abTestData:n,osInfo:o}=e;const[r,a]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t&&null!=n&&n.secondWallpaper&&("Windows"===o.os&&"Win10"===o.version&&a(!0),"Mac"===o.os&&a(!0))}),[o,n,t]),{newWallpaperShow:r}}({isClient:O,abTestData:o,osInfo:R}),{PWAInstallable:H,installPWA:j}=(0,no.uy)(),{onDownloadGuideEnter:Z,onDownloadGuideLeave:K,show:q,downloadPWA:z,withClose:X,withEffect:Q,shouldShowGuideType:J,clientDownloadHref:$,clientDownloadAttr:ee,showDownloadGuide:te,hideDownloadGuide:ne,onDownloadGuideEntryEnter:oe,onDownloadGuideEntryLeave:re,onDownloadGuideVisibleChange:ae,showType:le,showClientBadge:ie}=(0,ct.GZ)({isLogin:n,PWAInstallable:H,installPWA:j,pwa2:D}),se=Boolean(M),ce=se?h.rV():$,ue=!se&&ee,de=se?"_blank":"_self";(0,i.useEffect)((()=>B(/live/.test(location.host))),[]),function(e,t,n,o){(0,i.useEffect)((()=>{e&&void 0!==o&&Ne().app.syncLoginState({isLogin:o,uid:t,secUid:n})}),[o,t,n,e])}(O,u,C,n);const me=ho({isLogin:n,abTestData:o}),{postDropdownItems:he,cooperationDropdownItems:ve}=function(e,t,n,o){const{isNewVideoGuideShow:r,isPostDataGuideShow:a,handleNewVideoClicked:l,handlePostDataClick:s}=o,c=e=>A.Z.sendLog("pageClick",{enter_from:v.vM(),click_position:e});return{postDropdownItems:(0,i.useMemo)((()=>[{...Ce.j.publish,type:"textLink",url:e?Ce.j.publish.url:"//".concat(Y.CREATOR_DOMAIN,"/"),onClick:()=>{c("publish"),l()},transparent:n,showBadge:r},{...Ce.j.videoManage,type:"textLink",onClick:()=>c("manage"),transparent:n},{...Ce.j.postStatistics,type:"textLink",onClick:()=>{c("data"),s()},transparent:n,showBadge:a},{...Ce.j.liveData,type:"textLink",transparent:n,onClick:()=>c("live")},{...Ce.j.creatorSchool,type:"textLink",onClick:()=>c("creator_learning"),transparent:n},{...Ce.j.creator,type:"textLink",text:"\u521b\u4f5c\u8005\u670d\u52a1\u5e73\u53f0",onClick:()=>c("creator_platform"),url:e?Ce.j.creator.url:"//".concat(Y.CREATOR_DOMAIN,"/"),transparent:n}]),[e,r,a]),cooperationDropdownItems:(0,i.useMemo)((()=>[{...Ce.j.platform,type:"textLink",onClick:()=>c("open_platform")},{...Ce.j.certification,type:"textLink",onClick:()=>c("certification")},{...Ce.j.marketing,type:"textLink",onClick:()=>c("ad_serving")},{...Ce.j.ecommerce,type:"textLink",onClick:()=>c("ecommerce")},{...Ce.j.rule,type:"textLink",text:"\u89c4\u5219\u4e2d\u5fc3",onClick:()=>c("security_report")},{...Ce.j.aboutDouyin,type:"textLink",onClick:()=>c("about_douyin")}]),[])}}(n,0,P,me),{isPublishGuideShow:pe,handlePublishHovered:ge}=me;(0,i.useEffect)((()=>{ie&&A.Z.sendLog("addToDesktopBadgeShow",{enter_from:v.vM()})}),[ie]);const{inMiniScreen:fe}=lt(),we=(e=>{const[t,n]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{U.DT()||dn.Y(e).then((e=>{n(!e)})).catch((()=>{n(!0)}))}),[e]),t})(n),{onCollectionGuideEnter:_e,onCollectionGuideLeave:ye,collectionPanelVisible:Ee,withClose:be,onClose:ke}=On(u,n,!0,D),Te=(0,i.useMemo)((()=>{var e;return l()(e=[we?{...Ce.j.collectionGuide,type:"textLink",onMouseEnter:_e,onMouseLeave:ye,children:[i.createElement("div",{className:b.hoverToShowMiniDownloadGuideContainer,key:"downloadMenuInMiniscreen"},i.createElement("div",{className:b.hoverToShowMiniDownloadGuide,key:"downloadMenuInMiniscreen"},Ee&&i.createElement(Fn,{pwa2:D,PWAInstallable:H,installPWA:j,onClose:ke,withClose:be})))]}:void 0,{...Ce.j.cooperation,type:"textLink",items:ve,trigger:"hover",itemsContainerClassName:b.miniScreenCooperationDropdownContainer,onMouseEnter:()=>{A.Z.sendLog("cooperatePanelShow",{enter_from:v.mo()})}},{...Ce.j.downloadClient,type:"textLink",onMouseEnter:oe,onMouseLeave:re,...M?{onClick:()=>window.open((0,h.rV)())}:{url:$,downloadAttr:ee,target:"_self",onClick:()=>{p.Le.setConfig(p.gI.UserClick2DownloadClient,!0),A.Z.sendLog("addToDesktopClick",{enter_from:(0,A.v)(),is_full_screen:g.r()?"1":"0",type:"icon",platform:J===ct.xj.PWA?"pwa":"client"})}},children:[i.createElement("div",{className:b.hoverToShowMiniDownloadGuideContainer,key:"downloadMenuInMiniscreen"},i.createElement("div",{className:b.hoverToShowMiniDownloadGuide,key:"downloadMenuInMiniscreen"},q&&i.createElement(st.E6,{isLogin:n,downloadPWA:z,withClose:X,withEffect:Q,clientDownloadAttr:ee,showType:le,shouldShowGuideType:J,clientDownloadHref:$,showDownloadGuide:te,onClose:ne})))]}]).call(e,(e=>e))}),[ve,n,z,X,Q,J,$,te,ne,q,oe,re,le,ee,Ee,_e,ye,we,M,D,H,j,ke,be]),Se=(0,i.useCallback)((()=>{var e,t;const n=null===(e=l()(he).call(he,(e=>"publish"===e.key)))||void 0===e?void 0:e[0];null==n||null===(t=n.onClick)||void 0===t||t.call(n),A.Z.sendLog("clickPublish",{enter_from:v.vM(),is_badge:Number(pe)}),(null==n?void 0:n.url)&&window.open(n.url,"_blank")}),[he,pe]),{initImSDK:Ie,initNoticeSDK:Le,setInitImSDK:xe,setNoticeSDK:Pe}=function(e){var t,n;let{initImSDK:o=!0,initNoticeSDK:r=!0}=e;const[a,l]=(0,i.useState)(null!==(t=Xn)&&void 0!==t?t:o),[s,c]=(0,i.useState)(null!==(n=Xn)&&void 0!==n?n:r);return(0,i.useEffect)((()=>{Xn||sn()((()=>{Xn=!0,l(!0),c(!0)}),9500)}),[]),(0,i.useEffect)((()=>{const e=x.listen(x.EVENT.initIMNoticeSDK,(e=>{Xn=!0,l(!0),c(!0)}));return()=>e()}),[]),(0,i.useEffect)((()=>{const e=x.listen(x.EVENT.initImSDK,(e=>{Xn=!0,l(!0)}));return()=>e()}),[]),(0,i.useEffect)((()=>{const e=x.listen(x.EVENT.initNoticeSDK,(e=>{Xn=!0,c(!0)}));return()=>e()}),[]),{initImSDK:a,initNoticeSDK:s,setInitImSDK:l,setNoticeSDK:c}}({initImSDK:!1,initNoticeSDK:!1});return i.createElement("div",{className:c()(b.newHeaderContainer,b.buttonWithTextContainer,{[b.clientHeaderContainer]:O})},O&&!V&&i.createElement(Qn.r,null,i.createElement(go,{transparent:P})),!O&&fe&&i.createElement("div",{className:b.menuItem},i.createElement(je.p,{headerPopupName:"more"},i.createElement(at.Y,{text:"\u66f4\u591a",type:"circleButtonWithText",avatarUrl:y.Z,activityName:F,avatarHeight:12.44,avatarWidth:12.44,viewBox:"0.5 0.5 13 13",trigger:"hover",items:Te,itemsContainerClassName:c()(b.miniScreenCooperationDropdownContainerFirstLevel),headerPopupName:"more",transparent:P}))),!O&&!fe&&i.createElement(i.Fragment,null,i.createElement(to,{position:"bottom",visible:q,onVisibleChange:ae,mouseEnterDelay:100,mouseLeaveDelay:200,content:i.createElement("div",{onMouseEnter:Z,onMouseLeave:K},i.createElement(st.E6,{isLogin:n,downloadPWA:z,withClose:X,withEffect:Q,showType:le,shouldShowGuideType:J,clientDownloadHref:$,clientDownloadAttr:ee,showDownloadGuide:te,onClose:ne}))},i.createElement("div",{className:b.menuItem},i.createElement(je.p,{headerPopupName:"client"},i.createElement("a",{href:globalThis.getFilterXss().filterUrl(ce,null,{logType:"js.href/src",reportOnly:!1}),download:ue,target:de,onClick:()=>{A.Z.sendLog("addToDesktopClick",{enter_from:(0,A.v)(),is_full_screen:g.r()?"1":"0",type:"icon",platform:J===ct.xj.PWA?"pwa":"client"}),p.Le.setConfig(p.gI.UserClick2DownloadClient,!0)}},i.createElement(L,{activityName:null==s?void 0:s.activityName,text:"\u5ba2\u6237\u7aef",icon:w.Z,iconWidth:15,iconHeight:12.16,iconViewBox:"0 -0.5 18.83 12.91",showBadge:ie,badge:"image",badgeIconSvg:E.Z,badgeIconHeight:15,badgeIconWidth:28,badgeIconViewBox:"0 0 28 15",transparent:P}))))),we&&i.createElement("div",{className:b.menuItem},i.createElement(je.p,{headerPopupName:"collection"},i.createElement(Vn,{activityName:null==s?void 0:s.activityName,isLogin:n,uid:u,transparent:P,pwa2:D,PWAInstallable:H,installPWA:j,withClose:be,onClose:ke}))),i.createElement("div",{className:b.menuItem},i.createElement(je.p,{headerPopupName:"cooperation"},i.createElement(at.Y,{text:"\u5408\u4f5c",type:"circleButtonWithText",avatarUrl:f.Z,activityName:null==s?void 0:s.activityName,avatarHeight:10.9,avatarWidth:12,trigger:"hover",items:ve,itemsContainerClassName:b.dropdownContainer,onMouseEnter:()=>{A.Z.sendLog("cooperatePanelShow",{enter_from:v.mo()})},headerPopupName:"cooperation",transparent:P})))),G&&i.createElement(wo,{abTestData:o,transparent:P,isClient:O,activityName:null==s?void 0:s.activityName}),Le&&i.createElement("ul",{className:b.menuItem,onMouseEnter:()=>{Pe(!0)}},i.createElement(je.p,null,n?i.createElement(vo,{customProps:{isActivity:null==s?void 0:s.isActivity,activityName:null==s?void 0:s.activityName},className:b.menuItemContent,isLogin:n,abTestData:o,uInfo:a,initNoticeSDK:Le,transparent:P}):i.createElement(zn,{customProps:{isActivity:null==s?void 0:s.isActivity,activityName:null==s?void 0:s.activityName},transparent:P}))),Ie&&i.createElement("ul",{className:b.menuItem,onMouseEnter:()=>{xe(!0)}},i.createElement(je.p,null,n?i.createElement(po,{isLogin:n,abTestData:o,uInfo:a,className:b.menuItemContent,customProps:{isActivity:null==s?void 0:s.isActivity,activityName:null==s?void 0:s.activityName},initImSDK:Ie,transparent:P}):i.createElement(qn,{customProps:{isActivity:null==s?void 0:s.isActivity,activityName:null==s?void 0:s.activityName},transparent:P}))),i.createElement("div",{className:b.menuItem},i.createElement(je.p,{headerPopupName:"post"},i.createElement(at.Y,{text:"\u6295\u7a3f",type:"circleButtonWithText",avatarUrl:_.Z,activityName:null==s?void 0:s.activityName,avatarHeight:10,avatarWidth:13,viewBox:"0 0 12.65 10",trigger:"hover",items:he,itemsContainerClassName:b.dropdownContainer,headerPopupName:"post",onClick:Se,transparent:P,badge:"round",showBadge:pe,badgeStyle:{right:"-5px",top:"1px"},onMouseEnter:()=>{A.Z.sendLog("publishPanelShow",{enter_from:v.vM(),is_badge:Number(pe)}),ge()}}))),i.createElement("div",{className:c()(b.verticalDivider,{[null==b?void 0:b[null==s?void 0:s.activityName]]:null==s?void 0:s.activityName,[b.transparent]:P,[b.hidden]:O})}),n&&i.createElement(Ze,{uid:u,secUid:C,avatarUrl:k,awemeCount:N,favoritingCount:T,awemeCollectCount:S,className:b.isLogin,isClient:O,abtest:o}),!n&&void 0!==n&&fe&&i.createElement(rt,{isToggleLoginBtn:!1,success:I,displayAvatar:!1,abtest:o,className:c()(b.avataUserMini,b.isLogout,b.miniScreen),isClient:O}),!n&&void 0!==n&&!fe&&i.createElement(rt,{isToggleLoginBtn:!0,success:I,isClient:O,abtest:o,className:b.isLogout}),le===ct.KK.Auto&&i.createElement("div",{className:b.miniScreen},fe&&q&&i.createElement("div",{className:b.fixedToHeaderBelow},i.createElement("div",{className:b.miniScreenDownloadGuideContainer},i.createElement(st.E6,{isLogin:n,isShow:q,showType:le,downloadPWA:z,withClose:X,withEffect:Q,shouldShowGuideType:J,clientDownloadAttr:ee,clientDownloadHref:$,showDownloadGuide:te,onClose:ne})))),O&&i.createElement(fo,{osInfo:R,abTestData:o,isLogin:n,landingPage:W}))}function yo(e){var t,n;let{success:o,userInfo:r,showYear100:a,abTestData:s,customProps:u,transparent:d}=e;const{isLogin:m,info:h}=r||{},{avatarUrl:v,secUid:p,awemeCount:g=0,favoritingCount:f=0,userCollectCount:w={},uid:_=""}=h||{},y=null==w||null===(t=w.collectCountList)||void 0===t?void 0:l()(t).call(t,(e=>2===e.itemType))[0],E=null!==(n=null==y?void 0:y.collectCount)&&void 0!==n?n:0;return i.createElement("div",{className:c()({[b.year100]:a})},i.createElement(_o,{isLogin:m,abTestData:s,info:h,customProps:u,uid:_,secUid:p,avatarUrl:v,awemeCount:g,favoritingCount:f,awemeCollectCount:E,success:o,transparent:d}))}},95254:(e,t,n)=>{n.d(t,{r:()=>l});var o=n(43500),r=n(21857),a=n.n(r);const l=e=>{let{children:t}=e;const[n,r]=o.useState(!1);return o.useEffect((()=>{r(!0),a().app.handlePageReady()}),[]),n?t:null}},64058:(e,t,n)=>{n.r(t),n.d(t,{ReturnButton:()=>P,ReturnToMainWindow:()=>D});var o=n(56402),r=n.n(o),a=n(43500),l=n(79705),i=n.n(l),s=n(21857),c=n.n(s),u=n(58256),d=n(8371),m=n(67948),h=n(41304),v=n(32574),p=n(9961),g=n(42699),f=n(47948),w=n(53539),_=n(96226);const y="A2WRPAeV",E="IPKap7uO",b="FQO_2z92",C="LZZr1cWF",k="Whkn0rwo",N="lwgi4rmB";var T;function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},S.apply(this,arguments)}const I=function(e){return a.createElement("svg",S({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T||(T=a.createElement("path",{d:"M7 3l-6 7 6 7",stroke:"#2F3035",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))};var L=n(34559),x=n(68033);function P(e){let{transparent:t}=e;const[n,o]=(0,a.useState)(!0),l=(0,a.useRef)("");(0,a.useEffect)((()=>{var e,t,n,r,a;l.current=null!==(e=h.FJ().awemePcClient)&&void 0!==e?e:"";const i="ACTIVITY_WINDOW"===(null!==(t=null===(n=window.TTE_ENV)||void 0===n||null===(r=n.initPageStore)||void 0===r||null===(a=r.window)||void 0===a?void 0:a.name)&&void 0!==t?t:"");o(v.y(l.current,">","1.0.6")),i&&o(!1)}),[]);return n?a.createElement("div",{className:i()(y,{[b]:t}),onClick:()=>{if(x.Z.sendLog("clickReturnPage",{enter_from:p.vM()}),"live_detail"===p.yW()&&!g.p()){var e,t;const{live_ad_creative_id:n=0,ad_log_extra:o="{}"}=u.parse(f.ht())||{},a="/"===location.pathname||"/live"===location.pathname,{homeStore:{selectedRoom:l={}}={},roomStore:{roomInfo:i={}}={}}=window.__STORE__||{},s=a?r()(l,"room.owner.id_str",""):r()(i,"anchor.id_str",""),c=a?r()(l,"room.id_str",""):r()(i,"roomId","");(0,d.E)("exit",{tag:"live_ad",value:Number(n),device_id:null===(e=w.Es)||void 0===e||null===(t=e.call(m))||void 0===t?void 0:t.user_unique_id,anchor_id:s,room_id:c,log_extra:o})}if(v.y(l.current,">=","1.2.0"))c().app.navigationGoBack();else if(n){var o;null===(o=c().app.canGoBack())||void 0===o||o.then((e=>{const{data:t}=e;t?c().app.goBack():_.F.info("\u5df2\u9000\u5230\u6700\u540e\u5566~")})).catch((e=>{_.F.info("\u5df2\u9000\u5230\u6700\u540e\u5566~")}))}}},a.createElement(L.Z,{width:20,height:20,viewBox:"-5 0 20 20",className:i()(E),src:globalThis.getFilterXss().filterUrl(I,null,{logType:"js.href/src",reportOnly:!1})})):null}function D(e){let{transparent:t}=e;return a.createElement("div",{onClick:()=>{x.Z.sendLog("clickMainPage",{enter_from:p.vM()}),c().app.mainWindowMoveTop()},className:i()(C,{[b]:t})},a.createElement("div",{className:i()(k)}),a.createElement("div",{className:i()(N)},"\u4e3b\u9875"))}},24465:(e,t,n)=>{n.d(t,{T:()=>o,S:()=>m});var o,r=n(21805),a=n.n(r),l=n(43500),i=n(15621),s=n(41304),c=n(89187),u=n(46598);function d(e){let{shouldShowLoginPopup:t}=e;t&&i.YY.configTask(i.BE.LoginGuideTaskId,i.T0.LoginGuidePriority),s.DT()?i.YY.configTask(i.BE.MiniScreenOrWallPaperTaskId,i.T0.MiniScreenWallPaperPriority):i.YY.configTask(i.BE.DownloadGuideTaskId,i.T0.ClientDownloadPriority),i.YY.configTaskComplete()}!function(e){e[e.Unknown=0]="Unknown",e[e.On=1]="On",e[e.Off=2]="Off"}(o||(o={}));const m=e=>{let{isLogin:t,loginPopupStatus:n=o.Off,noDisturbVal:r=c.NoDisturbABVal.Normal}=e;const s=(0,l.useRef)(!1);(0,l.useEffect)((()=>{var e;void 0!==t&&(a()(e=[c.NoDisturbABVal.A1,c.NoDisturbABVal.All]).call(e,r)?i.YY.setMode(u.f.SingleMode):i.YY.setMode(u.f.ParallelMode),s.current||(t?(s.current=!0,d({shouldShowLoginPopup:!1})):n!==o.Unknown&&d({shouldShowLoginPopup:n===o.On})))}),[t,n,r])}},14037:(e,t,n)=>{n.d(t,{xj:()=>I,KK:()=>L,GZ:()=>P});var o=n(92012),r=n.n(o),a=n(88438),l=n.n(a),i=n(43500),s=n(7809),c=n.n(s),u=n(54805),d=n(62638),m=n(16866),h=n(41304),v=n(74034),p=n(50403),g=n(49402),f=n(15621),w=n(38284),_=n(74885),y=n(30408),E=n(3589),b=n(15912),C=n(38765);const{COOKIE_DEFAULT_EXPIRE_DURATION:k,CookieKeys:N,COOKIE_DOMAIN:T}=d;function S(){const e=(m.Q.getItem({sKey:N.DownloadGuide})||"").split("/");return{count:Number(e[0]||"0"),lastTime:e[1]||""}}var I,L;!function(e){e[e.None=0]="None",e[e.PWA=1]="PWA",e[e.Client=2]="Client"}(I||(I={})),function(e){e[e.Hover=0]="Hover",e[e.Auto=1]="Auto"}(L||(L={}));const x=2**31-1,P=e=>{let{isLogin:t,PWAInstallable:n,installPWA:o,pwa2:a}=e;const{downloadAttr:s,downloadHref:d}=(0,E.o)(),[P,D]=(0,i.useState)(I.None),[M,B]=(0,i.useState)(x),[A,O]=(0,i.useState)(!1),[W,R]=(0,i.useState)(!1),[F,V]=(0,i.useState)(!1),[U,G]=(0,i.useState)(L.Hover),H=(0,i.useRef)(!1),j=(0,u.Z)((()=>o())),Z=(0,i.useCallback)((async e=>await async function(){return!1!==(0,b.D5)()&&(!h.DT()&&(!!e||(!t||!await(0,_.Y)())))}()?I.Client:(0,b.D5)()||v.f()||!v.y()||(0,y.Ah)()||!n?I.None:I.PWA),[n,t]),K=(0,i.useRef)(5e3);(0,i.useEffect)((()=>{(async()=>{if(void 0!==t){if(await(async()=>{const e=await p.pL();return!e||g.KC(1e3*e)})())return void B(6e4);B(3e4)}})()}),[t]);const Y=(0,i.useRef)(),q=(0,i.useRef)(!1),z=(0,u.Z)((()=>{V(!0),H.current=!0})),X=(0,u.Z)((()=>{clearTimeout(Y.current),V(!1),H.current=!1,f.YY.finishTask(f.BE.DownloadGuideTaskId),q.current=!1,O(!1),R(!1)})),Q=(0,i.useRef)((()=>{}));Q.current=()=>{a&&P===I.Client&&w.emit(w.EVENT.downloadGuideInformPWA2Guide,{downloadGuideType:"client"})};const J=(0,u.Z)((()=>{z(),O(!0),R(!0)})),$=(0,u.Z)((async()=>{const e=await Z(!1);if(a&&e===I.PWA)return void w.emit(w.EVENT.downloadGuideInformPWA2Guide,{downloadGuideType:"pwa"});e!==I.None&&function(e,t){const n=S();return!(n.count>=e||t&&n.lastTime===c()().format("YYYYMMDD"))}(3,!1)&&!H.current?(D(e),G(L.Auto),J(),function(){var e;const t=S();m.Q.setItem(N.DownloadGuide,r()(e="".concat(t.count+1,"/")).call(e,c()().format("YYYYMMDD")),k,"/",T)}(),Y.current=l()((()=>{X()}),K.current)):f.YY.cancelTask(f.BE.DownloadGuideTaskId)}));(0,i.useEffect)((()=>{M!==x&&f.YY.insertTask(f.BE.DownloadGuideTaskId,(()=>{$()}),{onFinish:()=>{X(),Q.current()},delay:M,priority:f.T0.ClientDownloadPriority})}),[M]);const ee=(0,u.Z)((()=>{U===L.Auto&&(q.current=!0),clearTimeout(Y.current)})),te=(0,u.Z)((()=>{q.current&&(clearTimeout(Y.current),Y.current=l()((()=>{X()}),K.current))}));(0,i.useEffect)((()=>w.listen(w.EVENT.showHeaderPopUp,(e=>"client"!==e.type&&e.isShow&&F&&X()))),[F,X]);const ne=async()=>{if(clearTimeout(Y.current),f.YY.replaceCurrentTask({id:f.BE.DownloadGuideTaskId,priority:f.T0.HoverPriority,isBlock:!0}),!H.current){const e=await Z(!0);D(e),z(),G(L.Hover)}},oe=()=>{q.current||(se(!1),X())},re=(0,u.Z)((async e=>{e?ne():oe()})),{onMouseEnter:ae,onMouseLeave:le}=(0,C.U)({enterDelay:100,leaveDelay:200,onMouseEnter:()=>{ne()},onMouseLeave:()=>{oe()}}),[ie,se]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{(0,b.D5)()&&"boolean"==typeof t&&(t?(0,_.Y)().then((e=>se(!e))):se(!0))}),[t]),{shouldShowGuideType:P,clientDownloadHref:d,clientDownloadAttr:s,downloadPWA:j,show:F,hideDownloadGuide:X,showDownloadGuideWithCloseAndEffect:J,withClose:A,withEffect:W,showDownloadGuide:z,onDownloadGuideEnter:ee,onDownloadGuideLeave:te,onDownloadGuideEntryEnter:ae,onDownloadGuideEntryLeave:le,onDownloadGuideVisibleChange:re,showType:U,showClientBadge:ie}}},3589:(e,t,n)=>{n.d(t,{o:()=>p});var o=n(34246),r=n.n(o),a=n(92012),l=n.n(a),i=n(43500),s=n(53539),c=n(16037),u=n(28796),d=n(18464),m=n(82229);const h={apk:"https://lf3-cdn-tos.bytegoofy.com/obj/douyin-pc-client/7044145585217083655/releases/7617694/1.0.3/win32-ia32/douyin-v1.0.3-win32-ia32.exe",apkExp1:"https://lf3-cdn-tos.bytegoofy.com/obj/douyin-pc-client/7044145585217083655/releases/8094749/1.0.4/win32-ia32/douyin-v1.0.4-win32-ia32-douyinDownload1.exe",apkExp2:"https://lf3-cdn-tos.bytegoofy.com/obj/douyin-pc-client/7044145585217083655/releases/8094749/1.0.4/win32-ia32/douyin-v1.0.4-win32-ia32-douyinDownload2.exe",limit:"Windows 7\u53ca\u4ee5\u4e0a",time:"2022-2-20",version:"1.0.4",video:"https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/video.mp4",macApk:"https://lf3-cdn-tos.bytegoofy.com/obj/douyin-pc-client/7044145585217083655/releases/8094749/1.0.4/win32-ia32/douyin-v1.0.4-win32-ia32-douyinDownload1.exe",macLimit:"macOS\u7cfb\u7edf",macTime:"2022-5-27",macVersion:"1.0.6"};var v=n(15912);function p(){const[e,t]=i.useState(""),[n,o]=(0,i.useState)(""),[a,p]=(0,i.useState)(""),[g,f]=(0,i.useState)("");return i.useEffect((()=>{(async function(){const e=await d.U2({key:m.TccKey.DownloadPCInfo,defaultValue:h});return{winUrl:e.apkExp1||e.apk,macUrl:e.macApk}})().then((e=>{t((0,v.G1)()?e.macUrl:e.winUrl)}))}),[]),(0,i.useEffect)((()=>{var e;const t=(null===(e=s.Es())||void 0===e?void 0:e.user_unique_id)||"",n=c.N(t,62);o(n)}),[]),(0,i.useEffect)((()=>{const t=(0,v.P0)()===v.CT.Mac?".dmg":".exe";let o="douyin".concat(t);if(e){var a;const i=e;o=i.substring(r()(i).call(i,"/")+1),o="".concat(l()(a="".concat(o.split(t)[0],"-wid-")).call(a,n),t)}f(o)}),[n,e]),(0,i.useEffect)((()=>{const t=u.w(e);var n;null!=t&&t.pathname?p(l()(n="https://".concat(location.host,"/download/pc")).call(n,t.pathname)):p(e)}),[e]),{downloadHref:a,downloadAttr:g}}},73230:(e,t,n)=>{n.d(t,{i:()=>l});var o=n(43500),r=n(18464),a=n(82229);const l=()=>{const e=(0,o.useCallback)((async()=>{const e=await r.U2({key:a.TccKey.SpecUserFollowerUidList,defaultValue:[]});window.spec_user_follower_uid_list=e}),[]);return(0,o.useEffect)((()=>{e()}),[]),null}},53210:(e,t,n)=>{n.d(t,{T:()=>M});var o=n(10081),r=n.n(o),a=n(57617),l=n.n(a),i=n(70995),s=n.n(i),c=n(21805),u=n.n(c),d=n(58256),m=n(43500),h=n(92539),v=n(7809),p=n.n(v),g=n(32385),f=n(4802),w=n(47948),_=n(53539),y=n(46568),E=n(41304),b=n(9961),C=n(41808),k=n(16866),N=n(57707),T=n(45348),S=n(62638),I=n(85805),L=n(74034),x=n(23780),P=n(68033),D=n(75828);const M=e=>{let{userInfo:t,redirectFrom:n}=e;const[o,a]=(0,x.x)(),i=(0,m.useRef)(t),c=(0,h.k6)(),{pageNameMap:v,ocpcReportReg:M}=g,B=(0,m.useRef)(""),A=(0,m.useRef)(!1);(0,f.s)();const O=(0,m.useCallback)((()=>{const{url:e,query:t}=d.parseUrl(location.href),n=t||{},o=w.Rs("sourceid")||(null==n?void 0:n.sourceid);if(o&&!A.current){var r;const t=null===(r=_.Es())||void 0===r?void 0:r.user_unique_id;if(w.U$(["sourceid"]),null!=n&&n.sourceid){var a,l;delete n.sourceid;const t=(0,d.stringify)(n);null===(a=window)||void 0===a||null===(l=a.history)||void 0===l||l.replaceState({},"",t?[e,t].join("?"):e)}A.current=!0,P.Z.sendLog("from360",{qhclickid:o||"",uuid:t}),y.N({qhclickid:o,trans_id:(0,I.H)(t)})}}),[]),W=(0,m.useCallback)((async()=>{var e,o,a,i,c;P.Z.sendLog("pageViewMonitorTest",{url:location.href},!1),(-1!==(null===(e=location)||void 0===e||null===(o=e.host)||void 0===o?void 0:r()(o).call(o,"live"))||new RegExp(M).test(null===(a=location)||void 0===a?void 0:a.pathname)&&!E._Q())&&O();const{info:u}=t||{},d=null===(i=_.Es())||void 0===i?void 0:i.user_unique_id,m=w.Rs("previous_page")||"";let h;for(const t of l()(v)){var p,g;if(null!==(p=location)&&void 0!==p&&null!==(g=p.pathname)&&void 0!==g&&g.match(new RegExp(t))){var f,y,I;if(-1===(null===(f=location)||void 0===f||null===(y=f.host)||void 0===y?void 0:r()(y).call(y,"live")))h=v[t];else h="/"===(null===(I=location)||void 0===I?void 0:I.pathname)?"live":v[t];"search_result"!==h&&b.TU(h)}}"live_detail"===b.yW()&&(h="live_detail");const x={app_code_link:"app_code",web_code_link:"web_code"},A=s()(c=location.pathname).call(c,"/note")?68:0;if(P.Z.sendLog("pageViewMonitor",{enter_from:h||"",url:location.href,uid:null==u?void 0:u.uid,uuid:d}),h&&(null!=u&&u.uid||d)){const e="/hot"===location.pathname?"trend":"",t=w.Rs("enter_method");P.Z.sendLog("pageView",{enter_from:h,url:location.href,url_path:location.pathname,link_from:(0,L.f)()?"pwa":x[m]||"",enter_method:t,tab_name:e,aweme_type:A,theme:C.Dr(k.Q.getItem({sKey:S.CookieKeys.Theme})),enter_by_tab:(0,D.S)(),browser_height:window.innerHeight,browser_width:window.innerWidth,browser_ratio:window.innerHeight/window.innerWidth,redirect_from:n,from_push:k.Q.getItem({sKey:S.CookieKeys.FromClientPush})?1:0,seo_vids:N.t("seo_vids")||""});const o=location.href,r=location.pathname;B.current=r,T.vP({key:r,event:(n,a)=>{a>0&&b.yW()&&P.Z.sendLog("pageStayTime",{enter_from:b.yW(),enter_method:t,url:o,url_path:r,duration:a,is_visible:Number(n),link_from:(0,L.f)()?"pwa":x[m]||"",tab_name:e,aweme_type:A},!1)}})}else P.Z.sendLog("pageViewError",{enter_from:h||"",url:location.href,uid:null==u?void 0:u.uid,uuid:d})}),[t,O,n]);(0,m.useEffect)((()=>{W();const e=c.listen((()=>{if(_.Le.setConfig(_.gI.MarkFirstEnter,null),B.current){try{T.wq()}catch(e){}T.xC(B.current)}W()}));return()=>{null==e||e()}}),[]),(0,m.useEffect)((()=>{var e;const n=i.current;i.current=t;const o=null==t?void 0:t.info;(null==n||null===(e=n.info)||void 0===e?void 0:e.uid)!==(null==o?void 0:o.uid)&&void 0!==(null==n?void 0:n.isLogin)&&W()}),[t]),(0,m.useEffect)((()=>{let e=p()().format("YYYY-MM-DD");return T.vP({key:"PAGE_VIEW_EVENTS_TRACKING_UPDATE_ACROSS_DAY",event:()=>{const t="visible"===document.visibilityState,n=p()().format("YYYY-MM-DD");t?n!==e&&(W(),e=n):e=n}}),()=>T.xC("PAGE_VIEW_EVENTS_TRACKING_UPDATE_ACROSS_DAY")}),[]);return{handleHiddenLog:(0,m.useCallback)((e=>{var t;if(!u()(t=[x.O.LogTrace,x.O.UserInfo]).call(t,e))return!0;a({key:e})}),[a])}}},10493:(e,t,n)=>{n.d(t,{Z:()=>N});var o=n(70995),r=n.n(o),a=n(84891),l=n.n(a),i=n(94610),s=n.n(i),c=n(80051),u=n.n(c),d=n(92637),m=n.n(d),h=n(88438),v=n.n(h),p=n(92012),g=n.n(p),f=n(43500),w=n(14819),_=n.n(w),y=n(5794),E=n.n(y),b=n(77713),C=n(38284),k=n(15605);const N=e=>{let{awemeIds:t,clientId:n,fetchAwemeIds:o,currentNumber:a,setCurrentNumber:i,awemeInfoList:c,setAwemeInfoList:d,refPrevVideoCallBack:h,refNextVideoCallBack:p,setIsFirst:w,setIsLast:y,close:N}=e;const T=(0,f.useRef)(!0),S=(0,f.useRef)(!1),I=(0,f.useRef)(!0),L=(0,f.useRef)(a),[x,P]=(0,f.useState)(t),D=(0,f.useCallback)((async e=>{var t;S.current=!0;const o=s()(e).call(e,(e=>e.awemeId)),a=_()(o,50),c=await u().all(s()(a).call(a,(e=>b.c7(e)))),h=m()(c).call(c,(e=>0===(null==e?void 0:e.statusCode))),p={statusCode:h.length>0?0:1,detail:E()(s()(h).call(h,(e=>{var t;return(null===(t=e.detail)||void 0===t?void 0:t.length)>0?e.detail:[]})))};if(0===p.statusCode&&(null===(t=p.detail)||void 0===t?void 0:t.length)>0){const t=((e,t)=>{let n=0;for(let a=0;a<e.length&&n<t.length;a++){var o;r()(o=e[a].awemeId).call(o,t[n].awemeId)&&(t[n].msgClientId=e[a].msgClientId,n++)}return t})(e,p.detail);if(T.current){T.current=!1;const o=((e,t,n)=>{const o=l()(t).call(t,(e=>(null==e?void 0:e.msgClientId)===n));if(-1!==o)return{status:!0,rank:o};{const o=l()(e).call(e,(e=>(null==e?void 0:e.msgClientId)===n));let i=0;for(let n=0;n<=o&&i<t.length;n++){var a;r()(a=e[n].awemeId).call(a,t[i].awemeId)&&i++}return{status:!1,rank:i<t.length?i:i-1}}})(e,t,n);if(-1===o.rank)return k.F.info("\u89c6\u9891\u6d88\u5931\u4e86"),void v()((()=>{null==N||N()}),3e3);o.status||k.F.info("\u89c6\u9891\u6d88\u5931\u4e86"),d(p.detail),i(o.rank)}else d((e=>{var t;return g()(t=p.detail).call(t,e)})),i(p.detail.length-1)}else k.F.info("\u89c6\u9891\u6d88\u5931\u4e86"),v()((()=>{null==N||N()}),3e3);S.current=!1}),[]);(0,f.useEffect)((()=>{D(t)}),[]),(0,f.useEffect)((()=>{p.current=async()=>{const e=x[x.length-1],t=c[c.length-1];e.msgClientId!==t.msgClientId&&k.F.info("\u89c6\u9891\u6d88\u5931\u4e86")},h.current=async()=>{if(x[0].msgClientId!==c[0].msgClientId&&k.F.info("\u89c6\u9891\u6d88\u5931\u4e86"),I.current&&!S.current){var e;S.current=!0;const t=await o();I.current=t.hasMore,w(!t.hasMore),P((e=>{var n;return g()(n=t.videoMsgList).call(n,e)})),(null==t||null===(e=t.videoMsgList)||void 0===e?void 0:e.length)>0?D(t.videoMsgList):S.current=!1}}}),[x,c]),(0,f.useEffect)((()=>{if(-1!==L.current){const{msgClientId:e}=c[L.current],t=l()(x).call(x,(t=>t.msgClientId===e));L.current+1===a&&x[t+1].msgClientId!==c[a].msgClientId&&k.F.info("\u89c6\u9891\u6d88\u5931\u4e86"),L.current-1===a&&x[t-1].msgClientId!==c[a].msgClientId&&k.F.info("\u89c6\u9891\u6d88\u5931\u4e86")}L.current=a}),[a,c,x]),(0,f.useEffect)((()=>{w(!I.current&&0===a)}),[a,c]),(0,f.useEffect)((()=>{const e=C.listen(C.EVENT.imAwemeRecall,(e=>{if(e.msgClientId===c[a].msgClientId)null==N||N(),k.F.info("\u6d88\u606f\u5df2\u88ab\u64a4\u56de");else{l()(c).call(c,(t=>t.msgClientId===e.msgClientId))<a&&i((e=>e-1)),P((t=>m()(t).call(t,(t=>t.msgClientId!==e.msgClientId)))),d((t=>m()(t).call(t,(t=>t.msgClientId!==e.msgClientId))))}}));return()=>e()}),[a,c,x])}},48798:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(88438),r=n.n(o),a=n(15605),l=n(77713),i=n(43500);const s=e=>{const{awemeId:t,currentNumber:n,setCurrentNumber:o,awemeInfoList:s,setAwemeInfoList:c}=e,[u,d]=(0,i.useState)(null),m=(0,i.useCallback)((async()=>{const n=await l.m_({awemeId:t});if(0===(null==n?void 0:n.statusCode)){const e={...null==n?void 0:n.detail,logPb:null==n?void 0:n.logPb};d(e)}else a.F.info("\u89c6\u9891\u6d88\u5931\u4e86\uff0c\u8bf7\u7ee7\u7eed\u6d4f\u89c8\u5176\u4ed6\u4f5c\u54c1"),r()((()=>{var t;null===(t=e.close)||void 0===t||t.call(e)}),5e3)}),[t]);(0,i.useEffect)((()=>{m()}),[t,m]),(0,i.useEffect)((()=>{u&&(c([u]),o(0))}),[u,c,o])}},30408:(e,t,n)=>{n.d(t,{Ah:()=>g,uy:()=>f});var o,r=n(21805),a=n.n(r),l=n(94610),i=n.n(l),s=n(43500),c=n(42699),u=n(16866),d=n(47925),m=n(62638),h=n(68033);function v(){var e;return a()(e=[d.HOME_DOMAIN,d.LIVE_DOMAIN]).call(e,document.domain)?document.domain===d.HOME_DOMAIN?m.CookieKeys.HomeCanAddDY2desktop:m.CookieKeys.LiveCanAddDY2desktop:""}function p(e){if(c.p())return;const t=v();t&&u.Q.setItem(t,e?"1":"0",m.COOKIE_DEFAULT_EXPIRE_DURATION,"/",m.COOKIE_DOMAIN,"")}function g(){var e,t;return a()(e=i()(t=[m.CookieKeys.HomeCanAddDY2desktop,m.CookieKeys.LiveCanAddDY2desktop]).call(t,(e=>function(e){if(c.p())return o.CanNotDownload;const t=e||v();if(!t)return o.Unknown;const n=u.Q.getItem({sKey:t});return"0"===n?o.CanNotDownload:"1"===n?o.CanDownload:o.Unknown}(e)))).call(e,o.CanNotDownload)}function f(){const e=(0,s.useRef)(),[t,n]=(0,s.useState)(!1);(0,s.useEffect)((()=>{p(!1);const t=t=>{null==t||t.preventDefault(),e.current=t,p(!0),n(!0)},o=()=>{p(!1),n(!1)};return window.addEventListener("beforeinstallprompt",t),window.addEventListener("appinstalled",o),()=>{window.removeEventListener("beforeinstallprompt",t),window.removeEventListener("appinstalled",o)}}),[]);return{PWAInstallable:t,installPWA:(0,s.useCallback)((()=>{e.current&&(e.current.prompt(),e.current.userChoice.then((t=>{"accepted"===t.outcome&&(p(!1),n(!1)),h.Z.sendLog("installNativePanelClick",{action:"accepted"===t.outcome?"install":"cancel"}),e.current=null})))}),[])}}!function(e){e[e.CanNotDownload=0]="CanNotDownload",e[e.CanDownload=1]="CanDownload",e[e.Unknown=2]="Unknown"}(o||(o={}))},7135:(e,t,n)=>{n.d(t,{E:()=>g});var o=n(21805),r=n.n(o),a=n(88438),l=n.n(a),i=n(43500),s=n(65981),c=n.n(s),u=n(82201),d=n(58256),m=n(91673),h=n(73597),v=n(38284),p=n(89187);const g=e=>{let{webId:t,isLogin:o,open:a,delay:s}=e;const g=(0,i.useRef)(),f=async()=>{await m.k();const{FWS:e}=await n.e(6208).then(n.t.bind(n,76208,23)),o=new e({fpID:"32",aID:"6383",enableTransformTextPayload:!0,accessKey:u("".concat(32,"a1ede44a8715fd38c64d52cbd6dc7f5b",t,"f8a69f1719916z")),deviceID:t,url:"ws://frontier-pc.douyin.com",payloadEncoding:{encoding:"",force:!0},payloadType:{type:"application/json",force:!0}});g.current=o,o.onopen=e=>{},o.onmessage=e=>{var t,n;let o={};try{var r;o=(e=>{var t,n,o;let r="",a="",l="";if(null!=e&&e.open_url){const{query:t}=d.parseUrl(null==e?void 0:e.open_url);r=null==t?void 0:t.web_rid,a=null==t?void 0:t.room_id,l=null==t?void 0:t.user_id}return{id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString(),text:null==e?void 0:e.text,title:null==e?void 0:e.title,imageUrl:null==e?void 0:e.image_url,webRid:r,roomId:a,anchorId:l,type:null==e||null===(n=e.ttpush_event_extra)||void 0===n?void 0:n.push_type,eventType:null==e||null===(o=e.ttpush_event_extra)||void 0===o?void 0:o.event_type}})(c().parse(null==e||null===(r=e.message)||void 0===r?void 0:r.textPayload))}catch(l){var a;h.oe.event.error({name:h.Mo.FrontierMessageError,report:{message:null==e||null===(a=e.message)||void 0===a?void 0:a.textPayload}})}"live"===(null===(t=o)||void 0===t?void 0:t.type)&&"live_start_appointed"===(null===(n=o)||void 0===n?void 0:n.eventType)&&v.emit(v.EVENT.webLivePushMessage,o)}};(0,i.useEffect)((()=>{let e;var n;t&&o&&a&&void 0!==s&&(r()(n=[p.LongtaskOpt.FirstScreenOpt,p.LongtaskOpt.PremierActiveStableTotal]).call(n,s)?e=l()((()=>{f()}),5e3):f());return()=>{var t;null==g||null===(t=g.current)||void 0===t||t.close(),e&&clearTimeout(e)}}),[t,o,a,s])}},75069:(e,t,n)=>{n.d(t,{c:()=>a});var o=n(43500),r=n(38284);function a(){const[e,t]=o.useState(!1);return(0,o.useEffect)((()=>{const e=r.listen(r.EVENT.searchBarFocus,(()=>{t(!0)})),n=r.listen(r.EVENT.searchBarBlur,(()=>{t(!1)}));return()=>{e(),n()}}),[]),e}},14495:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(43500),r=n(16866),a=n(18464),l=n(82229),i=n(41304),s=n(38284),c=n(62638);function u(){const[e,t]=o.useState(null),[n,u]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{const e=()=>{const e=r.Q.getItem({sKey:c.CookieKeys.Theme})!==c.ThemeValues.Light;u(e)};if(e(),(async()=>{const e=await a.U2({key:l.TccKey.SpecTheme,defaultValue:l.TCC_DEFAULT_VALUE_MAP.get(l.TccKey.SpecTheme)});t(e)})(),i.DT())return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[]),(0,o.useEffect)((()=>{const e=s.listen(s.EVENT.changeTheme,(e=>{let{theme:t}=e;return u(t===c.ThemeValues.Dark)}));return()=>{e()}}),[]),{specTheme:e,isDark:n}}},83838:(e,t,n)=>{n.d(t,{j:()=>a});var o=n(43500),r=n(92539);function a(){var e;const[t,n]=(0,o.useState)(!0),a=(0,o.useRef)(0),l=(0,o.useRef)(!1),i=(0,r.k6)(),s=null==i||null===(e=i.location)||void 0===e?void 0:e.pathname;return(0,o.useEffect)((()=>{const e=()=>{a.current=window.scrollY,l.current||window.requestAnimationFrame((function(){n(0===a.current),l.current=!1})),l.current=!0};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]),{transparent:t&&new RegExp("^/user/*?").test(s)}}},12882:(e,t,n)=>{n.d(t,{h4:()=>j});var o=n(43500),r=n(21805),a=n.n(r),l=n(79705),i=n.n(l),s=n(52289),c=n(21857),u=n.n(c),d=n(52471),m=n(89187),h=n(74034),v=n(38284),p=n(9961),g=n(42699),f=n(41808),w=n(53539),_=n(94153),y=n(17475),E=n(37577);const b={container:"xWPMYXKp",header:"as6Is8fx",rightContent:"jBznOiN_",electronDrag:"cZXI0Cgq",pushMessageEntry:"LI3Qb5Gw",fixed:"gOSlkVoB",electron:"Hdnzr7ZA",headerNoDragArea:"JmGtWqk3",electronMacInner:"fKioNiHC",pwaDivider:"M2OddgI4",imModalVideo:"aGIMqkll",grayscale:"adeS852H",activity:"AKgRu2ef",blur:"P6UP3mPi",isSpringSkin:"fi8E3e7M",skinBack:"ELcL6mXw",logoCt:"wTSNJym2",logo:"sfZOz62F",detailLogoText:"w5sOx18c",searchCt:"pYtLoHol",searchBar:"k11STNQn",newSearchBar:"ZGEpVbMV",searchBlank:"tKyfsEFi",menuCt:"cA2cEKVo",floatRight:"HGpANr58",isVsHeader:"Eg06iJ0B",transmode:"kjFbeAlu",isNormalHeader:"imItpCwi",fadeIn:"LCZkAaJx",searchBarCenterLayout:"cSbcB2l6",searchBarCenterWebLayout:"aKE_9Sle",searchBarCenterMacClientLayout:"hcrIuQBW",searchBarCenterWinsClientLayout:"Av7p3Eza"};const C=new(n(32059).hD)({clickAwemeLogo:{eventName:"click_aweme_logo",params:{enter_from:""}}});var k=n(66331),N=n(64058),T=n(53210),S=n(14202),I=n(48798),L=n(10493),x=n(28569),P=n(24465),D=n(14495),M=n(73230),B=n(18347),A=n(75069),O=n(36963),W=n(7135),R=n(11247),F=n(83838);const V=(0,s.default)((()=>Promise.all([n.e(414),n.e(177),n.e(4277),n.e(6434),n.e(8933),n.e(1257),n.e(1882),n.e(9227),n.e(8524),n.e(4363),n.e(8930)]).then(n.bind(n,11052))),{ssr:!1});var U;function G(e){var t,n,r;let{userInfo:l,onChangeLoginStatus:s,abTestData:c,customProps:G,className:H,needGrayscale:j=!1,loginPopupStatus:Z=P.T.Off}=e;(0,M.i)();const{pathname:K,isClient:Y,os:q,redirectFrom:z,isVsTab:X,isVsTabTrans:Q,isActivity:J,activityName:$,disableSpecTheme:ee}=G,{handleHiddenLog:te}=(0,T.T)({userInfo:l,redirectFrom:z}),[ne,oe]=(0,o.useState)(!1),[re,ae]=(0,o.useState)(!1),[le,ie]=(0,o.useState)(null),[se,ce]=(0,o.useState)(!1),[ue,de]=(0,o.useState)(null),me=(0,o.useRef)(),he=J,ve=$,pe=ee||he,{isMac:ge,isWindows:fe}=d.a.wrapClientOsInfo(Y,q),we=(0,A.c)(),[_e,ye]=(0,o.useState)(!1),Ee=(0,o.useMemo)((()=>X&&Q),[X,Q]),{setModalCardInfo:be,restoreModalCardInfo:Ce}=(0,x.L)(),{transparent:ke}=(0,F.j)();(0,o.useEffect)((()=>{h.f()&&oe(!0)}),[]),(0,P.S)({isLogin:null==l?void 0:l.isLogin,noDisturbVal:null==c?void 0:c.noDisturbV2,loginPopupStatus:Z}),(0,o.useEffect)((()=>{const e=v.listen(v.EVENT.openImAwemeModal,(e=>{ie(e),be(),ae(!0),v.emit(v.EVENT.videoPause),v.emit(v.EVENT.livePause)})),t=v.listen(v.EVENT.openNoticeAwemeModal,(e=>{de(e),ce(!0),v.emit(v.EVENT.videoPause),v.emit(v.EVENT.livePause)}));return()=>{e(),t()}}),[]);const Ne=(0,o.useCallback)((e=>{ge&&"doubleClick"===e.target.getAttribute("data-click")&&u().app.maximize()}),[ge]);(0,o.useEffect)((()=>{const e=v.listen(v.EVENT.changeNavBarBlur,(e=>{ye(e)}));return()=>e()}),[]);const{specTheme:Te,isDark:Se}=(0,D.Z)(),Ie=(0,o.useMemo)((()=>{var e;if(pe)return{};const t=p.yW();return a()(e=["vs","vschannel","download","personal_homepage","others_homepage","error_homepage"]).call(e,t)?{}:null!=Te&&Te.themeSwitch?{backgroundImage:"url(".concat(Se?null==Te?void 0:Te.headerDark:null==Te?void 0:Te.headerLight,")")}:{}}),[Te,Se,pe]),Le=!g.p()&&!pe&&(null==Te?void 0:Te.themeSwitch);(0,o.useEffect)((()=>{const e=f.Bj(p.yW());e&&(me.current=e)}),[]);const xe=null===(t=w.Es())||void 0===t?void 0:t.user_unique_id;(0,W.E)({isLogin:null==l?void 0:l.isLogin,webId:xe,open:null==c?void 0:c.vsLivePush,delay:null==c?void 0:c.longtaskOpt});const Pe=(0,o.useMemo)((()=>(null==c?void 0:c.searchBarStyleOpt)===m.SearchBarStyleOpt.Center),[null==c?void 0:c.searchBarStyleOpt]),De=(0,o.useMemo)((()=>(null==c?void 0:c.searchBarStyleOpt)===m.SearchBarStyleOpt.Aggressive||(null==c?void 0:c.searchBarStyleOpt)===m.SearchBarStyleOpt.Mild),[null==c?void 0:c.searchBarStyleOpt]);return o.createElement("div",{onDoubleClick:Ne,className:i()(U[me.current],b.container,{[b.activity]:he||ke,[b.transparent]:ke,[H]:H,[b.isVsHeader]:X,[b.isNormalHeader]:X&&!Ee,[b.transmode]:Ee,[b.blur]:(he||ke)&&_e,[b.searchBarCenterLayout]:Pe,[b.searchBarCenterWebLayout]:Pe&&!Y,[b.searchBarCenterWinsClientLayout]:Pe&&Y&&fe,[b.searchBarCenterMacClientLayout]:Pe&&Y&&ge})},o.createElement("div",{className:i()(b.fixed,{[b.grayscale]:j}),id:"douyin-header","data-click":"doubleClick"},o.createElement("header",{className:i()(b.header,{[b.electron]:Y,[b.electronDrag]:Y&&!we,[b.electronMacInner]:ge})},Y&&o.createElement(o.Fragment,null,o.createElement("div",{className:b.headerNoDragArea}),o.createElement(N.ReturnButton,{transparent:ke})),!Y&&o.createElement("div",{className:i()(b.logoCt,{isDark:he||Ee||ke}),onClick:()=>{C.sendLog("clickAwemeLogo",{enter_from:p.yW()})}},o.createElement(k.a,{href:globalThis.getFilterXss().filterUrl(_.kj("enter_recommend_method=feed_click"),null,{logType:"js.href/src",reportOnly:!1}),className:b.logo})),o.createElement("div",{className:b.rightContent,"data-click":"doubleClick",style:Ie},o.createElement("div",{className:b.searchCt},o.createElement("div",{className:i()(b.searchBar,{[b.newSearchBar]:De})},o.createElement("div",{className:b.searchBlank}),o.createElement(B.SearchBar,{customProps:{isActivity:he||Ee,activityName:ve||(Ee?"vsTransMode":""),transparent:ke,isSearchPage:Boolean(null==K?void 0:K.match(/^\/search/)),pathname:K,themeSwitch:Le},userInfo:l,abTestData:c,onSearchClick:e=>te(e),onHistoryClick:e=>{const{text:t}=e.currentTarget.dataset;return te(t)},onInputKeyDown:(e,t)=>{if("Enter"===y.C(e))return te(t)}}))),o.createElement("div",{className:i()(b.menuCt,{isDark:he})},o.createElement("div",{className:b.floatRight},o.createElement(O.R.Provider,{value:{isActivity:he||Ee||(null==G?void 0:G.isActivity),activityName:ve||(Ee?"vsTransMode":"")||(null==G?void 0:G.activityName),isVsTransmode:Ee}},o.createElement(S.Z,{customProps:{...G,isActivity:he||Ee,activityName:ve||(Ee?"vsTransMode":"")},success:s,userInfo:l,abTestData:c,transparent:ke})))))),ne&&o.createElement("div",{className:b.pwaDivider}),re&&o.createElement(V,{className:b.imModalVideo,awemeIds:null==le?void 0:le.videoMsgList,clientId:null==le?void 0:le.msgClientId,fetchAwemeIds:null==le?void 0:le.getMoreVideo,logParams:null==le?void 0:le.logParams,insertCommentId:null==le?void 0:le.commentId,defaultCommentShow:null==le?void 0:le.commentId,disableAutoPlay:!0,abtestData:c,anyHooks:L.Z,useOldModal:!0,moreBoxShowList:{notInterestingIcon:!1,unfollow:!1,report:!0},close:()=>{Ce(),ae(!1)},userContext:{userInfo:l,dispatch:()=>{}},modalEnterFrom:"im",shortCutFilteredList:[null===(n=E.getShortcut().dislike)||void 0===n?void 0:n.key]}),se&&o.createElement(V,{className:b.imModalVideo,awemeId:null==ue?void 0:ue.awemeId,insertCommentId:null==ue?void 0:ue.cid,logParams:null==ue?void 0:ue.logParams,defaultCommentShow:null==ue?void 0:ue.cid,disableSwitch:!0,disableAutoPlay:!0,abtestData:c,anyHooks:I.Z,useOldModal:!0,moreBoxShowList:{notInterestingIcon:!1,unfollow:!1,report:!0},close:()=>{ce(!1)},userContext:{userInfo:l,dispatch:()=>{}},danmakuInfo:null==ue?void 0:ue.danmakuInfo,modalEnterFrom:"im",shortCutFilteredList:[null===(r=E.getShortcut().dislike)||void 0===r?void 0:r.key]}),o.createElement("div",{className:b.pushMessageEntry},o.createElement(R.H,{livePushType:null==c?void 0:c.livePush}))))}!function(e){e.light="isLight",e.dark="isDark"}(U||(U={}));var H=n(96460);const j=e=>{var t,n,r;const{isHorizontalLayout:a}=(0,H.o)(null===(t=e.abTestData)||void 0===t?void 0:t.hasHorizontalHeader,null===(n=e.customProps)||void 0===n?void 0:n.isClient,null===(r=e.abTestData)||void 0===r?void 0:r.zhuantiSidebar);return a?o.createElement(O.Z,{...e}):o.createElement(G,{...e})}},68033:(e,t,n)=>{n.d(t,{v:()=>l,Z:()=>s});var o=n(42699),r=n(9961),a=n(32059);const l=()=>o.p()?"":r.vM(),i={pageClick:{eventName:"page_click",params:{click_position:"",enter_from:""}},pageView:{eventName:"page_view",params:{url:"",url_path:"",enter_from:"",link_from:"",tab_name:"",enter_method:"",aweme_type:0,theme:"light",is_topknot:0,abtest:"",ischange:"",old_ttwid:"",enter_by_tab:0,browser_height:0,browser_width:0,browser_ratio:0,redirect_from:"",from_push:0,seo_vids:""}},pageViewError:{eventName:"page_view_error",params:{url:"",enter_from:"",uid:"",uuid:""}},pageViewMonitor:{eventName:"page_view_monitor",params:{url:"",enter_from:"",uid:"",uuid:""}},pageViewMonitorTest:{eventName:"page_view_monitor_test",params:{url:""}},pageStayTime:{eventName:"page_stay_time",params:{url:"",url_path:"",enter_from:"",enter_method:"",duration:0,is_visible:1,link_from:"",tab_name:"",aweme_type:0}},topknotWearShow:{eventName:"topknot_waer_show",params:{}},webPushVerify:{eventName:"web_push_verify",params:{browser:"",can_use_notification_api:"0",can_use_push_api:"0",can_use_sw_api:"0",can_use_all_api:"0",user_agant:""}},addToDesktopShow:{eventName:"add_to_desktop_show",params:{enter_from:"",type:"hover",is_full_screen:"0",platform:""}},addToDesktopClick:{eventName:"add_to_desktop_click",params:{enter_from:"",type:"hover",is_full_screen:"0",platform:""}},addToDesktopGuideClose:{eventName:"add_to_desktop_guide_close",params:{enter_from:"",is_full_screen:"0"}},installNativePanelShow:{eventName:"install_native_panel_show",params:{}},installNativePanelClick:{eventName:"install_native_panel_click",params:{action:"cancel"}},personalPanelShow:{eventName:"personal_panel_show",params:{enter_from:""}},personalPanelClick:{eventName:"personal_panel_click",params:{enter_from:"",click_position:"post"}},clickLogOut:{eventName:"click_log_out",params:{enter_from:""}},newImShow:{eventName:"new_im_show",params:{is_new:"",enter_from:r.yW()}},clickPreviousPage:{eventName:"click_previous_page",params:{enter_from:""}},clickMainPage:{eventName:"click_main_page",params:{enter_from:""}},clientSettingHover:{eventName:"client_setting_hover",params:{badge:1}},clientSettingClick:{eventName:"client_setting_click",params:{position:"",badge:1}},from360:{eventName:"from_360",params:{qhclickid:"",uuid:""}},cooperatePanelShow:{eventName:"cooperate_panel_show",params:{enter_from:""}},publishPanelShow:{eventName:"publish_panel_show",params:{enter_from:"",is_badge:0}},downloadPanelShow:{eventName:"download_panel_show",params:{enter_from:""}},downloadPanelClick:{eventName:"download_panel_click",params:{enter_from:""}},feedClick:{eventName:"feed_click",params:{enter_from:""}},clickReturnPage:{eventName:"click_return_page",params:{enter_from:""}},addToDesktopBadgeShow:{eventName:"add_to_desktop_badge_show",params:{enter_from:""}},clientSettingBadgeShow:{eventName:"client_setting_badge_show",params:{}},addToDesktopClose:{eventName:"add_to_desktop_close",params:{enter_from:""}},downloadExtension:{eventName:"download_extension",params:{available:0}},webCollectNotify:{eventName:"web_collect_notify",params:{enter_from:""}},webCollectClick:{eventName:"web_collect_click",params:{enter_from:""}},publishNotifyShow:{eventName:"publish_notify_show",params:{}},clickPublish:{eventName:"click_publish",params:{enter_from:"",is_badge:0}}},s=new a.hD(i)},75828:(e,t,n)=>{n.d(t,{b:()=>r,S:()=>a});let o=0;function r(){o=1}function a(){return o}},15912:(e,t,n)=>{n.d(t,{G1:()=>c,Jo:()=>u,CT:()=>o,P0:()=>d,D5:()=>m,Tw:()=>h});var o,r=n(21805),a=n.n(r),l=n(54227),i=n(50403),s=n(49402);function c(e){return"Mac"===(e||l.f()).os}function u(e){var t;const n=e||l.f();return"Windows"===n.os&&a()(t=["Win7","Win8","Win8.1","Win10"]).call(t,n.version)}function d(){const e=l.f();return c(e)?o.Mac:function(e){return"Linux"===(e||l.f()).os}(e)?o.Linux:u(e)?o.Win7Up:function(e){var t;const n=e||l.f();return"Windows"===n.os&&a()(t=["Win2000","WinXp","Win2003","WinVista"]).call(t,n.version)}(e)?o.Win7Down:o.Unknown}function m(){const e=d();return e===o.Win7Up||e===o.Mac}!function(e){e.Mac="Mac",e.Win7Up="Win7Up",e.Linux="Linux",e.Win7Down="Win7Down",e.Unknown="Unknown"}(o||(o={}));const h=async()=>{const e=await i.pL();return!e||s.KC(1e3*e)}},82362:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(84891),r=n.n(o),a=n(41265),l=n.n(a),i=n(43500),s=n(45330),c=n(34559);const u=(0,i.createContext)(null),d=e=>{var t,n,o,a,d,m;const{src:h,width:v,height:p,id:g,viewBox:f,defaultHeight:w,defaultWidth:_,className:y,onClick:E,isSpider:b=!1}=e,C=(0,i.useContext)(u),k=(0,i.useRef)(s.o()),N=(0,i.useRef)();if(C&&N.current!==g){N.current=g;const e=C.usedIconMap[g]||[];e.push({id:k.current,width:Number(v),height:Number(p)}),C.usedIconMap[g]=e}(0,i.useEffect)((()=>{if(C)return()=>{const e=C.usedIconMap[g]||[],t=r()(e).call(e,(e=>e.id===k.current));var n;t>-1&&(l()(e).call(e,t,1),C.usedIconMap[g]=e,null===(n=C.setUsedIconMap)||void 0===n||n.call(C,{...C.usedIconMap}))}}),[g]);const T=(0,i.useMemo)((()=>{if(C){var e,t;const n=C.usedIconMap[g]||[];return(null===(e=n[0])||void 0===e?void 0:e.id)&&(null===(t=n[0])||void 0===t?void 0:t.id)!==k.current}return!1}),[g,null==C?void 0:C.usedIconMap]);return b?null:T?i.createElement("svg",{onClick:E,width:Number(v)/(null==C||null===(t=C.usedIconMap)||void 0===t||null===(n=t[g])||void 0===n||null===(o=n[0])||void 0===o?void 0:o.width)*Number(_)||_,height:Number(p)/(null==C||null===(a=C.usedIconMap)||void 0===a||null===(d=a[g])||void 0===d||null===(m=d[0])||void 0===m?void 0:m.height)*Number(w)||w,viewBox:f,className:y},i.createElement("use",{xlinkHref:"#".concat(g)})):i.createElement(c.Z,{onClick:E,src:globalThis.getFilterXss().filterUrl(h,null,{logType:"js.href/src",reportOnly:!1}),width:Number(v),height:Number(p),viewBox:f,id:g,className:y})}},63254:(e,t,n)=>{n.d(t,{n:()=>M});var o=n(65146),r=n(14212),a=n.n(r),l=n(88438),i=n.n(l),s=n(80051),c=n.n(s),u=n(43500),d=n(2390),m=n(34022),h=n(15621),v=n(9961),p=n(16866),g=n(90533),f=n(42699),w=n(22001),_=n(79705),y=n.n(_),E=n(70676),b=n.n(E),C=n(34107),k=n(47948),N=n(18380);const T=JSON.parse('{"v":"5.6.10","fr":60,"ip":0,"op":300,"w":540,"h":114,"nm":"\u767b\u5f55","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"\u201ctext\u201d\u8f6e\u5ed3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[108,40,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[300,300,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0.415,0.005],[0.392,0.014],[0.341,0.023],[0.252,0.019],[0,0],[-0.28,0.019],[-0.443,0.014],[-0.658,0.005],[-1.008,0],[-0.663,-0.005],[-0.439,-0.014],[-0.285,-0.019],[-0.252,-0.028],[0,0],[0.271,-0.014],[0.359,-0.009],[0.462,-0.005],[0.616,0],[-0.187,0.443],[-0.154,0.364],[-0.126,0.303],[-0.121,0.289],[-0.098,0.135],[-0.047,0.028],[0.014,0.079],[0.149,0.019],[0.159,0.065],[0.233,0.149],[0.14,-0.513],[0.21,-0.583],[0.257,-0.607],[0.271,-0.569]],"o":[[-0.401,0],[-0.415,-0.005],[-0.392,-0.014],[-0.341,-0.023],[0,0],[0.252,-0.028],[0.28,-0.019],[0.443,-0.014],[0.658,-0.005],[1.008,0],[0.663,0.005],[0.439,0.014],[0.285,0.019],[0,0],[-0.224,0.019],[-0.271,0.014],[-0.359,0.009],[-0.462,0.005],[0.243,-0.579],[0.187,-0.443],[0.154,-0.364],[0.126,-0.303],[0.168,-0.401],[0.098,-0.135],[0.159,-0.093],[-0.014,-0.079],[-0.168,-0.019],[-0.159,-0.065],[-0.047,0.383],[-0.14,0.513],[-0.21,0.583],[-0.257,0.607],[0,0]],"v":[[-22.064,-0.472],[-23.289,-0.479],[-24.5,-0.507],[-25.599,-0.563],[-26.488,-0.626],[-26.488,0.41],[-25.69,0.34],[-24.605,0.291],[-22.953,0.263],[-20.454,0.256],[-17.948,0.263],[-16.296,0.291],[-15.211,0.34],[-14.406,0.41],[-14.406,-0.598],[-15.148,-0.549],[-16.093,-0.514],[-17.325,-0.493],[-18.942,-0.486],[-18.298,-2.019],[-17.787,-3.23],[-17.367,-4.231],[-16.996,-5.12],[-16.597,-5.925],[-16.38,-6.17],[-16.163,-6.429],[-16.408,-6.576],[-16.898,-6.702],[-17.486,-7.024],[-17.766,-5.68],[-18.291,-4.035],[-18.991,-2.25],[-19.782,-0.486]],"c":true},"ix":2},"nm":"\u7acb","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0.079,0.219],[0.084,0.21],[0.098,0.224],[0.131,0.299],[0,0],[-0.177,-0.355],[-0.14,-0.411],[0.504,0.005],[0.369,0.014],[0.261,0.019],[0.215,0.019],[0,0],[-0.266,0.019],[-0.387,0.014],[-0.532,0.005],[-0.747,0],[-0.56,-0.005],[-0.415,-0.014],[-0.294,-0.019],[-0.224,-0.028],[0,0],[0.271,-0.019],[0.373,-0.009],[0.49,-0.009],[0.644,0]],"o":[[-0.079,-0.219],[-0.084,-0.21],[-0.098,-0.224],[0,0],[0.271,0.457],[0.177,0.355],[-0.7,0],[-0.504,-0.005],[-0.369,-0.014],[-0.261,-0.019],[0,0],[0.224,-0.028],[0.266,-0.019],[0.387,-0.014],[0.532,-0.005],[0.747,0],[0.56,0.005],[0.415,0.014],[0.294,0.019],[0,0],[-0.205,0.019],[-0.271,0.019],[-0.373,0.009],[-0.49,0.009],[-0.103,-0.28]],"v":[[-20.237,-9.369],[-20.482,-10.013],[-20.755,-10.664],[-21.098,-11.448],[-21.938,-10.986],[-21.266,-9.768],[-20.79,-8.62],[-22.596,-8.627],[-23.905,-8.655],[-24.85,-8.704],[-25.564,-8.76],[-25.564,-7.766],[-24.829,-7.836],[-23.849,-7.885],[-22.47,-7.913],[-20.552,-7.92],[-18.592,-7.913],[-17.129,-7.885],[-16.065,-7.836],[-15.288,-7.766],[-15.288,-8.76],[-16.002,-8.704],[-16.968,-8.662],[-18.263,-8.634],[-19.964,-8.62]],"c":true},"ix":2},"nm":"\u7acb","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0.387,0.84],[0.42,0.84],[0,0],[-0.21,-0.429],[-0.163,-0.387],[-0.135,-0.369],[-0.131,-0.392]],"o":[[-0.327,-0.793],[-0.387,-0.84],[0,0],[0.261,0.513],[0.21,0.429],[0.163,0.387],[0.135,0.369],[0,0]],"v":[[-21.238,-1.522],[-22.309,-3.972],[-23.52,-6.492],[-24.22,-6.086],[-23.513,-4.672],[-22.953,-3.447],[-22.505,-2.313],[-22.106,-1.172]],"c":true},"ix":2},"nm":"\u7acb","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"\u5408\u5e76\u8def\u5f84 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7acb","np":6,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-7.168,-5.288],[-10.794,-5.288],[-10.794,-7.178],[-7.168,-7.178]],"c":true},"ix":2},"nm":"\u5373","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-7.168,-7.878],[-10.794,-7.878],[-10.794,-9.796],[-7.168,-9.796]],"c":true},"ix":2},"nm":"\u5373","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0.471,-0.196],[0.728,-0.243],[0,0],[0,0],[-0.397,-0.014],[-0.243,-0.028],[0,0.709],[0,0],[-0.005,0.154],[-0.005,0.154],[-0.009,0.145],[-0.009,0.112],[0.513,-0.033],[0.644,0],[0.425,0.033],[0.243,0.047],[-0.009,-0.145],[-0.009,-0.154],[-0.005,-0.159],[0,-0.121],[0,0],[0.023,-0.177],[0.051,-0.135],[0.079,-0.107],[0.103,-0.103],[-0.098,-0.145],[-0.065,-0.159],[-0.266,0.135],[-0.373,0.159],[0,0],[-0.149,-0.233],[-0.131,-0.243],[0,0],[0.397,0.495],[0.429,0.457],[0,0],[-0.355,-0.457]],"o":[[-0.471,0.196],[0,0],[0,0],[0.42,0],[0.397,0.014],[-0.056,-0.504],[0,0],[0,-0.121],[0.005,-0.154],[0.005,-0.154],[0.009,-0.145],[-0.252,0.047],[-0.513,0.033],[-0.644,0],[-0.425,-0.033],[0.009,0.103],[0.009,0.145],[0.009,0.154],[0.005,0.159],[0,0],[0,0.243],[-0.023,0.177],[-0.051,0.135],[-0.079,0.107],[0.112,0.131],[0.098,0.145],[0.243,-0.159],[0.266,-0.135],[0,0],[0.159,0.215],[0.149,0.233],[0,0],[-0.429,-0.635],[-0.397,-0.495],[0,0],[0.28,0.233],[-0.327,0.168]],"v":[[-8.995,-1.396],[-10.794,-0.738],[-10.794,-4.574],[-8.428,-4.574],[-7.203,-4.553],[-6.244,-4.49],[-6.328,-6.31],[-6.328,-8.97],[-6.321,-9.383],[-6.307,-9.845],[-6.286,-10.293],[-6.258,-10.678],[-7.406,-10.559],[-9.142,-10.51],[-10.745,-10.559],[-11.746,-10.678],[-11.718,-10.307],[-11.69,-9.859],[-11.669,-9.39],[-11.662,-8.97],[-11.662,-1.928],[-11.697,-1.298],[-11.809,-0.829],[-12.005,-0.465],[-12.278,-0.15],[-11.963,0.263],[-11.718,0.718],[-10.955,0.277],[-9.996,-0.164],[-7.308,-1.298],[-6.846,-0.626],[-6.426,0.088],[-5.628,-0.444],[-6.867,-2.138],[-8.106,-3.566],[-8.75,-2.978],[-7.798,-1.942]],"c":true},"ix":2},"nm":"\u5373","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0.401,-0.019],[0.467,0],[0.378,0.019],[0.271,0.037],[-0.019,-0.364],[0,-0.327],[0,0],[0.019,-0.49],[0.037,-0.551],[0,0],[0,0],[0,0],[0,0],[0.033,-0.117],[0.126,-0.07],[0.252,-0.023],[0.448,0.028],[-0.07,-0.168],[0.019,-0.215],[-0.299,0.084],[-0.168,0.14],[-0.061,0.201],[0,0.299],[0,0],[-0.023,0.28],[-0.047,0.224]],"o":[[-0.401,0.019],[-0.495,0],[-0.378,-0.019],[0.019,0.224],[0.019,0.364],[0,0],[0,0.588],[-0.019,0.49],[0,0],[0,0],[0,0],[0,0],[0,0.159],[-0.033,0.117],[-0.126,0.07],[-0.252,0.023],[0.168,0.177],[0.07,0.168],[0.485,-0.056],[0.299,-0.084],[0.168,-0.14],[0.061,-0.201],[0,0],[0,-0.495],[0.023,-0.28],[-0.271,0.037]],"v":[[-1.624,-10.314],[-2.926,-10.286],[-4.235,-10.314],[-5.208,-10.398],[-5.152,-9.516],[-5.124,-8.48],[-5.124,-1.634],[-5.152,-0.017],[-5.236,1.544],[-4.312,1.544],[-4.312,-9.572],[-1.596,-9.572],[-1.596,-2.334],[-1.645,-1.921],[-1.883,-1.641],[-2.45,-1.501],[-3.5,-1.508],[-3.143,-0.99],[-3.066,-0.416],[-1.89,-0.626],[-1.19,-0.962],[-0.847,-1.473],[-0.756,-2.222],[-0.756,-8.48],[-0.721,-9.642],[-0.616,-10.398]],"c":true},"ix":2},"nm":"\u5373","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"\u5408\u5e76\u8def\u5f84 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u5373","np":7,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[10.584,-2.6],[4.536,-2.6],[4.536,-4.168],[10.584,-4.168]],"c":true},"ix":2},"nm":"\u767b","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0.005,0.215],[0,0.308],[0,0.121],[-0.005,0.117],[-0.005,0.131],[-0.009,0.168],[0.266,-0.009],[0.313,-0.005],[0.373,-0.005],[0.476,0],[0.378,0.005],[0.308,0.005],[0.266,0.009],[0.252,0.019],[0,-0.616],[0.014,-0.215],[0.028,-0.224],[-0.261,0.009],[-0.313,0.009],[-0.373,0],[-0.476,0],[-0.378,-0.005],[-0.317,-0.005],[-0.261,-0.005],[-0.252,-0.009]],"o":[[-0.005,-0.215],[0,-0.159],[0,-0.121],[0.005,-0.117],[0.005,-0.131],[-0.252,0.019],[-0.266,0.009],[-0.313,0.005],[-0.373,0.005],[-0.476,0],[-0.378,-0.005],[-0.308,-0.005],[-0.266,-0.009],[0.056,0.448],[0,0.308],[-0.014,0.215],[0.252,-0.009],[0.261,-0.009],[0.313,-0.009],[0.373,0],[0.476,0],[0.378,0.005],[0.317,0.005],[0.261,0.005],[-0.019,-0.215]],"v":[[11.473,-2.53],[11.466,-3.314],[11.466,-3.734],[11.473,-4.091],[11.487,-4.462],[11.508,-4.91],[10.731,-4.868],[9.863,-4.847],[8.834,-4.833],[7.56,-4.826],[6.279,-4.833],[5.25,-4.847],[4.389,-4.868],[3.612,-4.91],[3.696,-3.314],[3.675,-2.53],[3.612,-1.872],[4.382,-1.9],[5.243,-1.928],[6.272,-1.942],[7.546,-1.942],[8.827,-1.935],[9.87,-1.921],[10.738,-1.907],[11.508,-1.886]],"c":true},"ix":2},"nm":"\u767b","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0.723,0.019],[0.485,0.047],[0,0],[-0.733,0.019],[-0.849,0],[0,0],[-0.723,-0.019],[-0.513,-0.047],[0,0],[0.313,-0.014],[0.369,-0.014],[0.397,-0.005],[0.383,0],[-0.14,0.154],[-0.098,0.093],[-0.07,0.042],[-0.047,0.019],[0.009,0.075],[0.131,0.028],[0.159,0.061],[0.131,0.093],[0.187,-0.303],[0.252,-0.299],[0,0],[0.191,0.317],[0.215,0.271],[0,0],[-0.177,-0.229],[-0.149,-0.271]],"o":[[-0.723,-0.019],[0,0],[0.504,-0.047],[0.733,-0.019],[0,0],[0.859,0],[0.723,0.019],[0,0],[-0.215,0.019],[-0.313,0.014],[-0.369,0.014],[-0.397,0.005],[0.177,-0.233],[0.14,-0.154],[0.098,-0.093],[0.07,-0.042],[0.121,-0.037],[-0.009,-0.075],[-0.131,-0.028],[-0.159,-0.061],[-0.177,0.383],[-0.187,0.303],[0,0],[-0.196,-0.364],[-0.191,-0.317],[0,0],[0.233,0.233],[0.177,0.229],[-0.784,0]],"v":[[3.437,0.2],[1.624,0.102],[1.624,1.04],[3.479,0.942],[5.852,0.914],[9.24,0.914],[11.613,0.942],[13.468,1.04],[13.468,0.102],[12.677,0.151],[11.655,0.193],[10.507,0.221],[9.338,0.228],[9.814,-0.353],[10.171,-0.724],[10.423,-0.927],[10.598,-1.018],[10.766,-1.186],[10.556,-1.34],[10.122,-1.473],[9.688,-1.704],[9.142,-0.675],[8.484,0.228],[6.566,0.228],[5.985,-0.794],[5.376,-1.676],[4.592,-1.214],[5.208,-0.521],[5.698,0.228]],"c":true},"ix":2},"nm":"\u767b","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[-0.201,0.014],[-0.266,0.009],[-0.35,0.005],[-0.457,0],[-0.322,-0.005],[-0.247,-0.009],[-0.196,-0.014],[-0.196,-0.019],[0,0],[-0.467,-0.224],[-0.551,-0.187],[-0.075,0.154],[-0.131,0.159],[0.859,0.635],[-0.28,0.154],[-0.182,0.089],[-0.107,0.033],[-0.075,0],[-0.009,0.056],[0.112,0.056],[0.126,0.103],[0.112,0.131],[0.149,-0.131],[0.173,-0.126],[0.21,-0.135],[0.271,-0.149],[0.271,0.429],[-0.257,0.149],[-0.168,0.084],[-0.098,0.023],[-0.056,0],[-0.019,0.051],[0.112,0.065],[0.126,0.121],[0.093,0.14],[0.294,-0.243],[0.504,-0.327],[0.075,0.21],[0.075,0.224],[0,0],[-0.392,-0.597],[-0.56,-0.467],[0.168,-0.009],[0.219,-0.005],[0.271,0],[0.364,0],[0.443,0.009],[0.327,0.019],[-0.42,0.583],[-0.364,0.728],[0.149,-0.019],[0.196,-0.009],[0.266,-0.005],[0.364,0],[0.56,0.084],[0,0],[-0.327,0.028],[-0.485,0],[0,0],[0.579,-0.551],[0.275,0.219],[0.308,0.187],[0,0],[-0.28,-0.196],[-0.215,-0.215],[0.504,-0.271],[0.579,-0.215],[-0.149,-0.308],[-0.425,0.266],[-0.355,0.271]],"o":[[0.168,-0.019],[0.201,-0.014],[0.266,-0.009],[0.35,-0.005],[0.448,0],[0.322,0.005],[0.247,0.009],[0.196,0.014],[0,0],[0.392,0.28],[0.467,0.224],[0.047,-0.187],[0.075,-0.154],[-1.307,-0.261],[0.411,-0.252],[0.28,-0.154],[0.182,-0.089],[0.107,-0.033],[0.103,-0.009],[0.009,-0.056],[-0.112,-0.056],[-0.126,-0.103],[-0.149,0.159],[-0.149,0.131],[-0.173,0.126],[-0.21,0.135],[-0.355,-0.327],[0.392,-0.252],[0.257,-0.149],[0.168,-0.084],[0.098,-0.023],[0.103,0.009],[0.019,-0.051],[-0.131,-0.075],[-0.126,-0.121],[-0.159,0.196],[-0.294,0.243],[-0.103,-0.196],[-0.075,-0.21],[0,0],[0.271,0.765],[0.392,0.597],[-0.159,0.009],[-0.168,0.009],[-0.219,0.005],[-0.271,0],[-0.7,0],[-0.443,-0.009],[0.588,-0.513],[0.42,-0.583],[-0.14,0.019],[-0.149,0.019],[-0.196,0.009],[-0.266,0.005],[-1.353,0],[0,0],[0.187,-0.037],[0.327,-0.028],[0,0],[-0.429,0.756],[-0.261,-0.252],[-0.275,-0.219],[0,0],[0.317,0.177],[0.28,0.196],[-0.439,0.345],[-0.504,0.271],[0.308,0.215],[0.504,-0.271],[0.425,-0.266],[0,0]],"v":[[4.2,-6.002],[4.753,-6.051],[5.453,-6.086],[6.377,-6.107],[7.588,-6.114],[8.743,-6.107],[9.597,-6.086],[10.262,-6.051],[10.85,-6.002],[10.85,-6.45],[12.138,-5.694],[13.664,-5.078],[13.846,-5.589],[14.154,-6.058],[10.906,-7.402],[11.942,-8.011],[12.635,-8.375],[13.069,-8.557],[13.342,-8.606],[13.51,-8.704],[13.356,-8.872],[12.999,-9.11],[12.642,-9.46],[12.194,-9.026],[11.711,-8.641],[11.137,-8.249],[10.416,-7.822],[9.478,-8.956],[10.451,-9.558],[11.088,-9.908],[11.487,-10.069],[11.718,-10.104],[11.9,-10.167],[11.76,-10.342],[11.375,-10.636],[11.046,-11.028],[10.367,-10.37],[9.17,-9.516],[8.904,-10.125],[8.68,-10.776],[7.924,-10.468],[8.918,-8.424],[10.346,-6.828],[9.856,-6.8],[9.275,-6.779],[8.54,-6.772],[7.588,-6.772],[5.873,-6.786],[4.718,-6.828],[6.23,-8.473],[7.406,-10.44],[6.972,-10.384],[6.454,-10.342],[5.761,-10.321],[4.816,-10.314],[1.946,-10.44],[1.946,-9.53],[2.716,-9.628],[3.934,-9.67],[6.062,-9.67],[4.55,-7.71],[3.745,-8.417],[2.87,-9.026],[2.352,-8.396],[3.248,-7.836],[3.99,-7.22],[2.576,-6.296],[0.952,-5.568],[1.638,-4.784],[3.031,-5.589],[4.2,-6.394]],"c":true},"ix":2},"nm":"\u767b","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"\u5408\u5e76\u8def\u5f84 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u767b","np":7,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.756,-0.616],[0,0],[0.219,0.14],[0.21,0.121],[0.215,0.107],[0.233,0.112]],"o":[[0.896,0.429],[0,0],[-0.252,-0.168],[-0.219,-0.14],[-0.21,-0.121],[-0.215,-0.107],[0,0]],"v":[[16.268,-4.322],[18.746,-2.754],[19.278,-3.454],[18.571,-3.916],[17.927,-4.308],[17.29,-4.651],[16.618,-4.98]],"c":true},"ix":2},"nm":"\u5f55","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0.831,-0.462],[0.849,-0.289],[-0.079,-0.126],[-0.103,-0.215],[-0.481,0.308],[-0.49,0.308],[-0.406,0.252],[-0.168,0.093],[0.042,0.107],[0.047,0.177]],"o":[[-0.831,0.462],[0.149,0.159],[0.079,0.126],[0.317,-0.205],[0.481,-0.308],[0.49,-0.308],[0.406,-0.252],[-0.093,-0.131],[-0.042,-0.107],[-0.915,0.719]],"v":[[17.598,-1.557],[15.078,-0.43],[15.421,-0.003],[15.694,0.508],[16.891,-0.262],[18.347,-1.186],[19.691,-2.026],[20.552,-2.544],[20.349,-2.901],[20.216,-3.328]],"c":true},"ix":2},"nm":"\u5f55","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0.803,0.005],[0.56,0.009],[0.364,0.014],[0.252,0.019],[0,0],[-0.364,0.014],[-0.565,0.009],[-0.803,0.005],[-1.12,0],[0,0],[0,0],[0.336,0.009],[0.331,0.009],[0.294,0.014],[0.187,0.019],[0,0],[-0.299,0.019],[-0.457,0.009],[-0.639,0.005],[-0.868,0],[0,0],[0.042,-0.173],[0.14,-0.089],[0.275,-0.019],[0.476,0.037],[-0.07,-0.168],[-0.028,-0.187],[-0.331,0.07],[-0.163,0.135],[-0.042,0.219],[0,0.345],[0,0],[-0.355,-0.317],[-0.425,-0.299],[-0.527,-0.299],[-0.672,-0.336],[-0.103,0.14],[-0.159,0.149],[0.798,0.411],[0.709,0.569],[-0.159,0.098],[-0.135,0.089],[-0.131,0.084],[-0.159,0.112],[-0.117,0.056],[-0.103,-0.019],[-0.028,0.084],[0.121,0.075],[0.103,0.112],[0.14,0.205],[0.42,-0.355],[0.784,-0.513],[0.28,0.327],[0,0],[-0.653,-0.005],[-0.448,-0.009],[-0.266,-0.019],[-0.149,-0.019],[0,0],[0.373,-0.019],[0.467,0],[0,0],[-0.019,0.247],[-0.047,0.28],[0.714,-0.023],[1.017,0],[0.714,0.019],[0.42,0.047],[0,0],[-0.35,0.014],[-0.593,0.014],[-0.887,0.009],[-1.288,0]],"o":[[-1.12,0],[-0.803,-0.005],[-0.56,-0.009],[-0.364,-0.014],[0,0],[0.243,-0.019],[0.364,-0.014],[0.565,-0.009],[0.803,-0.005],[0,0],[0,0],[-0.271,0],[-0.336,-0.009],[-0.331,-0.009],[-0.294,-0.014],[0,0],[0.196,-0.019],[0.299,-0.019],[0.457,-0.009],[0.639,-0.005],[0,0],[0,0.28],[-0.042,0.173],[-0.14,0.089],[-0.275,0.019],[0.159,0.168],[0.07,0.168],[0.569,-0.056],[0.331,-0.07],[0.163,-0.135],[0.042,-0.219],[0,0],[0.317,0.373],[0.355,0.317],[0.425,0.299],[0.527,0.299],[0.103,-0.196],[0.103,-0.14],[-0.812,-0.243],[-0.798,-0.411],[0.215,-0.14],[0.159,-0.098],[0.135,-0.089],[0.131,-0.084],[0.243,-0.168],[0.117,-0.056],[0.187,0.019],[0.028,-0.084],[-0.112,-0.075],[-0.103,-0.112],[-0.187,0.271],[-0.42,0.355],[-0.327,-0.28],[0,0],[0.924,0],[0.653,0.005],[0.448,0.009],[0.266,0.019],[0,0],[-0.233,0.037],[-0.373,0.019],[0,0],[0,-0.327],[0.019,-0.247],[-0.401,0.037],[-0.714,0.023],[-1.12,0],[-0.714,-0.019],[0,0],[0.205,-0.019],[0.35,-0.014],[0.593,-0.014],[0.887,-0.009],[0,0]],"v":[[24.598,-8.298],[21.714,-8.305],[19.67,-8.326],[18.284,-8.361],[17.36,-8.41],[17.36,-7.514],[18.27,-7.563],[19.663,-7.598],[21.714,-7.619],[24.598,-7.626],[24.598,-6.254],[18.844,-6.254],[17.934,-6.268],[16.933,-6.296],[15.995,-6.331],[15.274,-6.38],[15.274,-5.47],[16.016,-5.526],[17.15,-5.568],[18.795,-5.589],[21.056,-5.596],[21.056,-0.64],[20.993,0.039],[20.72,0.431],[20.097,0.592],[18.97,0.564],[19.313,1.068],[19.46,1.6],[20.811,1.411],[21.553,1.103],[21.861,0.571],[21.924,-0.276],[21.924,-2.992],[22.932,-1.956],[24.101,-1.032],[25.529,-0.136],[27.328,0.816],[27.636,0.312],[28.028,-0.122],[25.613,-1.102],[23.352,-2.572],[23.912,-2.929],[24.353,-3.209],[24.752,-3.468],[25.186,-3.762],[25.725,-4.098],[26.054,-4.154],[26.376,-4.252],[26.236,-4.49],[25.914,-4.77],[25.55,-5.246],[24.64,-4.308],[22.834,-3.006],[21.924,-3.916],[21.924,-5.596],[24.29,-5.589],[25.942,-5.568],[27.013,-5.526],[27.636,-5.47],[27.636,-6.38],[26.726,-6.296],[25.466,-6.268],[25.466,-8.802],[25.494,-9.663],[25.592,-10.454],[23.919,-10.363],[21.322,-10.328],[18.571,-10.356],[16.87,-10.454],[16.87,-9.544],[17.703,-9.593],[19.117,-9.635],[21.336,-9.67],[24.598,-9.684]],"c":true},"ix":2},"nm":"\u5f55","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"\u5408\u5e76\u8def\u5f84 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u5f55","np":6,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"text","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[108,33,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[72,22],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"\u77e9\u5f62\u8def\u5f84 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"text","np":1,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"text","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[270,65,0],"ix":2},"a":{"a":0,"k":[108,33,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":216,"h":66,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"dl","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[270,57,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[180,38],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":4,"ix":4},"nm":"\u77e9\u5f62\u8def\u5f84 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.996078431606,0.172549024224,0.333333343267,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u767b\u5f55","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"white glow","tt":1,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.568],"y":[0.928]},"o":{"x":[0.215],"y":[0]},"t":0,"s":[0]},{"i":{"x":[0.843],"y":[1]},"o":{"x":[0.316],"y":[15.891]},"t":12.578,"s":[60]},{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.001],"y":[0]},"t":75.473,"s":[60]},{"t":188.6796875,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.2,"y":1},"o":{"x":0.003,"y":0},"t":0,"s":[-73,-9,0],"to":[-7.414,5.349,0],"ti":[-51.44,-43.573,0]},{"i":{"x":0.44,"y":0.469},"o":{"x":0.001,"y":0},"t":7.24,"s":[-36,144,0],"to":[79.725,67.532,0],"ti":[-77.47,8.761,0]},{"i":{"x":0.2,"y":1},"o":{"x":0.313,"y":0.322},"t":21,"s":[240.708,208.447,0],"to":[21.772,-2.462,0],"ti":[-96.884,20.58,0]},{"i":{"x":0.666,"y":0.717},"o":{"x":0.001,"y":0},"t":33.393,"s":[482,191,0],"to":[96.174,-20.429,0],"ti":[-80.544,28.727,0]},{"i":{"x":0.715,"y":0.862},"o":{"x":0.366,"y":0.376},"t":43,"s":[631.804,145.95,0],"to":[106.937,-38.141,0],"ti":[30.43,41.241,0]},{"i":{"x":0.2,"y":1},"o":{"x":0.224,"y":0.215},"t":59.748,"s":[632.556,-39.368,0],"to":[-31.044,-42.073,0],"ti":[52.587,1.14,0]},{"i":{"x":0.546,"y":1},"o":{"x":0.001,"y":0},"t":117.334,"s":[247,-75,0],"to":[-83.825,-1.817,0],"ti":[31.679,-4.216,0]},{"i":{"x":0.2,"y":1},"o":{"x":0.167,"y":0},"t":188.68,"s":[46,-80,0],"to":[-60.847,8.097,0],"ti":[-0.167,-0.167,0]},{"t":250,"s":[-74,-8,0]}],"ix":2},"a":{"a":0,"k":[-107,-39,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ef":[{"ty":29,"nm":"\u9ad8\u65af\u6a21\u7cca","np":5,"mn":"ADBE Gaussian Blur 2","ix":1,"en":1,"ef":[{"ty":0,"nm":"\u6a21\u7cca\u5ea6","mn":"ADBE Gaussian Blur 2-0001","ix":1,"v":{"a":0,"k":150,"ix":1}},{"ty":7,"nm":"\u6a21\u7cca\u65b9\u5411","mn":"ADBE Gaussian Blur 2-0002","ix":2,"v":{"a":0,"k":1,"ix":2}},{"ty":7,"nm":"\u91cd\u590d\u8fb9\u7f18\u50cf\u7d20","mn":"ADBE Gaussian Blur 2-0003","ix":3,"v":{"a":0,"k":0,"ix":3}}]},{"ty":5,"nm":"\u6e4d\u6d41\u7f6e\u6362","np":16,"mn":"ADBE Turbulent Displace","ix":2,"en":1,"ef":[{"ty":7,"nm":"\u7f6e\u6362","mn":"ADBE Turbulent Displace-0001","ix":1,"v":{"a":0,"k":1,"ix":1}},{"ty":0,"nm":"\u6570\u91cf","mn":"ADBE Turbulent Displace-0002","ix":2,"v":{"a":0,"k":50,"ix":2}},{"ty":0,"nm":"\u5927\u5c0f","mn":"ADBE Turbulent Displace-0003","ix":3,"v":{"a":0,"k":50,"ix":3}},{"ty":3,"nm":"\u504f\u79fb\uff08\u6e4d\u6d41\uff09","mn":"ADBE Turbulent Displace-0004","ix":4,"v":{"a":0,"k":[270,57],"ix":4}},{"ty":0,"nm":"\u590d\u6742\u5ea6","mn":"ADBE Turbulent Displace-0005","ix":5,"v":{"a":0,"k":1,"ix":5}},{"ty":0,"nm":"\u6f14\u5316","mn":"ADBE Turbulent Displace-0006","ix":6,"v":{"a":0,"k":0,"ix":6,"x":"var $bm_rt;\\n$bm_rt = $bm_mul(time, 100);"}},{"ty":6,"nm":"\u6f14\u5316\u9009\u9879","mn":"ADBE Turbulent Displace-0007","ix":7,"v":0},{"ty":7,"nm":"\u5faa\u73af\u6f14\u5316","mn":"ADBE Turbulent Displace-0008","ix":8,"v":{"a":0,"k":0,"ix":8}},{"ty":0,"nm":"\u5faa\u73af\uff08\u65cb\u8f6c\u6b21\u6570\uff09","mn":"ADBE Turbulent Displace-0009","ix":9,"v":{"a":0,"k":1,"ix":9}},{"ty":0,"nm":"\u968f\u673a\u690d\u5165","mn":"ADBE Turbulent Displace-0010","ix":10,"v":{"a":0,"k":0,"ix":10}},{"ty":6,"nm":"\u968f\u673a\u690d\u5165","mn":"ADBE Turbulent Displace-0011","ix":11,"v":0},{"ty":7,"nm":"\u56fa\u5b9a","mn":"ADBE Turbulent Displace-0012","ix":12,"v":{"a":0,"k":3,"ix":12}},{"ty":7,"nm":"\u8c03\u6574\u56fe\u5c42\u5927\u5c0f","mn":"ADBE Turbulent Displace-0013","ix":13,"v":{"a":0,"k":0,"ix":13}},{"ty":7,"nm":"\u6d88\u9664\u952f\u9f7f\uff08\u6700\u4f73\u54c1\u8d28\uff09","mn":"ADBE Turbulent Displace-0014","ix":14,"v":{"a":0,"k":1,"ix":14}}]}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[300,200],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-109.427,-39.759],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":602.4,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"dl","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[270,57,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[180,38],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":4,"ix":4},"nm":"\u77e9\u5f62\u8def\u5f84 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.996078431606,0.172549024224,0.333333343267,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u767b\u5f55","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}],"markers":[]}');var S=n(96677),I=n(30517);const L=e=>{let{config:t,destroy:o,isVideoGuide:r,isNewBtn:a=!1}=e;const l=(0,u.useRef)(null),i=(0,u.useRef)(null),[s,c]=(0,u.useState)(!1),d=async()=>{await o(),(0,S.default)({headerText:"",success:()=>{window.location.reload()},enterMethod:"cold_start",isActive:"0",next:(0,I.pL)(),teaEvtParams:{is_video_guide:r||"0"}})},m=u.useCallback((async e=>{if(!e)return;const n=await(0,I.j1)();if(S.loginPanelInfo.isShowingAccount)return void await o();const r=new n({...t,success:e=>{null!=e&&e.redirect_url?b().get(null==e?void 0:e.redirect_url).then((()=>{(0,C.tokenBeatInit)(),window.location.reload()})).catch((()=>{o()})):o()}});l.current=r.init(e),r.setTeaConfig({ug_source:k.Rs("ug_source"),sem_keyword:k.Rs("sem_keyword"),browser_is_360:N.a2()?"1":"0"})}),[]);return(0,u.useEffect)((()=>()=>{var e;null==l||null===(e=l.current)||void 0===e||e.call(l)}),[]),(0,u.useEffect)((()=>{i&&Promise.resolve().then(n.t.bind(n,81115,23)).then((e=>{null==e||e.loadAnimation({container:i.current,renderer:"svg",loop:!0,animationData:T})}))})),u.createElement("div",{id:"login-guide",className:y()("login-guide",{oldBtn:!a}),onClick:o},u.createElement("i",{className:"login-guide__close"}),u.createElement("div",{ref:m,onClick:e=>{e.stopPropagation()}}),a?u.createElement("div",{className:"login-guide__btn",onClick:d},u.createElement("div",{className:"login-guide__btn__animation"},u.createElement("div",{className:"login-guide__btn__animation__target"}),u.createElement("div",{className:"login-guide__btn__animation__cursor"})),"\u7acb\u5373\u767b\u5f55"):u.createElement("div",{className:"login-guide-btn-el",ref:i,onClick:d}))};const x=new(n(32059).hD)({loginScanQrcodeStay:{eventName:"login_scan_qrcode_stay",params:{duration:0,enter_from:"",enter_method:"cold_start",isActive:""}}});let P="0",D=!1;const M=f.p()?null:new class{constructor(){(0,o.Z)(this,"loginGuideShowed",void 0),(0,o.Z)(this,"TODAY",void 0),(0,o.Z)(this,"AB_LOGIN_GUIDE_STORAGE_KEY","AB_LOGIN_GUIDE_TIMESTAMP"),(0,o.Z)(this,"duration",void 0),(0,o.Z)(this,"refreshNumber",void 0),(0,o.Z)(this,"closeTimer",void 0),(0,o.Z)(this,"mountEle",void 0),(0,o.Z)(this,"showTime",void 0),(0,o.Z)(this,"isScan",void 0),(0,o.Z)(this,"nowRefreshNum",void 0),(0,o.Z)(this,"getQrcode",void 0),(0,o.Z)(this,"ScanCodeDescription",(e=>{const{getQRCode:t,autoRefreshNum:n}=e;return this.getQrcode=t,this.nowRefreshNum=n,u.createElement("div",{className:"login-guide__desc"},u.createElement("div",null,"\u767b\u5f55\u540e\uff0c\u6296\u97f3\u66f4\u61c2\u4f60"),u.createElement("div",null,"\u8fd8\u53ef\u4ee5\u70b9\u8d5e\u559c\u6b22\u7684\u89c6\u9891\u54e6"))})),(0,o.Z)(this,"dynamicDesc",(e=>t=>{const{getQRCode:n,autoRefreshNum:o}=t;return this.getQrcode=n,this.nowRefreshNum=o,u.createElement("div",{className:"login-guide__desc"},u.createElement("div",null,e[0]),u.createElement("div",null,e[1]))})),(0,o.Z)(this,"operationCallback",((e,t)=>{if("LOGIN_SCAN_CODE"===e)if("scannedQrCode"===t){if(this.isScan=!0,this.showTime){const e=(new Date).getTime()-this.showTime;x.sendLog("loginScanQrcodeStay",{duration:Math.round(e/1e3),enter_from:v.vM()||"",enter_method:"cold_start",isActive:"0"})}this.showTime=0}else this.isScan=!1})),(0,o.Z)(this,"isToday",((e,t)=>!!e&&new Date(e).toDateString()===new Date(t).toDateString())),(0,o.Z)(this,"getCookiesTime",(()=>{const e=p.Q,t=e&&e.getItem({sKey:this.AB_LOGIN_GUIDE_STORAGE_KEY});return t?a()(t,10):0})),(0,o.Z)(this,"handler",(()=>{this.isScan?this.closeTimer=i()(this.handler,1e3):this.destroy()}));p.Q;this.loginGuideShowed=!1,this.TODAY=(new Date).getTime(),this.duration=5,this.refreshNumber=2,this.closeTimer=null,this.nowRefreshNum=0,this.getQrcode=null}extraGetQr(){P="1",this.nowRefreshNum>=this.refreshNumber&&(this.getQrcode(),this.nowRefreshNum>=this.duration&&(clearTimeout(this.closeTimer),this.closeTimer=i()(this.handler,6e4)))}async show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";await(async()=>{const e=await n.e(4711).then(n.bind(n,54711)).then((e=>e.default));D||(e.use(),D=!0)})(),P=e;const{isLogin:t}=await g.b(),[o]=await c().all([m.h.getVar({name:"download_guide_stage2",defaultValue:0})]);if(this.loginGuideShowed||t||"follow"===v.yW())return;const r=await(0,I.gE)({ScanCodeDescription:this.dynamicDesc(["\u767b\u5f55\u540e\uff0c\u7545\u4eab\u514d\u8d39\u9ad8\u6e05\u89c6\u9891","\u70b9\u8d5e\u8bc4\u8bba\u5b9e\u65f6\u4e92\u52a8"]),refreshNumber:this.refreshNumber,operationCallback:(e,t)=>{this.operationCallback(e,t)},enterMethod:"cold_start",videoGuideFunc:()=>P,teaEvtParams:{},scanCodeNeedLogo:!0});this.showTime=(new Date).getTime(),this.loginGuideShowed=!0,this.mountEle=document.createElement("div"),this.mountEle.classList.add("login-guide-container"),document.body.appendChild(this.mountEle),d.render(u.createElement(L,{config:r,destroy:()=>{this.destroy()},isVideoGuide:P,isNewBtn:2===o||3===o}),this.mountEle,this.setCurrentTime),this.duration>0&&(this.closeTimer=i()(this.handler,60*this.duration*1e3))}async showPerDay(e){if(void 0===e){const t=await g.b();e=null==t?void 0:t.isLogin}if(e)return;await(0,w.iM)()||h.YY.insertTask(h.BE.LoginGuideTaskId,(()=>{this.show()}),{delay:0,priority:h.T0.LoginGuidePriority,onFinish:()=>{this.handler()}})}destroy(){clearTimeout(this.closeTimer),d.unmountComponentAtNode(this.mountEle),document.body.contains(this.mountEle)&&document.body.removeChild(this.mountEle),this.loginGuideShowed=!1,h.YY.finishTask(h.BE.LoginGuideTaskId)}hasShowedToday(){const e=this.getCookiesTime();return e&&this.isToday(e,this.TODAY)||!1}}},96636:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var o=n(81115),r=n.n(o),a=n(43500);const l=a.forwardRef(((e,t)=>{const{data:n,className:o,loop:l,autoplay:i=!0,onLoopComplete:s,onComplete:c,onInit:u,hidden:d,rendererSettings:m,assetsPath:h}=e,v=a.useRef(),p=a.useRef(),[g,f]=a.useState(!1);return a.useEffect((()=>{if(p.current&&g&&c){const e=p.current;return null==e||e.addEventListener("complete",c),()=>{null==e||e.removeEventListener("complete",c)}}}),[g,c]),a.useEffect((()=>{if(p.current&&g&&s){const e=p.current;return e.addEventListener("loopComplete",s),()=>{e.removeEventListener("loopComplete",s)}}}),[g,s]),a.useEffect((()=>{if(p.current&&g&&u){const e=p.current;return null==e||e.addEventListener("DOMLoaded",u),()=>{null==e||e.removeEventListener("DOMLoaded",u)}}}),[g,u]),a.useLayoutEffect((()=>{var e;v.current&&r()&&(p.current=null===r()||void 0===r()||null===(e=r().loadAnimation)||void 0===e?void 0:e.call(r(),{container:v.current,renderer:"svg",animationData:n,loop:l,autoplay:i,rendererSettings:m,assetsPath:h}),f(!0))}),[]),a.useEffect((()=>()=>{var e,t;null===(e=p.current)||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e)}),[]),a.useImperativeHandle(t,(()=>({getLottieInstance:()=>p.current}))),a.createElement("div",{hidden:d,ref:v,className:o})})),i=a.memo(l)},78625:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});const o=n(96636).default},12895:(e,t,n)=>{n.d(t,{T:()=>u,U:()=>d});var o=n(65146),r=n(43500),a=n(79705),l=n.n(a),i=n(2390),s=n(94303);const c="mPWahmAI";function u(e){let{children:t,className:n,style:o,...a}=e;const{onMaskClick:i}=a,s=(0,r.useRef)(null),u=(0,r.useCallback)((e=>{e.target===s.current&&(null==i||i())}),[i]);return(0,r.useEffect)((()=>{if(""===document.body.style.overflow)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}}),[]),r.createElement("div",{className:l()(c,n),style:o,ref:s,onMouseDown:u,...a},t)}const d=new class{constructor(){(0,o.Z)(this,"screenMaskQueue",void 0),(0,o.Z)(this,"root",void 0)}destroy(){this.root&&(i.unmountComponentAtNode(this.root),this.root.remove(),this.root=null)}render(e){this.root=document.createElement("div");let t=document.body;s.r()&&(t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement),t.appendChild(this.root),i.render(r.createElement(u,{...e}),this.root)}renderImmediate(e){this.destroy(),this.render(e)}}},18347:(e,t,n)=>{n.r(t),n.d(t,{SearchBar:()=>kt,default:()=>Nt});var o=n(94610),r=n.n(o),a=n(84578),l=n.n(a),i=n(43500),s=n(79705),c=n.n(s),u=n(89187),d=n(38284),m=n(76653),h=n(25361),v=n(34357),p=n(50062),g=n(42716),f=n(4561),w=n(97568),_=n(67136),y=n(52296),E=n(64215),b=n(45985),C=n(71181),k=n(92012),N=n.n(k);const T={container:"Edp6sg8Y",activity:"jHjyLdAn",vsTransMode:"K6ytCcCN",textContainer:"oZqQkOiC",transparent:"uDREsUPh",divider:"tOVjdP5_",item:"mKaKWenM",bottomWordText:"oxvtZXib",guessListItemIcon:"jYF8SZRX",guessListItemIconHot:"ve5rTciT",guessListItemIconLive:"WdHbJvDc"},S=e=>{let{word:t}=e;return i.createElement("div",{className:T.bottomWordText},t)},I=e=>{let{wordList:t=[],onBottomWordClick:n,customProps:o}=e;return i.createElement("div",{className:c()(T.container,{[T.activity]:(null==o?void 0:o.isActivity)||(null==o?void 0:o.transparent),[null==T?void 0:T[null==o?void 0:o.activityName]]:null==o?void 0:o.activityName,[T.transparent]:null==o?void 0:o.transparent})},r()(t).call(t,((e,t)=>{var o,r;const a="2"===e.words_type;return i.createElement("div",{className:T.item,key:N()(o="bottom_".concat(null!==(r=e.id)&&void 0!==r?r:"","_")).call(o,t)},0!==t&&i.createElement("div",{className:T.divider}),i.createElement("div",{className:T.textContainer,"data-text":e.word,"data-index":t,"data-id":e.id,onClick:n},i.createElement(S,{word:e.word}),a&&i.createElement("div",{className:c()(T.guessListItemIcon,{[T.guessListItemIconHot]:a})})))})))},L={container:"ynBZuEjF",activity:"qLspBRSK",vsTransMode:"p4fRQID2",textContainer:"lasTvRnl",transparent:"wEFIXLMr",active:"cOkC67q3",divider:"rsoSxKGW",item:"SS3QikUi",bottomWordText:"NweHClwp"},x=e=>{let{word:t,index:n}=e;return i.createElement("div",{className:L.bottomWordText,"data-text":t,"data-index":n},t)},P=e=>{let{wordList:t=[],active:n=!1,customProps:o}=e;return i.createElement("div",{className:c()(L.container,{[L.activity]:(null==o?void 0:o.isActivity)||(null==o?void 0:o.transparent),[null==L?void 0:L[null==o?void 0:o.activityName]]:null==o?void 0:o.activityName,[L.transparent]:null==o?void 0:o.transparent})},r()(t).call(t,((e,t)=>0===t?i.createElement("div",{className:L.item,key:e.id},i.createElement("div",{className:c()(L.textContainer,{[L.active]:n})},i.createElement(x,{word:e.word,index:t}))):i.createElement("div",{className:L.item,key:e.id},i.createElement("div",{className:L.divider}),i.createElement("div",{className:L.textContainer},i.createElement(x,{word:e.word,index:t}))))))},D=10,M=30069,B="\u641c\u7d22\u4f60\u611f\u5174\u8da3\u7684\u5185\u5bb9",A=999,O=["main_page","discover","follow","friend","live","hot","vs","recommend","pandemic"],W=["vs"],R=[{searchText:"\u70b9\u51fb\u641c\u7d22\uff0c\u770b\u592e\u89c6\u6625\u665a",searchKeyword:"\u592e\u89c6\u6625\u665a",startTime:16436124e5,endTime:1643652e6},{searchText:"\u9650\u65f6\u514d\u8d39\u770b\u6211\u548c\u6211\u7684\u7236\u8f88",searchKeyword:"\u6211\u548c\u6211\u7684\u7236\u8f88",startTime:16436772e5,endTime:16441632e5}],F={enterSearch:{eventName:"enter_search",params:{enter_from:"",enter_from_second:"",click_method:""}},searchAnti:{eventName:"search_anti_rpt",params:{anti_id:"",anti_query_input_time:0,anti_search_press_duration:0,anti_search_viewport:""}},sugShow:{eventName:"search_sug",params:{impr_id:"",search_keyword:"",search_type:"",sug_keyword:"",action_type:"show"}},sugClick:{eventName:"search_sug",params:{impr_id:"",search_keyword:"",search_type:"",sug_keyword:"",action_type:"click"}},trendingShow:{eventName:"trending_show",params:{log_pb:{},impr_id:"",search_id:"",words_num:0,words_source:"sug",raw_query:"",rank:-1,search_position:""}},trendingWordsShow:{eventName:"trending_words_show",params:{impr_id:"",search_id:"",words_source:"sug",words_position:0,words_content:"",raw_query:"",rank:-1,search_position:"",query_id:"",group_id:""}},trendingWordsClick:{eventName:"trending_words_click",params:{impr_id:"",words_source:"sug",words_position:0,words_content:"",raw_query:"",rank:-1,search_position:"",query_id:"",group_id:""}},historyClick:{eventName:"trending_words_click",params:{enter_from:"",words_source:"search_history",words_num:"0",words_position:0,words_content:""}},hotWordClick:{eventName:"trending_words_click",params:{impr_id:"",enter_from:"",words_source:"hot_search_board",words_num:"0",words_position:0,words_content:"",group_id:""}},historyShow:{eventName:"trending_words_show",params:{enter_from:"",words_source:"search_history",words_num:"0",words_position:0,words_content:""}},hotWordShow:{eventName:"trending_words_show",params:{impr_id:"",enter_from:"",words_source:"hot_search_board",words_num:"0",words_position:0,words_content:"",group_id:""}},guessWordShow:{eventName:"trending_words_show",params:{impr_id:"",enter_from:"",words_source:"recom_search",words_num:"0",words_position:0,words_content:"",group_id:""}},guessWordClick:{eventName:"trending_words_click",params:{impr_id:"",enter_from:"",words_source:"recom_search",words_num:"0",words_position:0,words_content:"",group_id:""}},clearButtonClick:{eventName:"clear_search_keyword",params:{enter_from:""}},searchSugLoadPerformance:{eventName:"search_sug_load_performance",params:{impr_id:"",search_type:"",sug_keyword:"",words_num:0,sug_fetch_duration:0,sug_render_duration:0,enter_from:""}},relatedTrendingShow:{eventName:"trending_show",params:{words_num:"",words_source:"related_search",raw_query:"",rank:0,search_position:"general"}},relatedWordsShow:{eventName:"trending_words_show",params:{words_source:"related_search",words_position:0,words_content:"",raw_query:"",rank:0,search_position:"general",query_id:"",group_id:"",sug_type:""}},relatedWordsClick:{eventName:"trending_words_click",params:{words_source:"related_search",words_position:0,words_content:"",raw_query:"",rank:0,search_position:"general",query_id:"",group_id:"",sug_type:""}},recomSearchChangeButtonShow:{eventName:"recom_search_change_button_show",params:{}},recomSearchChangeButtonClick:{eventName:"recom_search_change_button_click",params:{}},historyFoldButtonShow:{eventName:"history_fold_button_show",params:{}},historyFoldButtonClick:{eventName:"history_fold_button_click",params:{}}};var V=n(19478),U=n.n(V),G=n(88438),H=n.n(G),j=n(63135),Z=n.n(j),K=n(21805),Y=n.n(K),q=n(78170),z=n.n(q),X=n(42155),Q=n.n(X),J=n(47776),$=n.n(J),ee=n(71912),te=n.n(ee),ne=n(81711),oe=n.n(ne),re=n(18464),ae=n(82229),le=n(75922),ie=n(32059),se=n(77995),ce=n(45036),ue=n(56493),de=n(78555),me=n(9961),he=n(48588),ve=n(42699),pe=n(66319),ge=n(56914),fe=n(17475),we=n(53539),_e=n(86069),ye=n(796),Ee=n(78266),be=n(57617),Ce=n.n(be),ke=n(76735),Ne=n.n(ke),Te=n(92637),Se=n.n(Te),Ie=n(9120),Le=n.n(Ie),xe=n(86860),Pe=n(46457),De=n(94153),Me=n(40489);function Be(e){e.preventDefault()}function Ae(e,t,n,o,r,a,l){const[s,c]=(0,i.useState)(null),[u,d]=(0,i.useState)("");(0,Pe.Z)("ArrowUp",(n=>{n.stopPropagation(),t||c((t=>0===e?null:"sug"===o&&0===t?(l&&l(u),null):"sug"===o&&null===t?(d(a),e-1):null===t?0:0===t?e-1:Math.max(0,t-1)))}),{target:n}),(0,Pe.Z)("ArrowDown",(n=>{n.stopPropagation(),t||c((t=>0===e?null:("sug"===o&&null===t&&d(a),"sug"===o&&t===e-1?(l&&l(u),null):null===t||t===e-1?0:Math.min(e-1,t+1))))}),{target:n});return{keyboardNavIndex:s,restKeyboardNavIndex:(0,i.useCallback)((()=>{c(null)}),[])}}function Oe(e,t,n,o){const r=/firefox/i.test(navigator.userAgent),a="param-input";if(r)if(o){var l;const o=()=>{var e;oe()(e=z()(n.getElementsByClassName(a))).call(e,(e=>{e.parentNode.removeChild(e)}))};o(),oe()(l=Ce()(t)).call(l,(e=>{const o=document.createElement("input");o.type="hidden",o.name=e,o.value=t[e],o.className=a,n.insertBefore(o,n.children[0])})),n.action=De.Sp(encodeURIComponent(e)),H()((()=>{o()}),0)}else{const n=window.open("about:blank");n&&(n.location.href=globalThis.getFilterXss().filterUrl(De.Sp(encodeURIComponent(e),(0,xe.stringify)(t)),null,{logType:"js.href/src",reportOnly:!1}))}else{const n=De.Sp(encodeURIComponent(e),(0,xe.stringify)(t));window.open(n,"_blank","noopener")}}function We(){let e="",t="";const n=Ne()();return oe()(R).call(R,(o=>{const{startTime:r,endTime:a,searchText:l,searchKeyword:i}=o;n>=r&&n<=a&&(e=l,t=i)})),{hotSearchText:e,hotSearchKeyword:t}}function Re(e){const t=Se()(e).call(e,(e=>e.scene===Me.gQ.FeedBottomRec)),n=Le()(t).call(t,((e,t)=>{var n;return N()(e).call(e,r()(n=t.words).call(n,(e=>e.wordId)))}),[]);return z()(new(Q())(n)).join(",")}const Fe=()=>{var e,t;if(ve.p())return;const n="header-with-bottom",o=document.documentElement;null!=o&&null!==(e=o.hasAttribute)&&void 0!==e&&e.call(o,n)||null==o||null===(t=o.setAttribute)||void 0===t||t.call(o,n,"")},Ve=()=>{var e;if(ve.p())return;const t="header-with-bottom",n=document.documentElement;var o;null!=n&&null!==(e=n.hasAttribute)&&void 0!==e&&e.call(n,t)&&(null==n||null===(o=n.removeAttribute)||void 0===o||o.call(n,t))},Ue=(e,t,n)=>{const o={dedupedInboxWords:e,dedupedUnderboxWords:t};if(null==e||!e.word||0===t.length)return o;if("inbox"===n)o.dedupedUnderboxWords=Se()(t).call(t,(t=>(null==t?void 0:t.word)!==e.word));else{Se()(t).call(t,(t=>(null==t?void 0:t.word)===e.word)).length>0&&(o.dedupedInboxWords=null)}return o},Ge=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=[];o.push(...e);const r=l()(t).call(t,n,t.length),a=l()(t).call(t,0,n);return o.push(...r,...a),o},He=(e,t,n)=>(e+t)%n,je=e=>"object"!=typeof e?{}:(null!=e&&e.from_group_id||delete e.from_group_id,e),{COMMON_SEARCH_PARAMS:Ze}=Ee,Ke="/aweme/v1/web/hot/search/list/",Ye="/aweme/v1/web/search/sug/",qe=e=>{var t;const n={logId:null==e?void 0:e.log_id,data:{barWords:{words:[]},bottomWords:{words:[]},underboxMore:{words:[]}}},o=null!==(t=null==e?void 0:e.data)&&void 0!==t?t:[];if($()(o)&&o.length>0&&oe()(o).call(o,(e=>{const{data:t}=n,{barWords:o,bottomWords:r,underboxMore:a}=t;null!=e&&e.type&&$()(null==e?void 0:e.words)&&0!==e.words.length&&("inbox"===e.type?o.words=e.words:"under_inbox"===e.type?r.words=e.words:"under_inbox_more"===e.type&&(a.words=e.words))})),n.data.barWords.words.length>0){var r,a;const e=n.data.barWords.words[0];if(null!=e&&null!==(r=e.params)&&void 0!==r&&null!==(a=r.extra_info)&&void 0!==a&&a.tag_icon){const t=JSON.parse(e.params.extra_info.tag_icon);t.icon_url&&(e.icon_info=t)}}return n},ze=async e=>await(0,ye.U2)("/aweme/v1/web/api/suggest_words/",{...Ze,...je(e)}),Xe=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=me.yW(),{isModalVideo:o=!1}=t||{};"recommend"!==n||o||(e.pd="pc_recommend");const r=await ze({business_id:M,rsp_source:["inbox"],...je(e)});return qe(r)},Qe=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await ze({business_id:30068,...je(e)});return qe(t)},Je=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=je(e),{shouldUseUnderInbox:o=!0}=t||{},r=o&&null!=n&&n.from_group_id?["under_inbox","under_inbox_more"]:["under_inbox_more"],a=await ze({business_id:M,rsp_source:r,...n});return qe(a)},$e=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=me.yW(),{isModalVideo:o=!1,shouldUseUnderInbox:r=!0}=t||{};"recommend"!==n||o||(e.pd="pc_recommend");const a=je(e),l=r&&null!=a&&a.from_group_id?["inbox","under_inbox","under_inbox_more"]:["inbox","under_inbox_more"],i=await ze({business_id:M,rsp_source:l,...a});return qe(i)},et=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await(0,ye.U2)(Ke,{...Ze,detail_list:1,source:6,...je(e)});return t},tt=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await(0,ye.U2)(Ye,{...Ze,...je(e)});return t},nt=function(){let e=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;const[r,a]=(0,i.useState)([]),[l,s]=(0,i.useState)(!1),c=(0,i.useRef)([]),u=(0,i.useMemo)((()=>(0,ie.y$)(F)),[]),d=(0,i.useCallback)((e=>{a(e),c.current=e}),[]),m=(0,i.useCallback)((()=>{var r;e||(o(""),s(!0),oe()(r=c.current).call(r,((e,o)=>{u("guessWordShow",{enter_from:t(),impr_id:n.current.guessListLogId,words_content:e.word,words_num:String(c.current.length),words_position:Number(o),words_source:"search_bar_inner",group_id:e.id})})))}),[e,t,u,n,o]),h=(0,i.useCallback)((()=>{l&&(s(!1),o(B))}),[l,o]);return{insideWordList:r,updateInsideWord:d,showInsideWord:m,hideInsideWord:h,isInsideWordShow:l}},ot=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;const[c,m]=(0,i.useState)([]),h=(0,i.useMemo)((()=>(0,ie.y$)(F)),[]),v=(0,i.useRef)(""),p=(0,i.useRef)([]),g=(0,i.useRef)(0),f=(0,i.useMemo)((()=>["recommend","follow","friend"]),[]),w=(0,i.useRef)(null),_=1e4,y=(0,i.useCallback)((()=>!((null==e?void 0:e.bottomWordOpt)!==u.BottomWordOpt.NoDeDup&&(null==e?void 0:e.bottomWordOpt)!==u.BottomWordOpt.BarWordPrior&&(null==e?void 0:e.bottomWordOpt)!==u.BottomWordOpt.BottomWordPrior||Y()(f).call(f,me.yW()))),[null==e?void 0:e.bottomWordOpt,f]),E=(0,i.useCallback)((function(t){var a;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=l()(t).call(t,0);const c=r.current;if(!c)return;const d=c.clientWidth;if(e.bottomWordOpt===u.BottomWordOpt.NoDeDup&&null!==(a=n.current.guessText)&&void 0!==a&&a.word){var g;const e=null===(g=n.current.guessText)||void 0===g?void 0:g.word;s=Se()(s).call(s,(t=>(null==t?void 0:t.word)!==e)),s.unshift(n.current.guessText)}const{displayableNum:f}=ge.y(s,d,"bottom"),w=Math.min(f,A);n.current.underInboxMoreCursor=He(n.current.underInboxMoreCursor,Math.max(w-i,0),20);const _=l()(s).call(s,0,w);return m(_),p.current=_,oe()(_).call(_,((e,t)=>{h("guessWordShow",{enter_from:o(),impr_id:v.current,words_content:e.word,words_num:String(_.length),words_position:Number(t),words_source:"recom_under_box",group_id:e.id})})),{displayableNum:f}}),[o,r,h,e.bottomWordOpt,n]),b=(0,i.useCallback)((async()=>{if(ve.p())return;const t=Y()(f).call(f,me.yW()),o=await Je({from_group_id:n.current.curVideoGroupId,penetrate_params:{inbox_exist_word_id:n.current.feedBarIds}},{shouldUseUnderInbox:t}),{data:{bottomWords:r,underboxMore:a},logId:l}=o;let i=Ge(t?r.words:[],a.words,n.current.underInboxMoreCursor);if(e.bottomWordOpt===u.BottomWordOpt.BarWordPrior){const{dedupedUnderboxWords:e}=Ue(n.current.guessText,i,"inbox");i=e}$()(i)&&i.length>0&&(E(i,t?r.words.length:0),v.current=l)}),[n,E,f,e.bottomWordOpt]),C=(0,i.useCallback)((e=>{var t;const{text:n,index:r}=e.currentTarget.dataset;a(n,"recom_under_box","",!1,!0),h("guessWordClick",{enter_from:o(),impr_id:v.current,words_content:n,words_num:String(p.current.length),words_position:Number(r),words_source:"recom_under_box",group_id:null===(t=p.current[r])||void 0===t?void 0:t.id})}),[a,o,h]),k=(0,i.useCallback)((e=>{Y()(W).call(W,e.tab)||(e.scrollType?"down"===e.scrollType?Ve():"up"===e.scrollType&&Fe():"number"==typeof e.scrollTop&&(n.current.tab!==e.tab&&(n.current.tab=e.tab,g.current=0),e.scrollTop-g.current>20?(Ve(),g.current=e.scrollTop):g.current-e.scrollTop>20&&(Fe(),g.current=e.scrollTop)))}),[n]),N=(0,i.useCallback)((e=>{w.current&&clearTimeout(w.current);const t=()=>{w.current=H()((()=>{b(),t()}),e)};t()}),[b]),T=(0,i.useCallback)((()=>{w.current&&clearTimeout(w.current)}),[]);return(0,i.useEffect)((()=>{if(s())return(e.searchBarBottomWord===u.searchBarBottomWord.Bottom1||e.searchBarBottomWord===u.searchBarBottomWord.Bottom2||y())&&b(),y()&&N(_),()=>{T()}}),[e,s,y,b]),(0,i.useEffect)((()=>{if(!s())return;let t;if(0!==c.length&&(Fe(),e.searchBarBottomWord===u.searchBarBottomWord.Bottom2)){const e=U()(k,50,{maxWait:100});return t=d.listen(d.EVENT.tabContainerScroll,e),()=>{var e;null===(e=t)||void 0===e||e()}}}),[c,s]),(0,i.useEffect)((()=>{if(null!=t&&t.pathname&&s())return e.searchBarBottomWord===u.searchBarBottomWord.Bottom2&&c.length>0&&Fe(),y()&&(b(),N(_)),()=>{T()}}),[null==t?void 0:t.pathname]),{bottomWordList:c,updateBottomWords:b,onBottomWordClick:C,showBottomWords:E,bottomWordLogIdRef:v}},rt=()=>{const e=(0,i.useRef)(!1);return{stopAutoplay:(0,i.useCallback)((()=>{e.current||(d.emit(d.EVENT.videoStopPlayNext),e.current=!0)}),[]),continueAutoplay:(0,i.useCallback)((()=>{e.current&&(d.emit(d.EVENT.videoRemoveStopPlayNext),e.current=!1)}),[])}};function at(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{router:a}=(0,le.c)(),s=(0,i.useMemo)((()=>(0,ie.y$)(F)),[]),{searchParams:c,changeKeyword:m}=(0,se.wu)(),{history:h,clearAll:v,deleteWord:p,unshiftWord:g}=(0,ce.u)(e),{hotSearchText:f,hotSearchKeyword:w}=(0,i.useMemo)((()=>We()),[]),[_,y]=(0,i.useState)({sugList:[],query:""}),[E,b]=(0,i.useState)(""),[C,k]=(0,i.useState)(""),[T,S]=(0,i.useState)("idle"),[I,L]=(0,i.useState)(!1),[x,P]=(0,i.useState)(!1),[M,A]=(0,i.useState)([]),[W,R]=(0,i.useState)(B),[V,G]=(0,i.useState)(!1),[j,K]=(0,i.useState)(null),[q,X]=(0,i.useState)([]),[J,ee]=(0,i.useState)(!1),[ne,re]=(0,i.useState)(!1),ae=(0,i.useMemo)((()=>I||x),[I,x]),ye=(0,i.useRef)(),Ee=(0,i.useRef)(),be=(0,i.useRef)(),Ce=(0,i.useRef)({}),ke=(0,i.useRef)(""),Ne=(0,i.useMemo)((()=>n.bottomWordOpt===u.BottomWordOpt.NoDeDup||n.bottomWordOpt===u.BottomWordOpt.BarWordPrior||n.bottomWordOpt===u.BottomWordOpt.BottomWordPrior),[n.bottomWordOpt]),[Te,Se]=(0,i.useState)((()=>H()((()=>{}),1e3))),Ie=(0,i.useRef)({focusTime:0,pressDownTime:0,response:void 0,suggestionState:T,showText:C,inputText:E,inputFocus:I,hotSearchText:f,hotSearchKeyword:w,guessText:j,guessTextId:"",router:a,tab:c.tab,history:h,sug:_,isPinyin:!1,isFirefox:!1,hotListLogId:"",searchBarWordLogId:"",guessListLogId:"",curVideoGroupId:"",hasGuessTextShown:!1,hasInsideWordShown:!1,guessList:[],existedSuggestWords:[],suggestWordsPreloadList:{},feedBarIds:"",hasHotListFetched:!1,underInboxMoreCursor:0,guessListDedup:[]});Ie.current={...Ie.current,tab:c.tab,suggestionState:T,showText:C,inputText:E,inputFocus:I,guessText:j,router:a,history:h,sug:_};const Le=(0,i.useCallback)((()=>o.isModalVideo?"modal_entrance":me.yW()),[o.isModalVideo]),xe=(0,i.useCallback)((function(e,n,r){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e||!Z()(e).call(e))return;const i=(0,ue.Z)(),c=performance.now(),u="normal_search"===n?a?-2:c-Ie.current.pressDownTime:-1;if(s("searchAnti",{anti_id:i,anti_query_input_time:c-Ie.current.focusTime,anti_search_press_duration:u,anti_search_viewport:r}),Ie.current.router&&"/Search/:keyword"===Ie.current.router.match.path&&ye.current.blur(),l&&g(e),Ie.current.router&&"/Search/:keyword"===Ie.current.router.match.path&&!o.isModalVideo)m(e,n,i);else{const o={source:n,aid:i,enter_from:Le()||"search_result",focus_method:ke.current,...he.U()};Ie.current.curVideoGroupId&&(o.gid=Ie.current.curVideoGroupId),t&&t(),Oe(e,o,Ee.current,a)}}),[t]),Pe=(0,i.useCallback)((()=>{if(ve.p())return!1;if(!pe.T())return!1;if(o.isModalVideo)return!1;if(o.isSearchPage)return!1;if(!me.yW())return!1;const e=me.yW();return!!Y()(O).call(O,e)}),[o.isModalVideo,o.isSearchPage]),{keyboardNavIndex:De,restKeyboardNavIndex:Me}=Ae({idle:0,middle_page:q.length+M.length,sug:_.sugList.length}[T],Ie.current.isPinyin,ye.current,T,0,C,k),{insideWordList:Fe,updateInsideWord:Ve,showInsideWord:He,hideInsideWord:je,isInsideWordShow:Ze}=nt(n,o,V,Le,Ie,R),{bottomWordList:Ke,updateBottomWords:Ye,onBottomWordClick:qe,showBottomWords:ze,bottomWordLogIdRef:Je}=ot(n,o,Ie,Le,be,xe,Pe),{stopAutoplay:at,continueAutoplay:lt}=rt();(0,i.useEffect)((()=>{o.isModalVideo||(b(c.keyword),k(c.keyword),Me())}),[null==a?void 0:a.match,o.isModalVideo]),(0,i.useEffect)((()=>{if(null!==De){if("middle_page"===Ie.current.suggestionState){const e=[...q,...M];k(e[De].word)}"sug"===Ie.current.suggestionState&&k(Ie.current.sug.sugList[De])}}),[n,De,q,M]),(0,i.useEffect)((()=>{Ie.current.isFirefox=/firefox/i.test(navigator.userAgent)}),[]);const it=(0,i.useCallback)((()=>{var e;Ie.current.guessText&&(je(),R(""),G(!0),Ie.current.hasGuessTextShown=!0,s("guessWordShow",{impr_id:Ie.current.searchBarWordLogId,enter_from:Le(),words_num:"1",words_position:0,words_source:"search_bar_inner",words_content:null===(e=Ie.current.guessText)||void 0===e?void 0:e.word,group_id:Ie.current.guessTextId}))}),[s,Le,je]),st=(0,i.useCallback)((()=>{var e;V&&(R((null===(e=Ie.current.guessText)||void 0===e?void 0:e.word)||B),G(!1))}),[V]),ct=(0,i.useCallback)((async e=>{let t;const n=Ne?$e:Xe;Ie.current.suggestWordsPreloadList[Ie.current.curVideoGroupId]?t=Ie.current.suggestWordsPreloadList[Ie.current.curVideoGroupId]:(t=n({from_group_id:Ie.current.curVideoGroupId,...e},{isModalVideo:null==o?void 0:o.isModalVideo}),Ie.current.suggestWordsPreloadList[Ie.current.curVideoGroupId]=t);const r=await t;return Ie.current.searchBarWordLogId=r.logId,Je.current=r.logId,r.data}),[o,Ne,Je]),ut=(0,i.useCallback)(U()(((e,t)=>{const n=Ne?$e:Xe;Ie.current.suggestWordsPreloadList[t.groupId]||(Ie.current.suggestWordsPreloadList={...Ie.current.suggestWordsPreloadList,[t.groupId]:n({from_group_id:t.groupId,...e},{isModalVideo:null==o?void 0:o.isModalVideo})})}),500,{leading:!1}),[o,Ne]),dt=(0,i.useCallback)((async e=>{var t,n,o;const a={count:8,query:null===(t=Ie.current.guessText)||void 0===t?void 0:t.word};let l=[];const i={};Ke.length>0&&(l=N()(l).call(l,r()(Ke).call(Ke,(e=>e.id)))),e&&(i.is_manual_change=e,l=N()(l).call(l,Ie.current.guessListDedup)),l.length>0&&(i.pre_query_ids=z()(new(Q())(l)).join(",")),a.penetrate_params=i;const s=await Qe({from_group_id:Ie.current.curVideoGroupId,...a});return Ie.current.guessListLogId=s.logId,Ie.current.guessListDedup=N()(n=Ie.current.guessListDedup).call(n,r()(o=s.data.barWords.words).call(o,(e=>e.id))),s.data.barWords.words}),[Ke]),mt=(0,i.useCallback)((e=>{Ie.current.guessText=e,Ie.current.guessTextId=null==e?void 0:e.id,K(e)}),[]),ht=(0,i.useCallback)((async e=>{const t=await dt(e);if($()(t)&&t.length>0&&(X(l()(t).call(t,0,8)),Ie.current.guessList=l()(t).call(t,0,8),Pe()&&n.searchBarBottomWord===u.searchBarBottomWord.Inside)){const e=ye.current;if(!e)return;const n=e.clientWidth-te()(getComputedStyle(e).paddingLeft)-te()(getComputedStyle(e).paddingRight),{displayableNum:o}=ge.y(t,n,"inside"),r=l()(t).call(t,0,Math.min(o,3));Ve(r)}}),[dt,n.searchBarBottomWord,Pe,Ve]),vt=(0,i.useCallback)((async function(){if(!Ie.current.hasHotListFetched)try{Ie.current.hasHotListFetched=!0;const{statusCode:t,data:n={},log_pb:o}=await et({}),{word_list:a=[]}=n;if(!t&&a.length>0){var e;const t=r()(e=l()(a).call(a,0,6)).call(e,(e=>({word:e.word,word_type:e.word_type,position:e.position,group_id:e.group_id||""})));Ie.current.hotListLogId=null==o?void 0:o.impr_id,A(t)}}catch{Ie.current.hasHotListFetched=!1}}),[]);(0,i.useEffect)((()=>{const e=d.listen(d.EVENT.postCurVideoInfo,(e=>{if(!o.isModalVideo&&"modal"===e.scene)return;if(o.isModalVideo&&"modal"!==e.scene)return;if(n.searchBarBottomWord===u.searchBarBottomWord.Inside&&!1===Ie.current.hasInsideWordShown)return void(Ie.current.hasInsideWordShown=!0);const{existedSuggestWords:t=[]}=e,r=Re(t);null!=e&&e.preload?ut({penetrate_params:{inbox_exist_word_id:r}},e):(Ie.current.curVideoGroupId=e.groupId||"",Ie.current.feedBarIds=r,ct({penetrate_params:{inbox_exist_word_id:r}}).then((e=>{const{barWords:t,bottomWords:o,underboxMore:r}=e;let a=t.words[0],i=Ge(o.words,r.words,Ie.current.underInboxMoreCursor);if(n.bottomWordOpt===u.BottomWordOpt.BarWordPrior){const{dedupedInboxWords:e,dedupedUnderboxWords:t}=Ue(a,i,"inbox");a=e,i=t}if(n.bottomWordOpt===u.BottomWordOpt.BottomWordPrior){let e=999;if(i.length>0){const{displayableNum:t}=ze(i,o.words.length);e=t}const{dedupedInboxWords:t,dedupedUnderboxWords:n}=Ue(a,l()(i).call(i,0,e),"underbox");a=t,i=n}mt(a),Ie.current.inputFocus||(Ie.current.guessText?(b(""),k(""),it()):st(),Ne&&i.length>0&&n.bottomWordOpt!==u.BottomWordOpt.BottomWordPrior&&ze(i,o.words.length))})).catch((()=>st())))}));return()=>{null==e||e()}}),[n,o.isModalVideo,mt,it,st,ut,Ne,ct,ze]);const pt=(0,i.useCallback)((e=>{e.preventDefault(),Ie.current.pressDownTime=performance.now()}),[]),gt=(0,i.useCallback)((()=>{b(""),k(""),Me(),s("clearButtonClick",{enter_from:Le()})}),[Me,s]),ft=(0,i.useCallback)((e=>{var t,n,o,r;if(!C&&Ie.current.guessText)return xe(null===(n=Ie.current.guessText)||void 0===n?void 0:n.word,"search_bar_inner","",!1,!0),void s("guessWordClick",{enter_from:Le(),impr_id:Ie.current.searchBarWordLogId,words_content:null===(o=Ie.current.guessText)||void 0===o?void 0:o.word,words_num:"1",words_position:0,words_source:"search_bar_inner",group_id:Ie.current.guessTextId});Ze&&Fe.length>0&&(xe(Fe[0].word,"search_bar_inner","",!1,!0),ht(),s("guessWordClick",{enter_from:Le(),impr_id:Ie.current.guessListLogId,words_content:Fe[0].word,words_num:String(Fe.length),words_position:0,words_source:"search_bar_inner",group_id:null===(r=Fe[0])||void 0===r?void 0:r.id}));xe(Ie.current.showText||Ie.current.hotSearchKeyword,"normal_search",N()(t="".concat(null==e?void 0:e.pageX,",")).call(t,null==e?void 0:e.pageY))}),[xe,W,C]),wt=(0,i.useCallback)((e=>{const t=fe.C(e);if("ArrowUp"!==t&&"ArrowDown"!==t||e.preventDefault(),"Enter"===t&&!Ie.current.isPinyin){const t=Ie.current.showText;var n;if(t&&Ie.current.isFirefox||e.preventDefault(),!C&&Ie.current.guessText)return void xe(null===(n=Ie.current.guessText)||void 0===n?void 0:n.word,"search_bar_inner","",!0,!0);if(null===De)xe(t,"normal_search","-2,-2",!0);else if("sug"===Ie.current.suggestionState)xe(t,"search_sug","-1,-1"),s("sugClick",{impr_id:Ie.current.response.log_pb.impr_id,search_keyword:t,search_type:Ie.current.tab,sug_keyword:t}),s("trendingWordsClick",{impr_id:Ie.current.response.log_pb.impr_id,words_position:De,words_content:t,raw_query:t,rank:De+1,search_position:Ie.current.tab,query_id:Ie.current.response.words_query_record.query_id,group_id:Ie.current.response.sug_list[De].word_record.group_id});else if("middle_page"===Ie.current.suggestionState&&(q.length>0||M.length>0)){var o,r;if(De<q.length)xe(t,"recom_search","-2,-2",!0,!0),s("guessWordClick",{impr_id:Ie.current.guessListLogId,enter_from:Le(),words_num:String(q.length),words_position:De,words_content:t,group_id:(null===(o=q[De])||void 0===o?void 0:o.id)||""});else xe(t,"hot_search_board","-2,-2",!0,!1),s("hotWordClick",{impr_id:Ie.current.hotListLogId,enter_from:Le(),words_num:String(M.length),words_position:De,words_content:t,group_id:(null===(r=M[De-q.length])||void 0===r?void 0:r.group_id)||""})}}}),[xe,De,q,M,W,s,C]),_t=(0,i.useCallback)((e=>{const{text:t,index:n}=e.currentTarget.dataset;xe(t,"search_history","-1,-1"),s("historyClick",{enter_from:Le(),words_num:String(h&&h.length>0&&Math.min(h.length,D)||0),words_position:n,words_content:t})}),[xe]),yt=(0,i.useCallback)((e=>{const{text:t}=e.currentTarget.dataset;xe(t,"search_cny_word","-1,-1"),s("trendingWordsClick",{words_content:w})}),[xe]),Et=(0,i.useCallback)((e=>{const t=Number(e.currentTarget.dataset.index),n=Ie.current.sug.sugList[t];xe(n,"search_sug","-1,-1"),s("sugClick",{impr_id:Ie.current.response.log_pb.impr_id,search_keyword:Ie.current.inputText,search_type:Ie.current.tab,sug_keyword:n}),s("trendingWordsClick",{impr_id:Ie.current.response.log_pb.impr_id,words_position:t,words_content:n,raw_query:Ie.current.inputText,rank:-1,search_position:Ie.current.tab,query_id:Ie.current.response.words_query_record.query_id,group_id:Ie.current.response.sug_list[t].word_record.group_id})}),[xe]);(0,i.useEffect)((()=>{ae&&!E&&(Boolean(null==h?void 0:h.length)||Boolean(null==M?void 0:M.length)||Boolean(null==q?void 0:q.length))?S("middle_page"):ae&&Boolean(E)&&Boolean(_.sugList.length)?(S("sug"),re(!1)):(S("idle"),re(!1))}),[ae,h,_,E,M,q]),(0,i.useEffect)((()=>{ae&&(ht(),vt())}),[ae,ht,vt]),(0,i.useEffect)((()=>{if(!ae||null!==De||_.sugList.length&&_.query===E)return;const e=performance.now();tt({keyword:E,source:"aweme_video_web",from_group_id:Ie.current.curVideoGroupId}).then((t=>{var n,o;const{tab:a}=Ie.current;Ie.current.response=t;const{impr_id:l}=t.log_pb,i=t.extra.logId,{query_id:c}=t.words_query_record,u=(null===(n=t.sug_list)||void 0===n?void 0:n.length)||0,d=performance.now();Ce.current[E]={sugStartTime:e,sugFetchTime:d,impr_id:l,words_num:u,search_type:a,sug_keyword:E},s("sugShow",{impr_id:l,search_keyword:E,search_type:a,sug_keyword:E}),s("trendingShow",{log_pb:t.log_pb,impr_id:l,search_id:i,words_num:u,raw_query:E,search_position:a}),y({sugList:null==t?void 0:r()(o=t.sug_list).call(o,((e,t)=>(s("trendingWordsShow",{impr_id:l,search_id:i,words_position:t,words_content:e.content,raw_query:E,rank:-1,search_position:a,query_id:c,group_id:e.word_record.group_id}),e.content))),query:E})})).catch((()=>{y({sugList:[],query:E})}))}),[ae,E,De]),(0,i.useEffect)((()=>{if(!_.query)return;const e=performance.now(),t=Ce.current[_.query]||{},{sugStartTime:n,sugFetchTime:o,...r}=t;s("searchSugLoadPerformance",{...r,sug_fetch_duration:o-n,sug_render_duration:e-o,enter_from:Le()}),delete Ce.current[_.query]}),[_]);const bt=(0,i.useCallback)((()=>{v()}),[]),Ct=(0,i.useCallback)((e=>{I||L(!0);const t=e.target.value;b(t),k(t),Me()}),[]),kt=(0,i.useCallback)((e=>{e.stopPropagation();const{text:t}=e.currentTarget.dataset;p(t)}),[]),Nt=(0,i.useCallback)((e=>{e.stopPropagation();const{text:t}=e.currentTarget.dataset;b(t),k(t),Me()}),[]),Tt=(0,i.useCallback)((()=>{s("enterSearch",{enter_from:Le(),enter_from_second:Le(),click_method:ke.current}),Ie.current.focusTime=performance.now(),Ie.current.inputFocus=!0,st(),je(),L(!0),at(),d.emit(d.EVENT.searchBarFocus)}),[s,st,je,Le,at]),St=(0,i.useCallback)((()=>{Ie.current.inputFocus=!1,n.searchBarBottomWord===u.searchBarBottomWord.Inside&&Pe()&&!Ie.current.hasGuessTextShown&&!Ie.current.showText&&ht().then((()=>{!Ie.current.hasGuessTextShown&&!Ie.current.guessText&&Ie.current.guessList.length>0&&He()})),Ie.current.guessText?it():st(),ke.current="",L(!1),Me(),lt(),d.emit(d.EVENT.searchBarBlur)}),[it,st,Me,He,ht,n.searchBarBottomWord,Pe,lt]),It=(0,i.useCallback)((()=>{Ie.current.isPinyin=!0}),[]),Lt=(0,i.useCallback)((()=>{Ie.current.isPinyin=!1}),[]),xt=(0,i.useCallback)((e=>{var t;const{text:n,index:o}=e.currentTarget.dataset;n&&(xe(n,"hot_search_board","",!1,!1),s("hotWordClick",{impr_id:Ie.current.hotListLogId,enter_from:Le(),words_num:String((null==M?void 0:M.length)||0),words_position:o,words_content:n,group_id:(null==M||null===(t=M[o])||void 0===t?void 0:t.group_id)||""}))}),[xe]),Pt=(0,i.useCallback)((e=>{var t;const{text:n,index:o}=e.currentTarget.dataset;n&&(xe(n,"recom_search","",!1,!0),s("guessWordClick",{impr_id:Ie.current.guessListLogId,enter_from:Le(),words_num:String(q.length||0),words_position:Number(o),words_content:n,group_id:(null===(t=q[Number(o)])||void 0===t?void 0:t.id)||""}))}),[xe,s,q]),Dt=(0,de.x)((()=>{s("trendingWordsShow",{words_content:w})})),Mt=(0,de.x)((()=>{oe()(h).call(h,((e,t)=>{s("historyShow",{enter_from:Le(),words_num:String(h&&h.length>0&&Math.min(h.length,D)||0),words_position:t,words_content:e})}))})),Bt=(0,de.x)((()=>{oe()(M).call(M,((e,t)=>{var n;s("hotWordShow",{impr_id:Ie.current.hotListLogId,enter_from:Le(),words_num:String((null==M?void 0:M.length)||0),words_position:t,words_content:e.word,group_id:(null==M||null===(n=M[t])||void 0===n?void 0:n.group_id)||""})}))})),At=(0,de.x)((()=>{oe()(q).call(q,((e,t)=>{s("guessWordShow",{impr_id:Ie.current.guessListLogId,enter_from:Le(),words_num:String(q.length||0),words_position:t,words_content:e.word,group_id:e.id})}))}));(0,i.useEffect)((()=>{const e=d.listen(d.EVENT.focusSearch,(e=>{var t;const n=null===(t=we.Le.getConfig(we.gI.IsInModalVideo))||void 0===t?void 0:t.isInModal;if(!o.isModalVideo&&n||o.isModalVideo&&!n)return;const r=null==e?void 0:e.isFocus;Ie.current.guessText?(ke.current="hot_key",r&&ft(),ke.current=""):H()((()=>{r?(ke.current="hot_key",ye.current.focus()):ye.current.blur()}),50)}));return()=>{null==e||e()}}),[ft,Tt,St,o.isModalVideo]),(0,i.useEffect)((()=>{_e.H(vt)}),[]),(0,i.useEffect)((()=>{Pe()&&n.searchBarBottomWord===u.searchBarBottomWord.Inside&&ht().then((()=>{!Ie.current.inputFocus&&Ie.current.guessList.length>0&&He()}))}),[o.isModalVideo,o.isSearchPage,n,Pe]),(0,i.useEffect)((()=>{mt(null),st()}),[null==o?void 0:o.pathname]);const Ot=(0,i.useCallback)((()=>{Ie.current.inputFocus||Se((()=>H()((()=>{P(!0),at(),d.emit(d.EVENT.searchBarFocus)}),500)))}),[at]),Wt=(0,i.useCallback)((()=>{clearTimeout(Te),P(!1),Ie.current.inputFocus||(lt(),d.emit(d.EVENT.searchBarBlur))}),[Te,lt]);return{history:h,showText:C,hotSearchText:f,hotSearchKeyword:w,hotList:M,suggestionState:T,onFocus:Tt,inputFocus:I,onBlur:St,onInputChange:Ct,onSearchClick:ft,onInputKeyDown:wt,clearHistory:bt,onHistoryClick:_t,onHotWordClick:yt,onSugClick:Et,onDeleteHistoryItem:kt,sug:_,setInputText:b,onSetSug:Nt,preventDefault:Be,onMouseDown:pt,searchBarRef:be,inputRef:ye,formRef:Ee,hotWordRef:Dt,historyRef:Mt,hotListRef:Bt,guessListRef:At,onCompositionStart:It,onCompositionEnd:Lt,keyboardNavIndex:De,onHotListWordClick:xt,onGuessListWordClick:Pt,onInputClearButtonClick:gt,placeHolder:W,isGuessTextShow:V,guessText:j,guessList:q,bottomWordList:Ke,onBottomWordClick:qe,isButtonHover:J,setButtonHover:ee,insideWordList:Fe,isInsideWordShow:Ze,updateGuessList:ht,onMouseEnter:Ot,onMouseLeave:Wt,isMiddlePageReady:ne,setMiddlePageReady:re}}const lt={hotView:"ECfNAnuN",searchBarContainer:"AFTy15pW",searchBar:"lPytbapz",activity:"QkLBoTmY",vsTransMode:"DcMccBwQ",searchBarGuessText:"eV6rINZw",transparent:"nihbySfV",inputClearButton:"rb7mtFl_",iconClose:"gMkV3yx8",input:"igFQqPKs",borderInput:"XClSex3D",button:"rB8dMXOc",buttonIcon:"FhOy97Hs",newMildInput:"sNMIp2gi",newAggresiveInput:"YSGlPSkR",modalSearchBar:"NBmn3s18",modalSearchBarIdle:"mnN5bEWt",searchIcon:"T9sNU2wZ",searchBarInputForm:"zyznJl4l",inputLanternIcon:"yLUSLRPP",searchBarHotIcon:"HtoEiInk",searchBarGuessTextWrapper:"rQK5s_5G",isActivity:"FZyRCCRa",activityIcon:"u8BJEVLC",searchBarInsideWord:"QEnWATW0",blur:"qYYUxsS2",hotInput:"zwPQYqPg",inputWithClearButton:"LfNI_GvG",borderInputSpec:"yKzPCGu9",suggestionContainer:"bMNdUnXg",suggestion:"qdBdEa5M",grayscale:"UIy2gpGc",hotLine:"SYsqE8WM",sugLanternIcon:"LlJUvkns",hotText:"c7ds0Iod",sugArrowRightIcon:"BLrmVLv5",titleView:"Bn9halsY",titleViewText:"RJ3jOaxm",hotBoardTitleViewText:"Ict4f2gg",refreshButtonView:"Y8iOISUm",refreshButtonText:"fBqC2_4f",suggestionItem:"mAxh4Myr",keyboardSelected:"QWsKM5ZL",suggestionItemContext:"zc76CbGr",queryMatch:"xjGxZvQd",queryMatchWeak:"vVcX3F4m",svgHover:"MqBTFh3s",guessListDouble:"qVKaKr1k",guessListItemWrapper:"lZVDVDUI",itemLeft:"WaH4na5z",itemRight:"ROQco5Dk",guessListItem:"c83o2HHV",guessListItemBg:"GlBGbioI",hotListItem:"_DBUEsrN",hotListItemBg:"DLMGiHDU",hotListItemWithNum:"_FLhmVcE",hotListItemText:"sib6lYLr",guessListItemText:"r4GRlgqE",guessListItemTextHighlight:"aZU1HeCW",hotListItemIcon:"SjOHS8N1",hotListItemNumberIcon:"EPnNp3c0",guessListItemIcon:"dgH2Pao8",guessListItemIconHot:"jHBrjtT1",guessListItemIconLive:"B2CLKUW6",bottomWord:"Lo8QPz5R"};var it=n(92887),st=n(58778),ct=n(39370);const ut="G1wNaptA",dt="Hwa4NdpH",mt="nCWuTGbt",ht="Gzyl1zZ2",vt="oODOqrsZ",pt="xVVBuUHj",gt="yt2kqmdu",ft="eo3_cSOv",wt="Y2_zgfIU",_t="ZFs_o_xH",yt="ivS2xlnF";var Et=n(34559);const bt=(0,i.forwardRef)(((e,t)=>{var n;const{history:o=[],onHistoryItemClick:a,customProps:s,onDeleteHistoryItem:u,limit:d,clearHistory:m,onReady:h}=e,[v,p]=(0,i.useState)(d),[g,f]=(0,i.useState)(!1),{buttonRef:w,onButtonClick:_}=(()=>{const e=(0,i.useMemo)((()=>(0,ie.y$)(F)),[]);return{buttonRef:(0,de.x)((()=>e("historyFoldButtonShow"))),onButtonClick:(0,i.useCallback)((()=>e("historyFoldButtonClick")),[e])}})(),y=(0,i.useCallback)((()=>{_(),f(!1),p(d)}),[f,p,_,d]),E=(0,i.useCallback)((()=>{var e,n;const o=z()((null==t||null===(e=t.current)||void 0===e?void 0:e.children)||[]),r=(null==t||null===(n=t.current)||void 0===n?void 0:n.offsetWidth)||0;let a=56;for(let t=0;t<o.length;t++){const e=o[t];if(null==e||!e.offsetTop)break;if(0!==t){if(e.offsetTop===a+64){const e=r-o[t-1].offsetWidth-o[t-1].offsetLeft-20-8;p(e>=30?t:t-1),f(!0);break}}else a=e.offsetTop}h&&h()}),[t,h]),b=(0,i.useRef)(E);return b.current=E,(0,i.useEffect)((()=>(b.current(),window.addEventListener("resize",(()=>b.current())),window.removeEventListener("resize",(()=>b.current())))),[]),0===o.length?null:i.createElement(i.Fragment,null,i.createElement("div",{className:ut},i.createElement("span",{className:dt},"\u5386\u53f2\u8bb0\u5f55"),i.createElement("div",{className:mt,onClick:m},i.createElement(Et.Z,{src:globalThis.getFilterXss().filterUrl(ct.Z,null,{logType:"js.href/src",reportOnly:!1}),width:14,height:14,viewBox:"0 0 14 14"}),i.createElement("span",{className:ht},"\u6e05\u9664\u8bb0\u5f55"))),i.createElement("div",{className:vt,ref:t,"data-e2e":"search-history-container"},r()(n=l()(o).call(o,0,v)).call(n,((e,t)=>i.createElement("div",{"data-text":e,"data-index":t,onClick:a,className:c()(pt,{[gt]:null==s?void 0:s.isModalVideo}),key:e},i.createElement("span",{className:_t},e),i.createElement("div",{className:ft,"data-text":e,onClick:u},i.createElement(Et.Z,{src:globalThis.getFilterXss().filterUrl(it.Z,null,{logType:"js.href/src",reportOnly:!1}),className:wt,width:14,height:14,viewBox:"0 0 12 12"}))))),g&&v<=o.length-1&&i.createElement("div",{ref:w,onClick:y,className:yt,style:{width:22}},i.createElement(Et.Z,{src:globalThis.getFilterXss().filterUrl(st.Z,null,{logType:"js.href/src",reportOnly:!1}),width:12,height:12,viewBox:"0 0 12 12"}))))})),Ct=e=>{var t;const{words:n,query:o,matchClass:a}=e,l=r()(t=n===o?[""]:n.split(o)).call(t,((e,t)=>""===e?i.createElement("span",{key:t,className:a},o):e));return i.createElement("span",{className:lt.suggestionItemContext},l)},kt=e=>{var t,n,o;const{abTestData:a={},userInfo:s,onSearchClick:k,onHistoryClick:N,onInputKeyDown:T,customProps:S={}}=e,L=[f.Z,w.Z,_.Z,y.Z,E.Z,b.Z,C.Z],x=function(){const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{(async()=>{const e=await re.U2({key:ae.TccKey.SearchPanelGrayscale,defaultValue:ae.TCC_DEFAULT_VALUE_MAP.get(ae.TccKey.SearchPanelGrayscale),namespace:re.m_.SEARCH});t(e.grayscale)})()}),[]),e}(),{inputRef:M,formRef:B,hotWordRef:A,showText:O,hotSearchText:W,hotSearchKeyword:R,hotList:V,suggestionState:U,keyboardNavIndex:G,onFocus:H,inputFocus:j,onBlur:Z,onInputChange:K,onMouseDown:Y,onSearchClick:q,onInputKeyDown:z,clearHistory:X,onHistoryClick:Q,onHotWordClick:J,onSugClick:$,history:ee,sug:te,onSetSug:ne,onDeleteHistoryItem:oe,preventDefault:le,onCompositionStart:se,onCompositionEnd:ce,onHotListWordClick:ue,onGuessListWordClick:me,onInputClearButtonClick:he,placeHolder:ve,historyRef:pe,hotListRef:ge,guessListRef:fe,isGuessTextShow:we,guessText:_e,guessList:ye,bottomWordList:Ee,onBottomWordClick:be,isButtonHover:Ce,setButtonHover:ke,insideWordList:Ne,isInsideWordShow:Te,searchBarRef:Se,updateGuessList:Ie,onMouseEnter:Le,onMouseLeave:xe,isMiddlePageReady:Pe,setMiddlePageReady:De}=at(null==s||null===(t=s.info)||void 0===t?void 0:t.secUid,(()=>{d.emit(d.EVENT.videoPause)}),a,S),{refreshButtonRef:Me,onRefreshButtonClick:Be}=(()=>{const e=(0,i.useMemo)((()=>(0,ie.y$)(F)),[]);return{refreshButtonRef:(0,de.x)((()=>e("recomSearchChangeButtonShow"))),onRefreshButtonClick:(0,i.useCallback)((()=>e("recomSearchChangeButtonClick")),[e])}})(),Ae=(0,i.useMemo)((()=>(null==S||!S.isModalVideo)&&a.searchBarStyleOpt===u.SearchBarStyleOpt.Mild),[a.searchBarStyleOpt,null==S?void 0:S.isModalVideo]),Oe=(0,i.useMemo)((()=>(null==S||!S.isModalVideo)&&a.searchBarStyleOpt===u.SearchBarStyleOpt.Aggressive),[a.searchBarStyleOpt,null==S?void 0:S.isModalVideo]),We=(0,i.useCallback)((e=>{const{value:t}=M.current;k&&k(t)&&q(e)}),[q]),Re=((0,i.useCallback)((e=>{N&&N(e)&&Q(e)}),[Q]),(0,i.useCallback)((e=>{e.stopPropagation();const{value:t}=M.current;T&&T(e,t)&&z(e)}),[z]));return(0,i.useEffect)((()=>{const e=d.listen(d.EVENT.closeSearchSelect,(()=>{M.current.blur()}));return()=>{e()}}),[]),i.createElement("div",{className:lt.searchBarContainer,onMouseEnter:a.enableHoverToDisplay?Le:()=>{},onMouseLeave:a.enableHoverToDisplay?xe:()=>{}},i.createElement("div",{ref:Se,className:c()(lt.searchBar,{[lt.borderInput]:!(Ae||Oe),[lt.modalSearchBar]:null==S?void 0:S.isModalVideo,[lt.modalSearchBarIdle]:(null==S?void 0:S.isModalVideo)&&!j,[lt.activity]:(null==S?void 0:S.isActivity)||(null==S?void 0:S.transparent),[null==lt?void 0:lt[null==S?void 0:S.activityName]]:null==S?void 0:S.activityName,[lt.borderInputSpec]:null==S?void 0:S.themeSwitch,[lt.newMildInput]:Ae,[lt.newAggresiveInput]:Oe,[lt.transparent]:null==S?void 0:S.transparent})},!j&&W&&i.createElement("div",{className:lt.inputLanternIcon}),i.createElement("form",{className:c()(lt.searchBarInputForm,{isLight:null==S?void 0:S.isActivity}),action:"",target:"_blank",ref:B},!O&&!we&&Ne.length>0&&Te&&i.createElement("div",{className:lt.searchBarInsideWord},i.createElement(P,{wordList:Ne,active:Ce,customProps:S})),!O&&we&&_e&&i.createElement("div",{className:lt.searchBarGuessTextWrapper},_e.icon_info&&i.createElement("img",{src:globalThis.getFilterXss().filterUrl(_e.icon_info.icon_url,null,{logType:"js.href/src",reportOnly:!1}),className:lt.activityIcon,style:{width:_e.icon_info.icon_width||20,height:_e.icon_info.icon_height||20}}),i.createElement("div",{className:c()(lt.searchBarGuessText,{[lt.isActivity]:_e.icon_info})},_e.word)),O&&j&&i.createElement("div",{onClick:he,onMouseDown:le,className:lt.inputClearButton,"data-e2e":"clear-search"},i.createElement(h.Z,{className:lt.iconClose})),i.createElement("input",{ref:M,value:O,onFocus:H,onBlur:Z,onChange:K,onKeyDown:Re,onCompositionStart:se,onCompositionEnd:ce,className:c()(lt.input,{[lt.blur]:!j&&!S.isSearchPage,[lt.hotInput]:!j&&W,[lt.inputWithClearButton]:j&&O}),"data-e2e":"searchbar-input",type:"text",maxLength:100,placeholder:W||ve||""}),i.createElement("input",{type:"submit",value:"Submit",style:{display:"none"}})),i.createElement("button",{className:c()(lt.button,{isLight:null==S?void 0:S.isActivity}),"data-e2e":"searchbar-button",type:"button",onMouseDown:Y,onClick:We,onMouseEnter:()=>ke(!0),onMouseLeave:()=>ke(!1)},i.createElement(m.Z,{className:lt.buttonIcon}),i.createElement("span",{className:"btn-title"},"\u641c\u7d22")),"middle_page"===U&&i.createElement("div",{className:lt.suggestionContainer,style:{visibility:Pe?"unset":"hidden"}},i.createElement("div",{className:c()(lt.suggestion,{[lt.grayscale]:x}),onMouseDown:le},W&&i.createElement("div",{className:lt.hotView},i.createElement("div",{ref:A,"data-text":R,onClick:J,className:lt.hotLine},i.createElement("div",{className:lt.sugLanternIcon}),i.createElement("p",{className:c()(lt.hotText,lt.suggestionItemContext)},W),i.createElement(p.Z,{width:6,height:11,viewBox:"0 0 17 33",className:lt.sugArrowRightIcon}))),i.createElement(bt,{ref:pe,history:ee,onDeleteHistoryItem:oe,onHistoryItemClick:Q,clearHistory:X,customProps:S,limit:D,onReady:()=>De(!0)}),ye.length>0&&i.createElement(i.Fragment,null,i.createElement("div",{className:lt.titleView},i.createElement("span",{className:lt.titleViewText},"\u731c\u4f60\u60f3\u641c"),i.createElement("div",{ref:Me,className:lt.refreshButtonView,onClick:()=>{Ie(!0),Be()}},i.createElement(Et.Z,{src:globalThis.getFilterXss().filterUrl(g.Z,null,{logType:"js.href/src",reportOnly:!1}),width:14,height:14,viewBox:"0 0 14 14"}),i.createElement("span",{className:lt.refreshButtonText},"\u6362\u4e00\u6362"))),i.createElement("div",{ref:fe,className:lt.guessListDouble,"data-e2e":"search-guess-container"},r()(ye).call(ye,((e,t)=>{const n="2"===e.words_type,o="10"===e.words_type,r=0===t&&_e&&_e.icon_info&&e.word===_e.word;return i.createElement("div",{key:e.word,className:lt.guessListItemWrapper},i.createElement("div",{className:c()(lt.guessListItem,lt.guessListItemBg,t%2==0?lt.itemLeft:lt.itemRight,{[lt.keyboardSelected]:t===G}),"data-text":e.word,"data-index":t,onClick:me},i.createElement("span",{className:c()(lt.guessListItemText,{[lt.guessListItemTextHighlight]:t<2})},e.word),(n||o)&&i.createElement("div",{className:c()(lt.guessListItemIcon,{[lt.guessListItemIconHot]:n,[lt.guessListItemIconLive]:o})}),r&&i.createElement("img",{src:globalThis.getFilterXss().filterUrl(_e.icon_info.icon_url,null,{logType:"js.href/src",reportOnly:!1}),className:lt.guessListItemIcon,style:{width:_e.icon_info.icon_width||20,height:_e.icon_info.icon_height||20}})))})))),V&&V.length>0&&i.createElement(i.Fragment,null,i.createElement("div",{className:lt.titleView},i.createElement("span",{className:c()(lt.titleViewText,lt.hotBoardTitleViewText)},"\u6296\u97f3\u70ed\u70b9")),i.createElement("div",{ref:ge,"data-e2e":"search-hot-container"},r()(V).call(V,((e,t,n)=>{const o=14===n[0].word_type?t:t+1,r=ye.length+t;return i.createElement("div",{className:c()(lt.hotListItem,lt.hotListItemBg,{[lt.hotListItemWithNum]:o>=4,[lt.keyboardSelected]:r===G}),key:e.word,"data-text":e.word,"data-index":t,onClick:ue},i.createElement(Et.Z,{className:c()(lt.hotListItemIcon,{[lt.hotListItemNumberIcon]:o>=4}),src:globalThis.getFilterXss().filterUrl(L[o],null,{logType:"js.href/src",reportOnly:!1}),width:o<4?20:23,height:o<4?20:24,viewBox:o<4?"0 0 20 20":"0 0 23 24"}),i.createElement("span",{className:lt.hotListItemText},e.word))})))))),"sug"===U&&i.createElement("div",{className:lt.suggestionContainer},i.createElement("div",{className:c()(lt.suggestion,{[lt.grayscale]:x}),onMouseDown:le},r()(n=l()(o=te.sugList).call(o,0,D)).call(n,((e,t)=>i.createElement("div",{"data-index":t,onClick:$,className:c()(lt.suggestionItem,{[lt.keyboardSelected]:t===G}),key:e},i.createElement(Ct,{words:e,query:te.query,matchClass:lt.queryMatch}),i.createElement("div",{className:"icon","data-text":e,onClick:ne},i.createElement(v.Z,{className:lt.svgHover})))))))),i.createElement("div",{className:c()(lt.bottomWord,{[lt.activity]:null==S?void 0:S.isActivity,[null==lt?void 0:lt[null==S?void 0:S.activityName]]:null==S?void 0:S.activityName})},i.createElement(I,{wordList:Ee,onBottomWordClick:be,customProps:S})))},Nt=kt},69558:(e,t,n)=>{n.d(t,{U:()=>ie});var o=n(43500),r=n(79705),a=n.n(r),l=n(67948),i=n(52471),s=n(38284),c=n(14513),u=n(20653);const d="s2O1MLsL",m="EtwJ505o",h="PGxyUaDj",v="zdyJ0jbb";var p=n(34559),g=n(88438),f=n.n(g),w=n(94610),_=n.n(w),y=n(78170),E=n.n(y),b=n(14808),C=n(34022),k=n(42699),N=n(9961),T=n(16866),S=n(41808),I=n(16096),L=n(54227),x=n(53539),P=n(41304),D=n(73597),M=n(97551),B=n(94303),A=n(10534),O=n(62638),W=n(1269);const R="G0S7YWl4",F="ZWfLfofK",V="KgDqPY_r",U="QFii_bPD",G="cuvUuj0g",H="lcYXJjtm",j="u28GXXK2",Z="RZbE4EGx",K="fnnsKPmK",Y="impPwaFy";var q,z;function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},X.apply(this,arguments)}const Q=function(e){return o.createElement("svg",X({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),q||(q=o.createElement("circle",{cx:18,cy:18,r:18,fill:"#EFF0F3"})),z||(z=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 8.5a9.5 9.5 0 100 19 9.5 9.5 0 000-19zm-1.42 14.175c0 .73.611 1.325 1.363 1.325.753 0 1.363-.594 1.363-1.325s-.612-1.325-1.363-1.325c-.754 0-1.363.594-1.363 1.325zm3.318-4.47c.87-.72 1.438-1.286 1.705-1.703.265-.417.4-.86.397-1.327 0-.845-.361-1.585-1.087-2.22-.726-.637-1.7-.955-2.928-.955-1.165 0-2.108.314-2.826.942-.717.628-1.135 1.493-1.159 2.292-.023.798 1.89.632 1.96.238.074-.417.388-1.091.754-1.397.365-.305.82-.46 1.363-.46.562 0 1.012.148 1.343.441.332.295.5.647.5 1.058 0 .295-.096.566-.283.813-.121.156-.495.485-1.117.988-.622.501-1.038.954-1.246 1.357-.208.402-.312.914-.312 1.538l.003.184.006.321h1.94c-.01-.583.04-.988.148-1.213.109-.228.389-.527.84-.898z",fill:"#2F3035"})))};const J=new(n(32059).hD)({feedbackShow:{eventName:"feedback_show",params:{enter_from:""}},feedbackClick:{eventName:"feedback_click",params:{enter_from:"",player_muted:1,player_volume:0}}});var $=n(15605),ee=n(36861);const te=function(e){let{isXiguaDomain:t,version:r=""}=e;const[l,i]=(0,o.useState)(!1),[c,u]=(0,o.useState)(""),d=(0,o.useRef)(null),m=(0,o.useRef)(null),h=(0,o.useRef)(null),v=(0,o.useRef)(k.p()?null:document.createElement("div"));(0,o.useEffect)((()=>{var e;const t=null===(e=localStorage)||void 0===e?void 0:e.getItem("FeedBackFlag");u(t),"1"!==t&&(J.sendLog("feedbackShow",{enter_from:N.yW()}),f()((()=>{var e;null===(e=localStorage)||void 0===e||e.setItem("FeedBackFlag","1"),u("1")}),3e3))}),[]);const{isFullscreen:g}=(0,b.O)(),w=(0,o.useCallback)((async e=>{var t,o,a,l,s;const c=await n.e(7569).then(n.t.bind(n,57569,23));if(!e)return;const u=T.Q.getItem({sKey:O.CookieKeys.Theme}),h=S.Dr(u),p=T.Q.getItem({sKey:O.CookieKeys.MonitorWebId}),g=T.Q.getItem({sKey:O.CookieKeys.MonitorDeviceId}),f=(await(0,C.d)()||[]).join(","),{device_manufacture:w="",device_model:y="",guid:b="",version:k=""}=I.rp(),{os:A}=L.f(),R=c.default,F=null===(t=x.Es())||void 0===t?void 0:t.user_unique_id;d.current=new R(e,{zIndex:W.FEEDBACK_Z_INDEX,appId:P.DT()?W.CLIENT_APP_ID.toString():W.APP_ID.toString(),bizId:W.BIDID,webId:F,appName:W.APPNAME,extra_params:{MONITOR_WEB_ID:p,MONITOR_DEVICE_ID:g,abTestVids:f,manufacturer:w,version:r,device_model:y,guid:b,clientVersion:k,os:A,env:null===(o=x.Le.getConfig(x.gI.Env))||void 0===o?void 0:o.envService,custom_field_info:{env:null===(a=x.Le.getConfig(x.gI.Env))||void 0===a?void 0:a.envService,os:A,clientVersion:k}},ext:{headerToggle:!0},sdkUrl:W.SDKURL,theme:h,getFeedbackResult:e=>{if(e){var t,n,o,r,a,l;const e=null!==(t=x.Le.getConfig(x.gI.FeedBackInfo))&&void 0!==t?t:{},i={page:N.yW(),web_id:p,devide_id:g},s=document.querySelectorAll(".xgplayer-error"),c={screenWidth:document.body.clientWidth,screenHeight:document.body.clientHeight,containerChildCount:null===(n=document.getElementById("douyin-right-container"))||void 0===n?void 0:n.childElementCount,swiperSlideCount:document.getElementsByClassName("swiper-slide").length,feedVideoCount:document.querySelectorAll('[data-e2e="feed-video"]').length,feedActiveVideoCount:document.querySelectorAll('[data-e2e="feed-active-video"]').length,isVideoError:_()(o=E()(s)).call(o,(e=>null!==(null==e?void 0:e.offsetParent))),videoPosition:null===(r=document.querySelector('[data-e2e="feed-active-video"]'))||void 0===r?void 0:r.getBoundingClientRect(),swiperTransfrom:null===(a=document.querySelector(".swiper-wrapper"))||void 0===a||null===(l=a.style)||void 0===l?void 0:l.transform};D.oe.event.info({name:D.Mo.SubmitFeedBack,report:{...e,...i,...c}}),M.q.custom.emit(M.j.FeedBackSubmit,i),$.F.info("\u5df2\u7ecf\u63d0\u4ea4\u53cd\u9988")}},getInterfaceError:e=>{e&&$.F.info("\u63a5\u53e3\u72b6\u6001\u5f02\u5e38")},onVisibleChange:e=>{var t;const n=B.r()&&document.getElementById("slideMode")||document.getElementsByClassName("xgplayer-fullscreen-parent")[0];let o=null===(t=d.current)||void 0===t?void 0:t._iframeContainer;if(e){var r,a,l,i,s,c,u,h,p,g;r=x.Le.getConfig(x.gI.FeedBackInfo);if(J.sendLog("feedbackClick",{enter_from:N.yW(),player_muted:Number(null!==(a=null!==(l=null===(i=window.player)||void 0===i||null===(s=i.video)||void 0===s?void 0:s.muted)&&void 0!==l?l:null===(c=window.player)||void 0===c?void 0:c.muted)&&void 0!==a?a:0),player_volume:null!==(u=null===(h=window.player)||void 0===h||null===(p=h.video)||void 0===p?void 0:p.volume)&&void 0!==u?u:null===(g=window.player)||void 0===g?void 0:g.volume}),!m.current)return;n?(o=n,v.current.className=Y,v.current.appendChild(m.current),n.appendChild(v.current)):o.appendChild(m.current)}else{var f,w,_,y;if(!d.current)return;if(n)null===(_=v.current)||void 0===_||null===(y=_.remove)||void 0===y||y.call(_);m.current=d.current._sdkIframeEle,null===(f=d.current._sdkIframeEle)||void 0===f||null===(w=f.remove)||void 0===w||w.call(f)}}}),i(!0),m.current=d.current._sdkIframeEle,null===(l=d.current._sdkIframeEle)||void 0===l||null===(s=l.remove)||void 0===s||s.call(l)}),[]);return(0,o.useEffect)((()=>{var e,t,n,o;null===(e=d.current)||void 0===e||null===(t=e.hide)||void 0===t||t.call(e),null===(n=v.current)||void 0===n||null===(o=n.remove)||void 0===o||o.call(n)}),[g]),(0,o.useEffect)((()=>{const e=s.listen(s.EVENT.showFeedback,(()=>{var e,t;null===(e=h.current)||void 0===e||null===(t=e.click)||void 0===t||t.call(e)}));return()=>e()}),[]),(0,o.useEffect)((()=>{const e=s.listen(s.EVENT.changeTheme,(()=>{var e,t;if(l){try{var n,o;null===(n=d.current)||void 0===n||null===(o=n.destroy)||void 0===o||o.call(n)}catch(r){}null===(e=d.current)||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e),w(h.current)}}));return()=>e()}),[w,l]),(0,o.useEffect)((()=>(w(h.current),()=>{try{var e,t;null===(e=d.current)||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e)}catch(n){}})),[]),o.createElement("div",{onMouseEnter:()=>{J.sendLog("feedbackShow",{enter_from:N.yW()})},ref:e=>{h.current=e},className:a()(R,{[K]:"1"!==c,[H]:t})},t&&o.createElement(o.Fragment,null,o.createElement(ee.e,{text:"\u53cd\u9988",isXiguaDomain:t},o.createElement("div",{className:G},o.createElement(p.Z,{src:globalThis.getFilterXss().filterUrl(A.Z,null,{logType:"js.href/src",reportOnly:!1}),width:28,height:28,viewBox:"-4 -4 28 28"}))),o.createElement("div",{className:j}),o.createElement("div",{className:Z})),!t&&o.createElement("div",{className:F},o.createElement("div",{className:V},o.createElement(p.Z,{src:globalThis.getFilterXss().filterUrl(Q,null,{logType:"js.href/src",reportOnly:!1}),width:36,height:36})),o.createElement("div",{className:U},o.createElement(p.Z,{src:globalThis.getFilterXss().filterUrl(Q,null,{logType:"js.href/src",reportOnly:!1}),width:36,height:36})),o.createElement("span",null,"\u610f\u89c1\u53cd\u9988")))};var ne=n(28172),oe=n(5784),re=n(60017);const{scrollToY:ae,getScrollXY:le}=l;function ie(e){let{className:t="",showUpIconScrollY:n,children:r,isXiguaDomain:l,version:g,nowPathName:f,SlardarInstance:w}=e;const[_,y]=(0,o.useState)(!1),[E,b]=(0,o.useState)(!1),[C,k]=(0,o.useState)(null),N=(0,o.useCallback)((e=>{y(e),s.emit(s.EVENT.isShowUp,e)}),[]);(0,o.useEffect)((()=>{var e,t,o;b(Boolean(null===(e=window)||void 0===e||null===(t=e.CSS)||void 0===t||null===(o=t.supports)||void 0===o?void 0:o.call(t,"--testName: 0")));const r=()=>{const{y:e}=le(C||window);e>(n||3*window.innerHeight)?!_&&N(!0):_&&N(!1)};return(C||document).addEventListener("scroll",r),()=>{(C||document).removeEventListener("scroll",r)}}),[n,_,N,E,C]),(0,o.useEffect)((()=>{y(!1)}),[f]),(0,o.useEffect)((()=>(s.commonEvent.on(s.EVENT.globalScrollEl,k),()=>{s.commonEvent.off(s.EVENT.globalScrollEl,k)})),[]);const T=i.a.useClientDetect();return o.createElement("div",{id:"douyin-sidebar",className:a()(d,t,{[h]:l})},r,!T&&E&&l&&o.createElement(ne.x$,{TipComponent:oe.C,isXiguaDomain:l}),o.createElement(re.k,{Slardar:w,componentName:"FeedBackDom"},o.createElement(te,{isXiguaDomain:l,version:g})),l&&_&&o.createElement(ee.e,{text:"\u56de\u5230\u9876\u90e8",isXiguaDomain:l},o.createElement("div",{className:a()(m,{[v]:l}),onClick:()=>{ae(null!=C?C:window,0,500)}},o.createElement(p.Z,{src:globalThis.getFilterXss().filterUrl(u.Z,null,{logType:"js.href/src",reportOnly:!1}),width:32,height:32,viewBox:"-7 -7 36 36"}))),!l&&_&&o.createElement("div",{className:a()(m,{[v]:l}),onClick:()=>{ae(null!=C?C:window,0,500)}},o.createElement(p.Z,{src:globalThis.getFilterXss().filterUrl(c.Z,null,{logType:"js.href/src",reportOnly:!1}),width:32,height:32})))}},34559:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(43500),r=n(79705),a=n.n(r);const l="u1O5vnab",i=e=>{const{src:t,width:n=18,height:r=18,color:i,viewBox:s,className:c="",onClick:u,onMouseEnter:d,onMouseLeave:m,onMouseDown:h,onMouseUp:v,style:p,needRenderInSSR:g=!1,id:f,...w}=e,_=i?{...w,fill:i}:w,[y,E]=o.useState(!1);return(0,o.useEffect)((()=>{E(!0)}),[]),y||g?o.createElement(t,{className:a()(i?l:"",c),width:n,height:r,viewBox:s||"0 0 36 36",onClick:u,onMouseEnter:d,onMouseLeave:m,onMouseDown:h,onMouseUp:v,..._,style:p,id:f}):o.createElement(o.Fragment,null)},s=o.memo(i)},28172:(e,t,n)=>{n.d(t,{x$:()=>Z,c4:()=>H,Ly:()=>j});var o,r=n(88438),a=n.n(r),l=n(43500),i=n(79705),s=n.n(i),c=n(16866),u=n(41808),d=n(38284),m=n(9961),h=n(3345),v=n(85289),p=n(62638);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},g.apply(this,arguments)}const f=function(e){return l.createElement("svg",g({width:24,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=l.createElement("path",{opacity:.7,d:"M20.414 5.613a6.718 6.718 0 01-2.886-4.39A6.808 6.808 0 0117.416 0h-4.732l-.008 19.29c-.079 2.16-1.827 3.895-3.969 3.895-.665 0-1.292-.17-1.845-.465a4.06 4.06 0 01-2.132-3.582c0-2.23 1.785-4.046 3.977-4.046.41 0 .802.07 1.174.187v-4.913a8.618 8.618 0 00-1.174-.087C3.907 10.28 0 14.254 0 19.14a8.898 8.898 0 003.718 7.255A8.557 8.557 0 008.708 28c4.803 0 8.71-3.974 8.71-8.86V9.357A11.12 11.12 0 0024 11.51V6.696a6.47 6.47 0 01-3.586-1.083z",fill:"#E7E7EC"})))};var w,_;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},y.apply(this,arguments)}const E=function(e){return l.createElement("svg",y({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),w||(w=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16A8 8 0 108 0a8 8 0 000 16z",fill:"#FE2C55"})),_||(_=l.createElement("path",{d:"M4 7.5a1 1 0 000 1.415l2.342 2.28a1 1 0 001.415 0l.008-.008 4.65-4.772A1 1 0 0011 5L7.05 9.073 5.414 7.5A1 1 0 004 7.5z",fill:"#fff"})))};var b;function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},C.apply(this,arguments)}const k=function(e){return l.createElement("svg",C({width:9,height:9,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),b||(b=l.createElement("path",{d:"M8.805 1.471A.667.667 0 107.862.53L4.667 3.724 1.47.529a.667.667 0 10-.942.942l3.195 3.196L.529 7.862a.667.667 0 00.942.943l3.196-3.196 3.195 3.196a.667.667 0 10.943-.943L5.609 4.667 8.805 1.47z",fill:"#fff"})))};const N=new(n(32059).hD)({changeThemeSetting:{eventName:"change_theme_setting",params:{theme:"light",enter_from:""}},themeSettingGuideConfirm:{eventName:"theme_setting_guide_confirm",params:{theme:"light"}},themeSettingGuideShow:{eventName:"theme_setting_guide_show",params:{theme:"light"}}}),T="JHraiF99",S="EtCcWLb5",I="nG9kzwxB",L="lMuW5qkn",x="HMJIOD8d",P="gnfYyz1O",D="tVgaIByW",M="Kx8aac8K",B="_8fqldc6",A="aB450Cfo",O="_BdQ0DrR",W="fwYhOTEP",R="FAiirZle",F="CuCn9bOg",V="L0BGw3mC";var U=n(34559),G=n(36861);const H=e=>{var t;(null===(t=document.cookie.match(/theme=(\w+);/g))||void 0===t?void 0:t.length)>1&&c.Q.removeItem(p.CookieKeys.Theme,"/"),c.Q.setItem(p.CookieKeys.Theme,e?p.ThemeValues.Dark:p.ThemeValues.Light,p.COOKIE_DEFAULT_EXPIRE_DURATION,"/",p.COOKIE_DOMAIN,"",!0)},j=e=>{const t="dark",n=document.documentElement,o=document.getElementById("dark");var r,a,l;e?null==n||null===(r=n.setAttribute)||void 0===r||r.call(n,t,"true"):(null==n||null===(a=n.removeAttribute)||void 0===a||a.call(n,t),null==o||null===(l=o.removeAttribute)||void 0===l||l.call(o,"id"))},Z=e=>{let{TipComponent:t,isXiguaDomain:n}=e;const o=c.Q.getItem({sKey:p.CookieKeys.Theme}),r=u.Dr(o)===p.ThemeValues.Dark,[a,i]=(0,l.useState)(r),[g,f]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{var e,t;const n=document.documentElement;null==n||null===(e=n.setAttribute)||void 0===e||e.call(n,"switch-theme",""),null==n||null===(t=n.setAttribute)||void 0===t||t.call(n,"video-opacity","")}),[]),(0,l.useEffect)((()=>{j(a),n&&document.body.style.setProperty("--color-primary","#fe3355"),d.emit(d.EVENT.changeTheme,{theme:a?p.ThemeValues.Dark:p.ThemeValues.Light})}),[a]),l.createElement(l.Fragment,null,l.createElement(t,{type:"left",showTip:g,tipClassName:F,content:l.createElement(K,{setShowTip:f,isDark:a,setIsDark:i,setThemeCookie:H})},n&&l.createElement(G.e,{text:a?"\u5207\u6362\u6d45\u8272\u5916\u89c2":"\u5207\u6362\u6df1\u8272\u5916\u89c2",isXiguaDomain:n},l.createElement("div",{className:s()(T,{[V]:n}),onClick:()=>{i((e=>(N.sendLog("changeThemeSetting",{theme:e?p.ThemeValues.Light:p.ThemeValues.Dark,enter_from:m.yW()}),H(!e),!e)))}},l.createElement(U.Z,{src:globalThis.getFilterXss().filterUrl(v.Z,null,{logType:"js.href/src",reportOnly:!1}),width:24.7,height:20.3,viewBox:"0 0 22 19",color:"var(--color-text-1)"}))),!n&&l.createElement("div",{className:s()(T),onClick:()=>{i((e=>(N.sendLog("changeThemeSetting",{theme:e?p.ThemeValues.Light:p.ThemeValues.Dark,enter_from:m.yW()}),H(!e),!e)))}},l.createElement(U.Z,{src:globalThis.getFilterXss().filterUrl(h.Z,null,{logType:"js.href/src",reportOnly:!1}),width:24.7,height:20.3,viewBox:"0 0 22 19"}))))},K=e=>{const{isDark:t,setIsDark:n,setShowTip:o,setThemeCookie:r}=e,i=e=>{N.sendLog("themeSettingGuideConfirm",{theme:e?p.ThemeValues.Dark:p.ThemeValues.Light})};return(0,l.useEffect)((()=>{N.sendLog("themeSettingGuideShow",{theme:t?p.ThemeValues.Dark:p.ThemeValues.Light})}),[]),l.createElement("div",{className:S},l.createElement(U.Z,{className:I,onClick:()=>{i(t),r(t),o(!1)},src:globalThis.getFilterXss().filterUrl(k,null,{logType:"js.href/src",reportOnly:!1}),width:9,height:9,viewBox:"0 0 9 9"}),l.createElement("div",{className:L},"\u80cc\u666f\u5207\u6362"),l.createElement("div",{className:x},"\u70b9\u51fb\u300c\u6362\u80a4\u300d\u6309\u94ae\u5207\u6362\u80cc\u666f\u8272"),l.createElement("div",{className:P},l.createElement("div",{className:D},l.createElement("div",{className:M,onClick:()=>{i(!1),n(!1),r(!1),d.emit(d.EVENT.changeTheme,{theme:p.ThemeValues.Light}),a()((()=>{o(!1)}),2e3)}},l.createElement(U.Z,{className:R,src:globalThis.getFilterXss().filterUrl(f,null,{logType:"js.href/src",reportOnly:!1}),width:24,height:28,viewBox:"0 0 24 28"}),l.createElement(U.Z,{className:s()(O,{[W]:t}),src:globalThis.getFilterXss().filterUrl(E,null,{logType:"js.href/src",reportOnly:!1}),width:16,height:16,viewBox:"0 0 16 16"}))),l.createElement("div",{className:A},l.createElement("div",{className:B,onClick:()=>{i(!0),n(!0),r(!0),d.emit(d.EVENT.changeTheme,{theme:p.ThemeValues.Dark}),a()((()=>{o(!1)}),2e3)}},l.createElement(U.Z,{className:R,src:globalThis.getFilterXss().filterUrl(f,null,{logType:"js.href/src",reportOnly:!1}),width:24,height:28,viewBox:"0 0 24 28"}),l.createElement(U.Z,{className:s()(O,{[W]:!t}),src:globalThis.getFilterXss().filterUrl(E,null,{logType:"js.href/src",reportOnly:!1}),width:16,height:16,viewBox:"0 0 16 16"})))))}},5784:(e,t,n)=>{n.d(t,{C:()=>d});var o=n(43500),r=n(79705),a=n.n(r);const l={tooltipWrapper:"NRiH5zYV",tooltip:"BQT1A3Va",left:"Xtzbk1D8",right:"pBQCcTij",top:"mTNC2mtW",bottom:"yGdoJ_A9",icon:"RQ1fJbHb"};var i;function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(this,arguments)}const c=function(e){return o.createElement("svg",s({width:4,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=o.createElement("path",{d:"M0 0a8 8 0 002.168 5.476l1.174 1.25a2 2 0 010 2.738l-1.174 1.25A8 8 0 000 16.19V0z",fill:"#323442"})))};var u=n(34559);const d=e=>{let{type:t="left",hoverShow:n=!1,showTip:r,setShowTip:i,content:s,className:d,tipClassName:m,iconClassName:h,otherHide:v=!0,children:p}=e;const g=(0,o.useRef)(null);return(0,o.useEffect)((()=>{var e;const t=e=>{i(!1)},o=()=>{i(!1)},a=()=>{i(!0)},l=n&&g.current;return l&&(g.current.addEventListener("mouseleave",o),g.current.addEventListener("mouseenter",a)),null===(e=g.current)||void 0===e||e.addEventListener("click",t),r&&i&&v&&(document.addEventListener("scroll",t),document.addEventListener("click",t)),()=>{var e,n,r;(document.removeEventListener("scroll",t),document.removeEventListener("click",t),null===(e=g.current)||void 0===e||e.addEventListener("click",t),l)&&(null===(n=g.current)||void 0===n||n.removeEventListener("mouseleave",o),null===(r=g.current)||void 0===r||r.removeEventListener("mouseenter",a))}}),[r,n,i]),o.createElement("div",{className:a()(l.tooltipWrapper,d),ref:g},Boolean(r)&&o.createElement("div",{className:a()(l.tooltip,l[t],m)},o.createElement(u.Z,{width:4,height:17,src:globalThis.getFilterXss().filterUrl(c,null,{logType:"js.href/src",reportOnly:!1}),className:a()(l.icon,l[t],h),viewBox:"0 0 4 17"}),s),p)}},15605:(e,t,n)=>{n.d(t,{F:()=>b});var o=n(65146),r=n(21805),a=n.n(r),l=n(88438),i=n.n(l),s=n(88677),c=n.n(s),u=n(79705),d=n.n(u),m=n(43500),h=n(2390),v=n(94303);const p="N4KSpGs0",g="Y58u3RjO",f="G8j0DJHl";let w=null,_=null,y=null;const E={text:"",duration:3e3};class b extends m.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{showToast:!1}),(0,o.Z)(this,"mouseCloseFn",(e=>{this.handleCloseToast(),this.destroy(),_=null})),(0,o.Z)(this,"keyboardCloseFn",(e=>{var t;a()(t=["Escape","ArrowUp","ArrowDown"]).call(t,e.key)&&(this.handleCloseToast(),this.destroy(),_=null)}))}static create(e){if(w)return e&&e(w);document.querySelector("#toastContainer")||(y=document.createElement("div"),y.className=p,y.id="toastContainer",document.body.appendChild(y)),h.render(m.createElement(b,{ref:t=>{w=t,e&&e(w)}}),y)}static info(e,t,n){let o={...E};"string"==typeof e?(o.text=e,o.root=(null==t?void 0:t.current)||t):"object"==typeof e&&null!==e&&(o={...E,root:(null==t?void 0:t.current)||t,...e});const r=document.querySelector(".xgplayer-fullscreen-parent");v.r()&&r&&!o.root&&(o.root=r),this.textList.push(o),this.create((e=>{_||e&&e.handleShowToast(n)}))}handleShowToast(e){var t,n;_&&(clearTimeout(_),_=null);const o=b.textList.shift();this.setState({showToast:!0,options:o}),_=i()((()=>{b.textList.length?this.handleCloseToast((()=>{var e;i()(c()(e=this.handleShowToast).call(e,this),50)})):(this.handleCloseToast(),this.destroy()),_=null}),e||o.duration),null===(t=document)||void 0===t||t.addEventListener("keydown",this.keyboardCloseFn),null===(n=y)||void 0===n||n.addEventListener("click",this.mouseCloseFn)}handleCloseToast(e){this.setState({showToast:!1},(()=>e&&e()))}destroy(){var e,t,n;null===(e=document)||void 0===e||e.removeEventListener("keydown",this.keyboardCloseFn),null===(t=y)||void 0===t||t.removeEventListener("click",this.mouseCloseFn),null===(n=y)||void 0===n||n.remove(),w=null}render(){const{showToast:e,options:t}=this.state,n=e&&t&&m.createElement("div",{className:d()(g,t.className,{[f]:v.r()||!t.className&&t.root}),"data-e2e":"toast"},t.text);return m.createElement(m.Fragment,null,t&&t.root?h.createPortal(n,t.root):n)}}(0,o.Z)(b,"textList",[])},36861:(e,t,n)=>{n.d(t,{e:()=>f});var o=n(88438),r=n.n(o),a=n(21805),l=n.n(a),i=n(43500),s=n(2390);const c={tooltipWrapper:"Wn5rJXak",tooltip:"Lf6MwTlM",xiguaTooltip:"DTV6OxM_",icon:"zi4zRGj1",left:"UQZybSAr",right:"NgpOGWLI",top:"a5rCXbcN",bottom:"p0ESuZn8"};var u;function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(this,arguments)}const m=function(e){return i.createElement("svg",d({width:4,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u||(u=i.createElement("path",{d:"M0 0a8 8 0 002.168 5.476l1.174 1.25a2 2 0 010 2.738l-1.174 1.25A8 8 0 000 16.19V0z",fill:"#323442"})))};var h,v=n(34559),p=n(79705),g=n.n(p);!function(e){e.left="top",e.right="top",e.top="left",e.bottom="left"}(h||(h={}));const f=e=>{const{type:t="left",text:n,offsetArrow:o,offsetContainer:a,className:u,children:d,isXiguaDomain:p}=e,[f,w]=(0,i.useState)({width:0,height:0}),[_,y]=(0,i.useState)(t),[E,b]=(0,i.useState)(!1),[C,k]=(0,i.useState)({}),[N,T]=(0,i.useState)(o),S=(0,i.useRef)(null),I=(0,i.useRef)(),L=(0,i.useRef)(null),x=function(){clearTimeout(L.current),L.current=r()((()=>{b(!1)}),200)},P=(0,i.useCallback)((()=>{var e,n,o,r;if(!S.current)return{};const{x:i,y:s,width:c,height:u}=I.current.getBoundingClientRect();let d=i,m=s;const h=(f.width-c)/2,v=(f.height-u)/2;if(l()(e=["left","right"]).call(e,t)){switch(t){case"left":d-=f.width+10;break;case"right":d+=c+10}m+="number"==typeof a?a:-v}else if(l()(n=["top","bottom"]).call(n,t)){switch(t){case"top":m-=f.height+10;break;case"bottom":m+=u+10}d+="number"==typeof a?a:-h}const{top:p,left:g,right:w,bottom:_}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=window.innerWidth,a=window.innerHeight;return{left:e<0?e:0,top:t<0?t:0,right:e+n>r?r-e-n:0,bottom:t+o>a?a-t-o:0}}(d,m,f.width,f.height);return y(t),l()(o=["left","right"]).call(o,t)?(p&&(m-=p),_&&(m+=_),g&&!w&&(d+=f.width+20+c,y("right")),w&&!g&&(d-=f.width+20+c,y("left"))):l()(r=["top","bottom"]).call(r,t)&&(g&&(T(g),d-=g),w&&(T(w),d+=w),p&&!_&&(m+=f.height+20+u,y("bottom")),_&&!p&&(m-=f.height+20+u,y("top"))),{...C,left:"".concat(d,"px"),top:"".concat(m,"px")}}),[C,f]),D=(0,i.useCallback)((()=>{const e=i.Children.only(d);return i.cloneElement(e,{onMouseEnter:e=>{clearTimeout(L.current),b(!0),I.current||(I.current=e.target),k(P())},onMouseLeave:()=>{x()}})}),[f]);return(0,i.useEffect)((()=>{const e=e=>{E&&k(P())};return document.addEventListener("scroll",e,!0),()=>{document.removeEventListener("scroll",e,!0)}}),[P]),(0,i.useEffect)((()=>{S.current&&w(S.current.getBoundingClientRect())}),[E]),(0,i.useEffect)((()=>{I.current&&k(P())}),[f]),i.createElement(i.Fragment,null,E&&s.createPortal(i.createElement("div",{ref:S,style:{position:"fixed",...C},onMouseEnter:e=>{clearTimeout(L.current)},onMouseLeave:()=>{x()},className:g()(c.tooltip,c[t],u,{[c.xiguaTooltip]:p})},i.createElement(v.Z,{width:4,height:17,src:globalThis.getFilterXss().filterUrl(m,null,{logType:"js.href/src",reportOnly:!1}),style:{[h[_]]:N&&"calc(50% - ".concat(N,"px)")},className:g()(c.icon,c[_]),viewBox:"0 0 4 17"}),i.createElement("span",{className:""},n)),document.body),D())}},90491:(e,t,n)=>{n.d(t,{l:()=>Oe});var o=n(94610),r=n.n(o),a=n(59440),l=n.n(a),i=n(43500),s=n(2390),c=n(86719),u=n(21849),d=n(80492),m=n(85011),h=n(29160),v=n(50403);const p="MUKuSCkv",g="jv4yd5Yt",f="zQNIhOVG",w="CudCvVQo",_="IwOLc57Y",y="N20XIgh6",E="jEMVfIEz",b="RbvzkD8x",C="R8FbV9Ep";var k;function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},N.apply(this,arguments)}const T=function(e){return i.createElement("svg",N({width:17,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k||(k=i.createElement("path",{d:"M8.5.9C5.735.9 3.478 2.951 3.478 5.5v2.259C2.053 7.807.9 8.88.9 10.214v6.429c0 1.365 1.208 2.457 2.678 2.457h9.844c1.47 0 2.678-1.092 2.678-2.457v-6.429c0-1.334-1.153-2.407-2.578-2.455V5.5c0-2.549-2.257-4.6-5.022-4.6zM5.084 7.757V5.5c0-1.712 1.521-3.114 3.416-3.114s3.416 1.402 3.416 3.114v2.257H5.084zm9.41 2.457v6.429c0 .528-.471.971-1.072.971H3.578c-.6 0-1.072-.443-1.072-.971v-6.429c0-.528.472-.971 1.072-.971h9.844c.6 0 1.072.443 1.072.971z",fill:"#2F3035",stroke:"#2F3035",strokeWidth:.2,strokeLinecap:"round",strokeLinejoin:"round"})))};var S,I=n(12895);!function(e){e.OnlineStateList="online_state_list",e.FriendList="friend_list"}(S||(S={}));const L=[{key:h.fJ.FRIEND_CAN_SEE,title:"\u5168\u90e8\u53ef\u89c1",value:1},{key:h.fJ.PART_FRIEND_CAN_SEE,title:"\u90e8\u5206\u4eba\u53ef\u89c1",value:2,hasCount:!0,count:0,selectFriend:!0},{key:h.fJ.PART_FRIEND_CAN_NOT_SEE,title:"\u4e0d\u7ed9\u8c01\u770b",value:3,hasCount:!0,count:0,selectFriend:!0},{key:h.fJ.CLOSE_FRIEND_CAN_SEE,title:"\u5bc6\u53cb\u53ef\u89c1",extraText:"(\u8bbe\u7f6e\u5bc6\u53cb\u8bf7\u524d\u5f80app\u7aef\u8fdb\u884c\u64cd\u4f5c)",value:4,disabled:!0}];var x=n(79705),P=n.n(x),D=n(56022),M=n(40767),B=n(82125),A=n(62638);const O="UzQgt7ss",W="IFDObXDq",R="C5hy1t05",F="BSAZIM9q",V="u9yuJ5pW",U="EM3YnRB_",G="FUr7WICQ",H="T10NCc_3",j="gA5QKlfe",Z="ryZlk3nV",K="R3kS2a0_",Y="aJYWPJVe",q="a0aBcR_e";var z;function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},X.apply(this,arguments)}const Q=function(e){return i.createElement("svg",X({width:23,height:23,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),z||(z=i.createElement("circle",{cx:11.5,cy:11.5,r:10.285,fill:"#13C15A",stroke:"#F7F7F9",strokeWidth:1.571})))};var J,$=n(87813),ee=n(66331);function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},te.apply(this,arguments)}const ne=function(e){return i.createElement("svg",te({width:8,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),J||(J=i.createElement("path",{d:"M1.3 14.3L6.7 8 1.3 1.7",stroke:"#2F3035",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))};function oe(e){var t;const{className:n,onlineState:o,onlineStateList:a,handleEnterIconClick:l,onOnlineStateChange:s,disabled:c,selfAvatar:u}=e;return i.createElement("div",{className:n},i.createElement("div",{className:O},i.createElement(ee.a,{className:W,href:globalThis.getFilterXss().filterUrl("https://www.douyin.com/user/".concat(null===(t=B.$o(A.LocalStorageKeys.UserInfo))||void 0===t?void 0:t.uid),null,{logType:"js.href/src",reportOnly:!1})},i.createElement($.q,{className:R,src:globalThis.getFilterXss().filterUrl(u,null,{logType:"js.href/src",reportOnly:!1}),isSpider:!1,isSelf:!0}),i.createElement(Q,{className:P()(F,{[V]:Boolean(o!==h.fJ.CLOSE_ACTIVE_STATUS)})})),i.createElement("div",{className:U},i.createElement("p",{className:G},"\u5728\u7ebf\u72b6\u6001"),i.createElement("p",null,"\u5f00\u542f\u540e\uff0c\u4e92\u5173\u597d\u53cb\u53ef\u4ee5\u5728\u79c1\u4fe1\u3001\u901a\u77e5\u3001\u5206\u4eab\u7b49\u9875\u9762\u770b\u5230\u4f60\u7684\u6d3b\u8dc3\u72b6\u6001\u3002"),i.createElement("p",null,"\u53ef\u5728PC\u7aef\u201c\u9690\u79c1\u8bbe\u7f6e\u201d\u4e2d\u66f4\u6539\uff0c\u4e5f\u53ef\u5728APP\u7aef\u201c\u8bbe\u7f6e\u201d-\u201c\u9690\u79c1\u8bbe\u7f6e\u201d\u4e2d\u66f4\u6539\u3002"))),i.createElement("div",{className:H},i.createElement("span",null,"\u5c55\u793a\u5728\u7ebf\u72b6\u6001"),i.createElement(D.r,{disabled:c,checked:Boolean(o!==h.fJ.CLOSE_ACTIVE_STATUS),onChange:()=>{s(o===h.fJ.CLOSE_ACTIVE_STATUS?h.fJ.FRIEND_CAN_SEE:h.fJ.CLOSE_ACTIVE_STATUS)}})),i.createElement(M.Y.Group,{defaultValue:o,onChange:(e,t)=>{s(Number(t))}},i.createElement("ul",{className:j},r()(a).call(a,(e=>i.createElement("li",{key:e.key,className:P()(Z),onClick:()=>{!c&&o===e.key&&e.selectFriend&&l(e.key)}},i.createElement(M.Y,{value:e.key,className:K,disabled:c||e.disabled},i.createElement("span",{className:Y},i.createElement("span",null,e.title,e.count?" \xb7 ".concat(e.count,"\u4eba"):"",e.extraText&&i.createElement("span",{className:q},e.extraText)),e.selectFriend&&i.createElement("span",{onClick:t=>{t.stopPropagation(),l(e.key)},style:{width:32,textAlign:"right"}},i.createElement(ne,null))))))))))}var re=n(92637),ae=n.n(re),le=n(62310),ie=n.n(le),se=n(21805),ce=n.n(se),ue=n(92012),de=n.n(ue),me=n(57533);const he="mh6EUXQA",ve="W072p8cd",pe="jfItQa6C",ge="jwKMKLjP",fe="omyorfCl",we="qWvQZ8l5",_e="drDrSRWO",ye="ApWZuofw",Ee="T43Dz0AZ",be="DKigDUP3",Ce="KEqsx3IV";var ke;function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ne.apply(this,arguments)}const Te=function(e){return i.createElement("svg",Ne({width:8,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ke||(ke=i.createElement("path",{d:"M7 1L1 8l6 7",stroke:"#2F3035",strokeOpacity:.4,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))};var Se;function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ie.apply(this,arguments)}const Le=function(e){return i.createElement("svg",Ie({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Se||(Se=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 .333a5.667 5.667 0 103.237 10.319l2.723 2.722a1 1 0 001.414-1.414l-2.722-2.723A5.667 5.667 0 006 .333zM2.333 6a3.667 3.667 0 117.334 0 3.667 3.667 0 01-7.333 0z",fill:"#2F3035",fillOpacity:.4})))};var xe,Pe=n(99673);!function(e){e[e.FollowEachOtherStatus=2]="FollowEachOtherStatus"}(xe||(xe={}));let De=0;function Me(e){const{className:t,handleBackClick:o,handleCompleteClick:a,selectedUserList:s,title:u}=e,[d,m]=(0,i.useState)(!0),[h,v]=(0,i.useState)(""),[p,g]=(0,i.useState)([...s]),[f,w]=(0,i.useState)([]),{data:_,run:y}=(0,c.ZP)((()=>Promise.all([n.e(4785),n.e(9707),n.e(8295),n.e(6780)]).then(n.bind(n,64620)).then((e=>{var t,n,o;let{getAllFriendInfoList:a}=e;return null==a||null===(t=a())||void 0===t||null===(n=ae()(t).call(t,(e=>e.follow_status===xe.FollowEachOtherStatus)))||void 0===n||null===(o=r()(n).call(n,(e=>{var t,n,o;return{uid:e.sec_uid,avatarSrc:null===(t=e.avatar_small)||void 0===t||null===(n=t.url_list)||void 0===n?void 0:n[0],nickName:null!==(o=e.remark_name)&&void 0!==o?o:e.nickname}})))||void 0===o?void 0:ie()(o).call(o,((e,t)=>!ce()(p).call(p,e.uid)&&ce()(p).call(p,t.uid)?1:ce()(p).call(p,e.uid)&&!ce()(p).call(p,t.uid)?-1:0))})).then((e=>(w(null!=e?e:[]),e)))),{auto:!0}),E=e=>{var t,n;if(!h)return;v("");const o=de()(t=ae()(n=r()(e).call(e,(e=>l()(_).call(_,(t=>t.uid===e))))).call(n,(e=>e))).call(t,ae()(_).call(_,(t=>!ce()(e).call(e,t.uid))));w(o)};return(0,i.useEffect)((()=>m(0===p.length)),[p]),i.createElement("div",{className:P()(t,he)},i.createElement("div",{className:ve},i.createElement("span",{style:{width:32,cursor:"pointer"},onClick:o},i.createElement(Te,null)),i.createElement("span",{className:pe,onClick:()=>{De+=1,De>=5&&(De=0,a([]))}},u)),i.createElement("div",{className:ge},i.createElement(Le,null),i.createElement("input",{placeholder:"\u641c\u7d22",value:h,onChange:e=>{const t=e.target.value;if(v(t),t){const e=ae()(_).call(_,(e=>{var n;return ce()(n=e.nickName).call(n,t)}));w(e)}else w(_)}})),f.length?i.createElement("ul",{className:fe},r()(f).call(f,(e=>i.createElement("li",{className:we,key:e.uid,onClick:()=>(e=>{if(ce()(p).call(p,e))return g((t=>ae()(t).call(t,(t=>t!==e)))),void E(ae()(p).call(p,(t=>t!==e)));g((t=>de()(t).call(t,e))),E([e,...p])})(e.uid)},i.createElement("div",{className:_e},i.createElement($.q,{className:ye,src:globalThis.getFilterXss().filterUrl(e.avatarSrc,null,{logType:"js.href/src",reportOnly:!1}),isSpider:!1,isSelf:!0}),i.createElement("span",null,e.nickName)),i.createElement(me.X,{checked:ce()(p).call(p,e.uid)}))))):i.createElement("div",{className:Ce,onClick:()=>y()},"\u6682\u65e0\u5217\u8868\uff0c\u70b9\u51fb\u5237\u65b0"),i.createElement("div",{className:Ee},i.createElement(Pe.zx,{disabled:d,className:P()(be),onClick:()=>{a(p)}},"\u5b8c\u6210",p.length?"\uff08".concat(p.length,"\uff09"):"")))}var Be=n(15605);const Ae=e=>{var t,n;const{portalRef:o,from:a}=e,{config:k,setConfig:N}=(0,u.K)(),{run:x,loading:P}=(0,c.ZP)(N,{auto:!1}),[D,M]=(0,i.useState)(S.OnlineStateList),[B,A]=(0,i.useState)(h.fJ.NONE);(0,i.useEffect)((()=>{d.i.sendLog("onlinePrivacyShow",{enter_method:a})}),[a]);const O=r()(L).call(L,(e=>{const t={...e};var n,o;t.key===h.fJ.PART_FRIEND_CAN_SEE&&(t.count=(null==k||null===(n=k.visible_list)||void 0===n?void 0:n.length)||0);t.key===h.fJ.PART_FRIEND_CAN_NOT_SEE&&(t.count=(null==k||null===(o=k.invisible_list)||void 0===o?void 0:o.length)||0);return t})),{data:W}=(0,c.ZP)((()=>(0,v.UQ)()),{auto:!0});return i.createElement(I.T,null,i.createElement("div",{className:p},i.createElement("div",{className:g},i.createElement("span",{className:f},"\u8bbe\u7f6e"),i.createElement(m.Z,{className:w,onClick:()=>{s.unmountComponentAtNode(o),o.remove()}})),i.createElement("div",{className:_},i.createElement("ul",{className:y},i.createElement("li",{className:E},i.createElement(T,{className:b}),i.createElement("span",null,"\u9690\u79c1\u8bbe\u7f6e"))),D===S.OnlineStateList&&i.createElement(oe,{className:C,onlineState:null==k?void 0:k.status_switch,onlineStateList:O,onOnlineStateChange:e=>{var t,n;let o="";switch(e){case h.fJ.FRIEND_CAN_SEE:o="all_visible";break;case h.fJ.PART_FRIEND_CAN_SEE:o="part_visible";break;case h.fJ.PART_FRIEND_CAN_NOT_SEE:o="part_invisible";break;case h.fJ.CLOSE_FRIEND_CAN_SEE:o="close_visible"}return d.i.sendLog("onlinePrivacyClick",{action:o}),e===h.fJ.PART_FRIEND_CAN_SEE&&0===(null==k||null===(t=k.visible_list)||void 0===t?void 0:t.length)?(M(S.FriendList),void A(h.fJ.PART_FRIEND_CAN_SEE)):e===h.fJ.PART_FRIEND_CAN_NOT_SEE&&0===(null==k||null===(n=k.invisible_list)||void 0===n?void 0:n.length)?(M(S.FriendList),void A(h.fJ.PART_FRIEND_CAN_NOT_SEE)):void x({status_switch:e}).then((()=>{Be.F.info("\u8bbe\u7f6e\u6210\u529f")}))},handleEnterIconClick:e=>{A(e),M(S.FriendList)},disabled:P,selfAvatar:null==W||null===(t=W.user)||void 0===t?void 0:t.avatarUrl}),D===S.FriendList&&i.createElement(Me,{title:null===(n=l()(L).call(L,(e=>e.key===B)))||void 0===n?void 0:n.title,className:C,selectedUserList:B===h.fJ.PART_FRIEND_CAN_SEE?null==k?void 0:k.visible_list:null==k?void 0:k.invisible_list,handleCompleteClick:e=>{x({status_switch:B,user_list:e}).then((()=>M(S.OnlineStateList))).then((()=>{Be.F.info("\u8bbe\u7f6e\u6210\u529f")}))},handleBackClick:()=>{M(S.OnlineStateList)}}))))};function Oe(e,t){const n=document.createElement("div");let o=document.body;var r;t?(o=t,null==t||t.appendChild(n)):null===(r=o)||void 0===r||r.appendChild(n);s.render(i.createElement(Ae,{portalRef:n,...e}),n)}},44685:(e,t,n)=>{n.d(t,{C:()=>o});const o=(0,n(43500).createContext)({})},99728:(e,t,n)=>{n.r(t),n.d(t,{ABtestContext:()=>o.C,useDispatch:()=>l,user:()=>r});var o=n(44685),r=n(65192),a=n(43500);function l(e,t){let{reducer:n,initialData:o,effect:r}=e;const[l,i]=(0,a.useReducer)((s=n,(e,t)=>{if(!s[t.type])throw new Error("No Action Handler:".concat(t.type));return s[t.type](e,t.payload)}),t||o);var s;return[l,async e=>{if(!r[e.type])throw new Error("No Effect Handler:".concat(e.type));return r[e.type](e,i,l)}]}},65192:(e,t,n)=>{n.r(t),n.d(t,{Context:()=>l,reducer:()=>i,effect:()=>s,initialData:()=>c});var o=n(43500),r=n(32059),a=n(90533);const l=(0,o.createContext)(null),i={setUserInfo:(e,t)=>{var n;return(0,r.D$)(null==t||null===(n=t.userInfo)||void 0===n?void 0:n.uid,null==t?void 0:t.isLogin),{...e,isLogin:t.isLogin,info:t.userInfo,statusCode:t.statusCode}}},s={updateUserInfo:async(e,t,n)=>{var o;const{isLogin:r,user:l,statusCode:i}=await a.b();return r===(null==n?void 0:n.isLogin)&&(null==l?void 0:l.uid)===(null==n||null===(o=n.info)||void 0===o?void 0:o.uid)?n:(t({type:"setUserInfo",payload:{...n,userInfo:l,isLogin:r,statusCode:i}}),{...n,isLogin:r,user:l})}},c={isLogin:void 0,isSpider:!1,info:{},webcastInfo:{},statusCode:0}},23780:(e,t,n)=>{n.d(t,{O:()=>o,x:()=>y});var o,r=n(62310),a=n.n(r),l=n(67827),i=n.n(l),s=n(81711),c=n.n(s),u=n(57617),d=n.n(u),m=n(43500),h=n(15605),v=n(32385),p=n(62638),g=n(16866),f=n(34022),w=n(13792),_=n(53539);!function(e){e.LogTrace="87A38998227CBBC23DCAD51CD7F76AB2",e.UserInfo="87A38998227CBBC23DCAD51CD7F76AB2_user_beta"}(o||(o={}));const y=()=>{const[e,t]=(0,m.useState)([]),n=e=>{var t;const n=window.localStorage.getItem(null==v||null===(t=p)||void 0===t?void 0:t.LOG_TRACE)||"";if(n){const t=JSON.parse(n),r=(o=t,a()(o).call(o,((e,t)=>new Date(t.time).getTime()-new Date(e.time).getTime()))),l=i()(r);e&&e({logTraceStr:l,logTraceJSON:r})}var o};return(0,m.useEffect)((()=>{try{n((e=>{let{logTraceJSON:n}=e;t(n)}))}catch(e){}}),[]),[e,async e=>{const{key:t=o.LogTrace}=e||{};try{const e=g.Q.getItem({sKey:p.CookieKeys.MonitorWebId})||"",b=g.Q.getItem({sKey:p.CookieKeys.MonitorDeviceId})||"",C=(await(0,f.d)()||[]).join(",");if(t===o.LogTrace)n((t=>{let{logTraceJSON:n}=t;const o={};c()(n).call(n,(t=>{o[null==t?void 0:t.url]||(o[null==t?void 0:t.url]=[]),o[null==t?void 0:t.url].push({...t,monitorWebId:e,monitorDeviceId:b,abTestVids:C})}));const r=i()(o);w.J(r),h.F.info("\u5df2\u590d\u5236\u8c03\u8bd5\u4fe1\u606f\u5230\u526a\u5207\u677f")}));else if(t===o.UserInfo){var r,a,l,s,u,m,v,y,E;const t=0===d()((null===(r=window)||void 0===r?void 0:r.SSR_RENDER_DATA)||{}).length?null===(a=window)||void 0===a?void 0:a.SSR_RENDER_DATA:null===(l=window)||void 0===l?void 0:l.SSR_RENDER_DATA_DOC,n={version:null===(s=window)||void 0===s?void 0:s.version,ab:C,slardar:null===(u=window)||void 0===u||null===(m=u.slardar)||void 0===m||null===(v=m.config)||void 0===v?void 0:v.call(m),odin:_.Es(),ssr:t,uuid:null===(y=_.Es())||void 0===y?void 0:y.user_unique_id,uid:null===(E=_.Es())||void 0===E?void 0:E.user_id,wid:e,did:b};w.J(i()(n)),h.F.info("\u5df2\u590d\u5236\u8c03\u8bd5\u4fe1\u606f\u5230\u526a\u5207\u677f")}}catch(b){h.F.info("\u8c03\u8bd5\u4fe1\u606f\u590d\u5236\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}}]}},37160:(e,t,n)=>{n.d(t,{P:()=>l});var o=n(88438),r=n.n(o),a=n(43500);function l(){let{delayDisappear:e=200,delayShow:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[n,o]=(0,a.useState)(""),l=(0,a.useRef)(0),i=(0,a.useRef)(0),s=function(e){clearTimeout(l.current),t?i.current=r()((()=>{o(e)}),t):o(e)},c=function(){l.current=r()((()=>{o("")}),e),clearTimeout(i.current)},u=function(e,t){t?o(e):e?s(e):c()},d=()=>clearTimeout(i.current),m=()=>clearTimeout(l.current);return{type:n,setType:o,changeType:u,showTimer:i,disappearTimer:l,clearShowTimer:d,clearDisappearTimer:m}}},38765:(e,t,n)=>{n.d(t,{U:()=>i});var o=n(88438),r=n.n(o),a=n(54805),l=n(43500);function i(e){let{enterDelay:t=0,leaveDelay:n=200,onMouseEnter:o,onMouseLeave:i}=e;const s=(0,l.useRef)(),c=(0,a.Z)((function(e){let{immediate:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{immediate:!1};window.clearTimeout(s.current),n||0===t?o(e):s.current=r()((()=>{o(e)}),t)})),u=(0,a.Z)((function(e){let{immediate:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{immediate:!1};window.clearTimeout(s.current),(t||0===n)&&(null==i||i(e)),s.current=r()((()=>{null==i||i(e)}),n)}));return(0,l.useEffect)((()=>()=>{window.clearTimeout(s.current)}),[]),{onMouseEnter:c,onMouseLeave:u}}},96460:(e,t,n)=>{n.d(t,{o:()=>m});var o=n(70995),r=n.n(o),a=n(43500),l=n(92539),i=n(89187),s=n(87579),c=n(41304),u=n(56681),d=n(909);const m=(e,t,n,o)=>{var m;const h=(0,l.k6)(),v=null==h||null===(m=h.location)||void 0===m?void 0:m.pathname,p=(0,d.j)();return{isHorizontalLayout:(0,a.useMemo)((()=>(!(v&&s.HD(v)&&r()(v).call(v,"/zhuanti/"))||n!==i.ZhuanTiSidebar.Off&&!0!==o&&!c._Q())&&((e,t,n,o)=>n?new RegExp("^/user/self/?$").test(e)?o:new RegExp(u.JO).test(e):t===i.HasHorizontalHeader.FullScene?new RegExp(u.jc).test(e):t===i.HasHorizontalHeader.OnlySearchScene||t===i.HasHorizontalHeader.OnlySearchSceneAndRemoveRightColumn?new RegExp(u.XR).test(e):new RegExp(u.jZ).test(e))(v,null!=e?e:i.HasHorizontalHeader.Default,t,p)),[v,e,t,p,n,o])}}},33685:(e,t,n)=>{n.d(t,{L:()=>c});var o=n(82371),r=n.n(o),a=n(43500),l=n(41808),i=n(18464),s=n(82229);const c=(e,t,n)=>{const[o,c]=(0,a.useState)(n),u=(0,a.useMemo)((()=>l.RF(t,o)),[o,t]);return(0,a.useEffect)((()=>{if(!r()(n))return;let t=!1;return(async()=>{const n=await i.U2({key:s.TccKey.PageGrayscale,defaultValue:s.TCC_DEFAULT_VALUE_MAP.get(s.TccKey.PageGrayscale),namespace:e});!t&&c(n)})(),()=>{t=!0}}),[]),u}},28569:(e,t,n)=>{n.d(t,{L:()=>a});var o=n(43500),r=n(53539);function a(){const e=(0,o.useRef)(null);return{setModalCardInfo:()=>{e.current=r.Le.getConfig(r.gI.PlayerCardInfo),r.Le.setConfig(r.gI.PlayerCardInfo,{cardType:"chat",isActive:!0})},restoreModalCardInfo:()=>{e.current&&(r.Le.setConfig(r.gI.PlayerCardInfo,{...e.current}),e.current=null)}}}},90827:(e,t,n)=>{n.d(t,{s:()=>p});var o=n(65146),r=n(99860),a=n.n(r),l=n(81711),i=n.n(l),s=n(84891),c=n.n(s),u=n(41265),d=n.n(u),m=n(92637),h=n.n(m),v=n(4706);const p=new class{constructor(){(0,o.Z)(this,"playerMap",void 0),(0,o.Z)(this,"playerSceneMap",void 0),(0,o.Z)(this,"playerCbMap",void 0),(0,o.Z)(this,"playerEntryMap",void 0),(0,o.Z)(this,"playerPageFullscreenMap",void 0),(0,o.Z)(this,"playerRegisterList",void 0),this.playerMap=new(a()),this.playerCbMap=new(a()),this.playerSceneMap=new(a()),this.playerEntryMap=new(a()),this.playerPageFullscreenMap=new(a()),this.playerRegisterList=[]}get lastRegisterPlayerId(){return this.playerRegisterList[this.playerRegisterList.length-1]}register(e){const{player:t,scene:n}=e,o=t.playerId;this.playerMap.set(o,t),this.playerSceneMap.set(o,n),this.playerRegisterList.push(o);const r=this.playerCbMap.get(v.Lw.OnRegister);return(null==r?void 0:r.length)>0&&i()(r).call(r,(e=>{null==e||e({scene:n,playerId:o})})),o}unRegister(e){var t,n;const{id:o}=e;if(void 0===o)return!1;const r=this.playerSceneMap.get(o),a=this.playerCbMap.get(v.Lw.OnUnRegister);(null==a?void 0:a.length)>0&&i()(a).call(a,(e=>{null==e||e({scene:r,playerId:o})}));const l=this.playerMap.delete(o);this.playerSceneMap.delete(o),this.playerEntryMap.delete(o),this.playerPageFullscreenMap.delete(o);const s=c()(t=this.playerRegisterList).call(t,(e=>e===o));return s>-1&&d()(n=this.playerRegisterList).call(n,s,1),l}getPlayer(e){return this.playerMap.get(e)||null}getPlayerScene(e){return this.playerSceneMap.get(e)}getPlayersByScene(e){var t;return h()(t=this.getAllPlayer()).call(t,(t=>this.getPlayerScene(t.playerId)===e))}getAllPlayer(){var e;const t=[];return i()(e=this.playerMap).call(e,(e=>t.push(e))),t}setPlayerCardEntry(e){const{id:t,info:n}=e;return!!this.playerMap.get(t)&&(this.playerEntryMap.set(t,n),!0)}getPlayerCardEntry(e){const{cardEntry:t}=this.playerEntryMap.get(e)||{};return t}pauseOtherPlayer(e){var t;i()(t=this.playerMap).call(t,(t=>{var n;t.playerId!==e&&(null===(n=t.pause)||void 0===n||n.call(t))}))}addCb(e){const{event:t,cb:n}=e,o=this.playerCbMap.get(t);return o?o.push(n):this.playerCbMap.set(t,[n]),()=>{this.removeCb(e)}}removeCb(e){const{event:t,cb:n}=e,o=this.playerCbMap.get(t);if(!o)return;const r=c()(o).call(o,(e=>e===n));r>-1&&d()(o).call(o,r,1)}setPageFullscreen(e){const{playerId:t,isPageFullscreen:n}=e,o=this.playerPageFullscreenMap.get(t)||{isPageFullscreen:!1};o.isPageFullscreen=n,this.playerPageFullscreenMap.set(t,o)}getPlayerIsPageFullscreen(e){var t;return(null===(t=this.playerPageFullscreenMap.get(e))||void 0===t?void 0:t.isPageFullscreen)||!1}getIsPageFullscreen(){var e;let t=!1;return i()(e=this.playerPageFullscreenMap).call(e,(e=>{e.isPageFullscreen&&(t=!0)})),t}}},30517:(e,t,n)=>{n.d(t,{j1:()=>S,pL:()=>I,Q4:()=>L,gE:()=>x});var o=n(80051),r=n.n(o),a=n(92012),l=n.n(a),i=n(21805),s=n.n(i),c=n(88438),u=n.n(c),d=n(42699),m=n(67948),h=n(23180),v=n(34022),p=n(89187),g=n(52825),f=n(41304),w=n(53539),_=n(9961),y=n(56580),E=n(94303),b=n(47948),C=n(18380),k=n(34107),N=n(90827);let T=!1;const S=async()=>{const e=Promise.all([n.e(9572),n.e(7137)]).then(n.bind(n,57137));await(async()=>{const e=await Promise.all([n.e(5829),n.e(7727)]).then(n.bind(n,95829)).then((e=>e.default));T||(e.use(),T=!0)})();const[t]=await r().all([e]);return t.default},I=()=>{var e,t,n;return d.p()?"":l()(e="".concat(null==m?void 0:h.tJ)).call(e,null===(t=window)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.host)},L=async()=>{var e;const[t,n]=await r().all([v.h.getVar({name:"short_link_login_new",defaultValue:0}),v.h.getVar({name:"longtask_opt",defaultValue:p.LongtaskOpt.Default})]);let o={};return s()(e=[p.LongtaskOpt.FirstScreenOpt,p.LongtaskOpt.PremierActiveStableTotal,p.LongtaskOpt.PremierActiveTotal]).call(e,n)&&(o={slardar:{plugins:{fmp:!1,tti:!1}}}),{appName:"\u6296\u97f3 Web \u7ad9",aid:6383,isFrontier:!0,frontierUrl:h.uZ?"":"wss://frontier100-normal.zijieapi.com",isStopCheckWhenHide:!0,isBoe:h.uZ,mobileCodeLength:6,isOversea:!1,globalMobileSupport:!0,region:"cn",scope:"sso",captchaHost:g.r0.captchaHost,generalParams:{device_platform:f.HA()},isShortLink:!1,acrawler:h.uZ?0:"1",...o}},x=async e=>{var t,n,o,a;let{success:l,host:i,next:s,ScanCodeDescription:c,enterMethod:g,refreshNumber:f=2,teaEvtParams:T={},videoGuideFunc:S=null,operationCallback:x,scanCodeNeedLogo:P=!1}=e;const D=await L(),[M]=await r().all([v.h.getVar({name:"check_qr_code_delay_time",defaultValue:p.CheckQrCodeDelayTimeABVal.Normal})]);return{...D,scanCodeNeedLogo:P,checkQrCodeDelayTime:M,device_id:null===(t=w.Es())||void 0===t?void 0:t.user_unique_id,slardarContext:{enter_method:g,enter_from:_.vM()||"",page_type:_.yW()||"",delay_time:M.toString()||"0",is_short_link:(null==D?void 0:D.isShortLink.toString())||"false"},refreshNumber:f,teaConfig:{appId:6383,config:{evtParams:{page_type:_.yW()||"",enter_method:g,enter_from:_.vM()||"",url_path:d.p()?"":null===(n=window)||void 0===n||null===(o=n.location)||void 0===o?void 0:o.pathname,is_guide:"1",video_detail_enter_from:y.z("web_link"),previous_page:_.yW("previous_page"),is_active:"0",is_video_guide:"0",is_topknot:"0",is_full_screen:E.r()?"1":"0",is_full_webscreen:N.s.getIsPageFullscreen()?"1":"0",...T},videoGuideFunc:S,ug_source:b.Rs("ug_source"),sem_keyword:b.Rs("sem_keyword"),browser_is_360:C.a2()?"1":"0"}},host:i||(null==m||null===(a=h.k4)||void 0===a?void 0:a.sso)||"https://sso.douyin.com",next:s||I()||"https://www.douyin.com/",loginType:["LOGIN_SCAN_CODE"],ScanCodeDescription:c,operationCallback:x,textConfig:{scanCodeLoginText:{refreshCode:"\u4e8c\u7ef4\u7801\u5df2\u5931\u6548",getCodeFailed:"\u4e8c\u7ef4\u7801\u5df2\u5931\u6548",refreshBtnText:"\u70b9\u51fb\u5237\u65b0",codeFailedBtnText:"\u70b9\u51fb\u5237\u65b0"}},success:e=>{null==l||l(e),u()((()=>{(0,k.tokenBeatInit)()}),800)}}}},7829:(e,t,n)=>{n.d(t,{Z:()=>o});const o={entryImg:"Fl0kqiow",activity:"hxObzeVk",vsTransMode:"o2d9ZsaW",transparent:"yfKWg9Sv",popNum:"cNAhsrSo",PopStyle:"IyJcvQVk",digitsNumberPop:"zMJW4Vx0",numberPoint:"Ri4zG0dK",newCharacterPop:"QrMYjyZV",imLoginGuidePanelWrapper:"S2flOjWR",imLoginGuidePanel:"MYCMYVH1",dropDownListInCenterChange:"t7l_Fkw4",desc:"B5vV1GJY",loginBtn:"llyXa0VC",circleButtonNoText:"lSs8pUz9",polymorphicButton:"FxXQWshl",cicleButtonWithText:"ijmpbxwC",textLink:"w_t2UeQ0",shadowChange:"ajqDqrxY",overflowChange:"nCsrzcNJ",conversationDtailAnimationKeyframes:"PJOQYpeI",dropDownListInNoCenterChange:"yMugd459",showDeleteAllMessageModal:"R4c0llcJ",dropDownListInNoCenterLeftTopChange:"rnhULFrG",dropDownListOutChange:"czkoyWDk"}}}]);